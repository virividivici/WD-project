/*! darwin-project-testprojectname - v1.0.0 */!function(A,d){"use strict";function p(){return["$animate",function(w){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,l,a,c,m){var f,k=l[0],q=a.ngMessage||a.when;a=a.ngMessageExp||a.whenExp;var d=function(a){f=a?x(a)?a:a.split(/[\s,]+/):null,c.reRender()};a?(d(n.$eval(a)),n.$watchCollection(a,d)):d(q);var e,r;c.register(k,r={test:function(a){var g=f;return a=g?x(g)?0<=g.indexOf(a):g.hasOwnProperty(a):void 0},attach:function(){e||m(n,function(a){w.enter(a,null,l),e=a;var g=e.$$attachId=c.getAttachId();e.on("$destroy",function(){e&&e.$$attachId===g&&(c.deregister(k),r.detach())})})},detach:function(){if(e){var a=e;e=null,w.leave(a)}}})}}}]}var x=d.isArray,t=d.forEach,y=d.isString,z=d.element;d.module("ngMessages",[]).directive("ngMessages",["$animate",function(d){function n(a,c){return y(c)&&0===c.length||l(a.$eval(c))}function l(a){return y(a)?a.length:!!a}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,c,m){function k(a,c){for(var b=c,f=[];b&&b!==a;){var h=b.$$ngMessageNode;if(h&&h.length)return e[h];b.childNodes.length&&-1==f.indexOf(b)?(f.push(b),b=b.childNodes[b.childNodes.length-1]):b.previousSibling?b=b.previousSibling:(b=b.parentNode,f.push(b))}}var f=this,q=0,p=0;this.getAttachId=function(){return p++};var r,s,e=this.messages={};this.render=function(g){g=g||{},r=!1,s=g;for(var e=n(c,m.ngMessagesMultiple)||n(c,m.multiple),b=[],q={},h=f.head,k=!1,p=0;null!=h;){p++;var u=h.message,v=!1;k||t(g,function(a,b){!v&&l(a)&&u.test(b)&&!q[b]&&(v=q[b]=!0,u.attach())}),v?k=!e:b.push(u),h=h.next}t(b,function(a){a.detach()}),b.length!==p?d.setClass(a,"ng-active","ng-inactive"):d.setClass(a,"ng-inactive","ng-active")},c.$watchCollection(m.ngMessages||m["for"],f.render),a.on("$destroy",function(){t(e,function(a){a.message.detach()})}),this.reRender=function(){r||(r=!0,c.$evalAsync(function(){r&&s&&f.render(s)}))},this.register=function(g,c){var b=q.toString();e[b]={message:c};var d=a[0],h=e[b];f.head?(d=k(d,g))?(h.next=d.next,d.next=h):(h.next=f.head,f.head=h):f.head=h,g.$$ngMessageNode=b,q++,f.reRender()},this.deregister=function(c){var d=c.$$ngMessageNode;delete c.$$ngMessageNode;var b=e[d];(c=k(a[0],c))?c.next=b.next:f.head=b.next,delete e[d],f.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(d,n,l){return{restrict:"AE",require:"^^ngMessages",link:function(a,c,m){var k=m.ngMessagesInclude||m.src;d(k).then(function(d){l(d)(a,function(a){c.after(a),a=l.$$createComment?l.$$createComment("ngMessagesInclude",k):n[0].createComment(" ngMessagesInclude: "+k+" "),a=z(a),c.after(a),c.remove()})})}}}]).directive("ngMessage",p()).directive("ngMessageExp",p())}(window,window.angular),function(S,q){"use strict";function Aa(a,b,c){if(!a)throw Ma("areq",b||"?",c||"required");return a}function Ba(a,b){return a||b?a?b?(ba(a)&&(a=a.join(" ")),ba(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Na(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function X(a,b,c){var d="";return a=ba(a)?a:a&&P(a)&&a.length?a.split(/\s+/):[],r(a,function(a,f){a&&0<a.length&&(d+=f>0?" ":"",d+=c?b+a:a+b)}),d}function Oa(a){if(a instanceof G)switch(a.length){case 0:return[];case 1:if(1===a[0].nodeType)return a;break;default:return G(ca(a))}return 1===a.nodeType?G(a):void 0}function ca(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1==c.nodeType)return c}}function Pa(a,b,c){r(b,function(b){a.addClass(b,c)})}function Qa(a,b,c){r(b,function(b){a.removeClass(b,c)})}function U(a){return function(b,c){c.addClass&&(Pa(a,b,c.addClass),c.addClass=null),c.removeClass&&(Qa(a,b,c.removeClass),c.removeClass=null)}}function pa(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||Q;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=Q},a.$$prepared=!0}return a}function ga(a,b){Ca(a,b),Da(a,b)}function Ca(a,b){b.from&&(a.css(b.from),b.from=null)}function Da(a,b){b.to&&(a.css(b.to),b.to=null)}function V(a,b,c){var d=b.options||{};c=c.options||{};var e=(d.addClass||"")+" "+(c.addClass||""),f=(d.removeClass||"")+" "+(c.removeClass||"");return a=Ra(a.attr("class"),e,f),c.preparationClasses&&(d.preparationClasses=Y(c.preparationClasses,d.preparationClasses),delete c.preparationClasses),e=d.domOperation!==Q?d.domOperation:null,Ea(d,c),e&&(d.domOperation=e),d.addClass=a.addClass?a.addClass:null,d.removeClass=a.removeClass?a.removeClass:null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function Ra(a,b,c){function d(a){P(a)&&(a=a.split(" "));var b={};return r(a,function(a){a.length&&(b[a]=!0)}),b}var e={};a=d(a),b=d(b),r(b,function(a,b){e[b]=1}),c=d(c),r(c,function(a,b){e[b]=1===e[b]?null:-1});var f={addClass:"",removeClass:""};return r(e,function(b,c){var d,e;1===b?(d="addClass",e=!a[c]):-1===b&&(d="removeClass",e=a[c]),e&&(f[d].length&&(f[d]+=" "),f[d]+=c)}),f}function D(a){return a instanceof q.element?a[0]:a}function Sa(a,b,c){var d="";b&&(d=X(b,"ng-",!0)),c.addClass&&(d=Y(d,X(c.addClass,"-add"))),c.removeClass&&(d=Y(d,X(c.removeClass,"-remove"))),d.length&&(c.preparationClasses=d,a.addClass(d))}function qa(a,b){var c=b?"-"+b+"s":"";return la(a,[ma,c]),[ma,c]}function ta(a,b){var c=b?"paused":"",d=Z+"PlayState";return la(a,[d,c]),[d,c]}function la(a,b){a.style[b[0]]=b[1]}function Y(a,b){return a?b?a+" "+b:a:b}function Fa(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return r(c,function(a,b){var c=e[a];if(c){var s=c.charAt(0);("-"===s||"+"===s||s>=0)&&(c=Ta(c)),0===c&&(c=null),d[b]=c}}),d}function Ta(a){var b=0;return a=a.split(/\s*,\s*/),r(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function ua(a){return 0===a||null!=a}function Ga(a,b){var c=T,d=a+"s";return b?c+="Duration":d+=" linear all",[c,d]}function Ha(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ia(a,b,c){r(c,function(c){a[c]=da(a[c])?a[c]:b.style.getPropertyValue(c)})}var T,xa,Z,ya,Q=q.noop,Ja=q.copy,Ea=q.extend,G=q.element,r=q.forEach,ba=q.isArray,P=q.isString,va=q.isObject,C=q.isUndefined,da=q.isDefined,Ka=q.isFunction,wa=q.isElement;C(S.ontransitionend)&&da(S.onwebkittransitionend)?(T="WebkitTransition",xa="webkitTransitionEnd transitionend"):(T="transition",xa="transitionend"),C(S.onanimationend)&&da(S.onwebkitanimationend)?(Z="WebkitAnimation",ya="webkitAnimationEnd animationend"):(Z="animation",ya="animationend");var ra=Z+"Delay",za=Z+"Duration",ma=T+"Delay",La=T+"Duration",Ma=q.$$minErr("ng"),Ua={transitionDuration:La,transitionDelay:ma,transitionProperty:T+"Property",animationDuration:za,animationDelay:ra,animationIterationCount:Z+"IterationCount"},Va={transitionDuration:La,transitionDelay:ma,animationDuration:za,animationDelay:ra};q.module("ngAnimate",[]).directive("ngAnimateSwap",["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,d,e,f,z){var B,s;b.$watchCollection(e.ngAnimateSwap||e["for"],function(e){B&&a.leave(B),s&&(s.$destroy(),s=null),(e||0===e)&&(s=b.$new(),z(s,function(b){B=b,a.enter(b,null,d)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function e(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var f=d.ngAnimateChildren;q.isString(f)&&0===f.length?c.data("$$ngAnimateChildren",!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),z=0;z<b.length;z++)b[z]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);return r(a,function(a){b[a]=!0}),b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c,d){return f[a].some(function(a){return a(b,c,d)})}function e(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(a,b,c){return!b.structural&&e(b)}),f.skip.push(function(a,b,c){return!b.structural&&!e(b)}),f.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),f.skip.push(function(a,b,c){return c.structural&&2===c.state&&!b.structural}),f.cancel.push(function(a,b,c){return c.structural&&b.structural}),f.cancel.push(function(a,b,c){return 2===c.state&&b.structural}),f.cancel.push(function(a,b,d){if(d.structural)return!1;a=b.addClass,b=b.removeClass;var e=d.addClass;return d=d.removeClass,C(a)&&C(b)||C(e)&&C(d)?!1:c(a,d)||c(b,e)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,f,v,I,Wa,u,sa,w,x){function R(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0,b()})}}function J(a,b,c){var g=D(b),d=D(a),k=[];return(a=h[c])&&r(a,function(a){ia.call(a.node,g)?k.push(a.callback):"leave"===c&&ia.call(a.node,d)&&k.push(a.callback)}),k}function k(a,b,c){var g=ca(b);return a.filter(function(a){return!(a.node===g&&(!c||a.callback===c))})}function p(a,k,h){function l(c,g,d,h){f(function(){var c=J(oa,a,g);c.length?b(function(){r(c,function(b){b(a,d,h)}),"close"!==d||a[0].parentNode||N.off(a)}):"close"!==d||a[0].parentNode||N.off(a)}),c.progress(g,d,h)}function A(b){var c=a,g=m;g.preparationClasses&&(c.removeClass(g.preparationClasses),g.preparationClasses=null),g.activeClasses&&(c.removeClass(g.activeClasses),g.activeClasses=null),F(a,m),ga(a,m),m.domOperation(),p.complete(!b)}var x,oa,m=Ja(h);(a=Oa(a))&&(x=D(a),oa=a.parent());var m=pa(m),p=new u,f=R();if(ba(m.addClass)&&(m.addClass=m.addClass.join(" ")),m.addClass&&!P(m.addClass)&&(m.addClass=null),ba(m.removeClass)&&(m.removeClass=m.removeClass.join(" ")),m.removeClass&&!P(m.removeClass)&&(m.removeClass=null),m.from&&!va(m.from)&&(m.from=null),m.to&&!va(m.to)&&(m.to=null),!x)return A(),p;if(h=[x.className,m.addClass,m.removeClass].join(" "),!Xa(h))return A(),p;var s=0<=["enter","move","leave"].indexOf(k),t=v[0].hidden,w=!g||t||H.get(x);h=!w&&y.get(x)||{};var I=!!h.state;if(w||I&&1==h.state||(w=!K(a,oa,k)),w)return t&&l(p,k,"start"),A(),t&&l(p,k,"close"),p;if(s&&L(a),t={structural:s,element:a,event:k,addClass:m.addClass,removeClass:m.removeClass,close:A,options:m,runner:p},I){if(d("skip",a,t,h))return 2===h.state?(A(),p):(V(a,h,t),h.runner);if(d("cancel",a,t,h))if(2===h.state)h.runner.end();else{if(!h.structural)return V(a,h,t),h.runner;h.close()}else if(d("join",a,t,h)){if(2!==h.state)return Sa(a,s?k:null,m),k=t.event=h.event,m=V(a,h,t),h.runner;V(a,t,{})}}else V(a,t,{});if((I=t.structural)||(I="animate"===t.event&&0<Object.keys(t.options.to||{}).length||e(t)),!I)return A(),O(a),p;var ia=(h.counter||0)+1;return t.counter=ia,M(a,1,t),c.$$postDigest(function(){var b=y.get(x),c=!b,b=b||{},g=0<(a.parent()||[]).length&&("animate"===b.event||b.structural||e(b));c||b.counter!==ia||!g?(c&&(F(a,m),ga(a,m)),(c||s&&b.event!==k)&&(m.domOperation(),p.end()),g||O(a)):(k=!b.structural&&e(b,!0)?"setClass":b.event,M(a,2),b=Wa(a,k,b.options),p.setHost(b),l(p,k,"start",{}),b.done(function(b){A(!b),(b=y.get(x))&&b.counter===ia&&O(D(a)),l(p,k,"close",{})}))}),p}function L(a){a=D(a).querySelectorAll("[data-ng-animate]"),r(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate")),c=y.get(a);if(c)switch(b){case 2:c.runner.end();case 1:y.remove(a)}})}function O(a){a=D(a),a.removeAttribute("data-ng-animate"),y.remove(a)}function l(a,b){return D(a)===D(b)}function K(a,b,c){c=G(v[0].body);var k,g=l(a,c)||"HTML"===a[0].nodeName,d=l(a,f),h=!1,e=H.get(D(a));for((a=G.data(a[0],"$ngAnimatePin"))&&(b=a),b=D(b);b&&(d||(d=l(b,f)),1===b.nodeType);){if(a=y.get(b)||{},!h){var p=H.get(b);if(!0===p&&!1!==e){e=!0;break}!1===p&&(e=!1),h=a.structural}if((C(k)||!0===k)&&(a=G.data(b,"$$ngAnimateChildren"),da(a)&&(k=a)),h&&!1===k)break;if(g||(g=l(b,c)),g&&d)break;b=d||!(a=G.data(b,"$ngAnimatePin"))?b.parentNode:D(a)}return(!h||k)&&!0!==e&&d&&g}function M(a,b,c){c=c||{},c.state=b,a=D(a),a.setAttribute("data-ng-animate",b),c=(b=y.get(a))?Ea(b,c):c,y.put(a,c)}var y=new I,H=new I,g=null,oa=c.$watch(function(){return 0===sa.totalPendingRequests},function(a){a&&(oa(),c.$$postDigest(function(){c.$$postDigest(function(){null===g&&(g=!0)})}))}),h={},A=a.classNameFilter(),Xa=A?function(a){return A.test(a)}:function(){return!0},F=U(w),ia=S.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},N={on:function(a,b,c){var g=ca(b);h[a]=h[a]||[],h[a].push({node:g,callback:c}),G(b).on("$destroy",function(){y.get(g)||N.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||q.isString(arguments[0])){var g=h[a];g&&(h[a]=1===arguments.length?null:k(g,b,c))}else for(g in b=arguments[0],h)h[g]=k(h[g],b)},pin:function(a,b){Aa(wa(a),"element","not an element"),Aa(wa(b),"parentElement","not an element"),a.data("$ngAnimatePin",b)},push:function(a,b,c,g){return c=c||{},c.domOperation=g,p(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!g;else if(wa(a)){var d=D(a),h=H.get(d);1===c?b=!h:H.put(d,!b)}else b=g=!!a;return b}};return N}]}]).provider("$$animation",["$animateProvider",function(a){function b(a){return a.data("$$animationRunner")}var c=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,e,f,z,B,s){function v(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,L=d.parentNode;e.put(d,a);for(var f;L;){if(f=e.get(L)){f.processed||(f=b(f));break}L=L.parentNode}return(f||c).children.push(a),a}var d,c={children:[]},e=new B;for(d=0;d<a.length;d++){var f=a[d];e.put(f.domNode,a[d]={domNode:f.domNode,fn:f.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var d,b=[],c=[];for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var e=0,f=[];for(d=0;d<c.length;d++){var x=c[d];0>=a&&(a=e,e=0,b.push(f),f=[]),f.push(x.fn),x.children.forEach(function(a){e++,c.push(a)}),a--}return f.length&&b.push(f),b}(c)}var I=[],q=U(a);return function(u,B,w){function x(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];return r(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)}),b}function R(a){var b=[],c={};r(a,function(a,g){var d=D(a.element),e=0<=["enter","move"].indexOf(a.event),d=a.structural?x(d):[];if(d.length){var k=e?"to":"from";r(d,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{},c[b][k]={animationID:g,element:G(a)}})}else b.push(a)});var d={},e={};return r(c,function(c,h){var k=c.from,f=c.to;if(k&&f){var p=a[k.animationID],y=a[f.animationID],l=k.animationID.toString();if(!e[l]){var x=e[l]={structural:!0,beforeStart:function(){p.beforeStart(),y.beforeStart()},close:function(){p.close(),y.close()},classes:J(p.classes,y.classes),from:p,to:y,anchors:[]};x.classes.length?b.push(x):(b.push(p),b.push(y))}e[l].anchors.push({out:k.element,"in":f.element})}else k=k?k.animationID:f.animationID,f=k.toString(),d[f]||(d[f]=!0,b.push(a[k]))}),b}function J(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var k=a[d];if("ng-"!==k.substring(0,3))for(var e=0;e<b.length;e++)if(k===b[e]){c.push(k);break}}return c.join(" ")}function k(a){for(var b=c.length-1;b>=0;b--){var d=c[b];if(f.has(d)&&(d=f.get(d)(a)))return d}}function p(a,c){a.from&&a.to?(b(a.from.element).setHost(c),b(a.to.element).setHost(c)):b(a.element).setHost(c)}function L(){var a=b(u);!a||"leave"===B&&w.$$domOperationFired||a.end()}function O(b){u.off("$destroy",L),u.removeData("$$animationRunner"),q(u,w),ga(u,w),w.domOperation(),y&&a.removeClass(u,y),u.removeClass("ng-animate"),K.complete(!b)}w=pa(w);var l=0<=["enter","move","leave"].indexOf(B),K=new z({end:function(){O()},cancel:function(){O(!0)}});if(!c.length)return O(),K;u.data("$$animationRunner",K);var M=Ba(u.attr("class"),Ba(w.addClass,w.removeClass)),y=w.tempClasses;y&&(M+=" "+y,w.tempClasses=null);var H;return l&&(H="ng-"+B+"-prepare",a.addClass(u,H)),I.push({element:u,classes:M,event:B,structural:l,options:w,beforeStart:function(){u.addClass("ng-animate"),y&&a.addClass(u,y),H&&(a.removeClass(u,H),H=null)},close:O}),u.on("$destroy",L),1<I.length?K:(e.$$postDigest(function(){var a=[];r(I,function(c){b(c.element)?a.push(c):c.close()}),I.length=0;var c=R(a),d=[];r(c,function(a){d.push({domNode:D(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var c,d=a.close;if(b(a.anchors?a.from.element||a.to.element:a.element)){var g=k(a);g&&(c=g.start)}c?(c=c(),c.done(function(a){d(!a)}),p(a,c)):d()}})}),s(v(d))}),K)}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=Ha(),c=Ha();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,e,f,z,B,s,v,I){function q(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++R))+"-"+a.getAttribute("class")+"-"+b}function u(k,f,x,s){var l;return 0<b.count(x)&&(l=c.get(x),l||(f=X(f,"-stagger"),e.addClass(k,f),l=Fa(a,k,s),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),e.removeClass(k,f),c.put(x,l))),l||{}}function sa(a){J.push(a),v.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=B(),d=0;d<J.length;d++)J[d](a);J.length=0})}function w(c,e,f){return e=b.get(f),e||(e=Fa(a,c,Ua),"infinite"===e.animationIterationCount&&(e.animationIterationCount=1)),b.put(f,e),c=e,f=c.animationDelay,e=c.transitionDelay,c.maxDelay=f&&e?Math.max(f,e):f||e,c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration),c}var x=U(e),R=0,J=[];return function(a,c){function d(){l()}function v(){l(!0)}function l(b){if(!(R||G&&N)){R=!0,N=!1,g.$$skipPreparationClasses||e.removeClass(a,fa),e.removeClass(a,da),ta(h,!1),qa(h,!1),r(A,function(a){h.style[a[0]]=""}),x(a,g),ga(a,g),Object.keys(J).length&&r(J,function(a,b){a?h.style.setProperty(b,a):h.style.removeProperty(b)}),g.onDone&&g.onDone(),ea&&ea.length&&a.off(ea.join(" "),y);var c=a.data("$$animateCss");c&&(z.cancel(c[0].timer),a.removeData("$$animateCss")),C&&C.complete(!b)}}function K(a){n.blockTransition&&qa(h,a),n.blockKeyframeAnimation&&ta(h,!!a)}function M(){return C=new f({end:d,cancel:v}),sa(Q),l(),{$$willAnimate:!1,start:function(){return C},end:d}}function y(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(3)),Math.max(a-V,0)>=S&&b>=m&&(G=!0,l())}function H(){function b(){if(!R){if(K(!1),r(A,function(a){h.style[a[0]]=a[1]}),x(a,g),e.addClass(a,da),n.recalculateTimingStyles){if(na=h.className+" "+fa,ja=q(h,na),E=w(h,na,ja),$=E.maxDelay,ha=Math.max($,0),m=E.maxDuration,0===m)return void l();n.hasTransitions=0<E.transitionDuration,n.hasAnimations=0<E.animationDuration}if(n.applyAnimationDelay&&($="boolean"!=typeof g.delay&&ua(g.delay)?parseFloat(g.delay):$,ha=Math.max($,0),E.animationDelay=$,aa=[ra,$+"s"],A.push(aa),h.style[aa[0]]=aa[1]),S=1e3*ha,U=1e3*m,g.easing){var d,f=g.easing;n.hasTransitions&&(d=T+"TimingFunction",A.push([d,f]),h.style[d]=f),n.hasAnimations&&(d=Z+"TimingFunction",A.push([d,f]),h.style[d]=f)}E.transitionDuration&&ea.push(xa),E.animationDuration&&ea.push(ya),V=Date.now();var H=S+1.5*U;d=V+H;var f=a.data("$$animateCss")||[],s=!0;if(f.length){var p=f[0];(s=d>p.expectedEndTime)?z.cancel(p.timer):f.push(l)}s&&(H=z(c,H,!1),f[0]={timer:H,expectedEndTime:d},f.push(l),a.data("$$animateCss",f)),ea.length&&a.on(ea.join(" "),y),g.to&&(g.cleanupStyles&&Ia(J,h,Object.keys(g.to)),Da(a,g))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!R)if(h.parentNode){var d=function(a){if(G)N&&a&&(N=!1,l());else if(N=!a,E.animationDuration)if(a=ta(h,N),N)A.push(a);else{var b=A,c=b.indexOf(a);a>=0&&b.splice(c,1)}},f=ca>0&&(E.transitionDuration&&0===W.transitionDuration||E.animationDuration&&0===W.animationDuration)&&Math.max(W.animationDelay,W.transitionDelay);f?z(b,Math.floor(f*ca*1e3),!1):b(),P.resume=function(){d(!0)},P.pause=function(){d(!1)}}else l()}var g=c||{};g.$$prepared||(g=pa(Ja(g)));var J={},h=D(a);if(!h||!h.parentNode||!I.enabled())return M();var R,N,G,C,P,ha,S,m,U,V,A=[],B=a.attr("class"),F=Na(g),ea=[];if(0===g.duration||!s.animations&&!s.transitions)return M();var ka=g.event&&ba(g.event)?g.event.join(" "):g.event,Y="",t="";ka&&g.structural?Y=X(ka,"ng-",!0):ka&&(Y=ka),g.addClass&&(t+=X(g.addClass,"-add")),g.removeClass&&(t.length&&(t+=" "),t+=X(g.removeClass,"-remove")),g.applyClassesEarly&&t.length&&x(a,g);var fa=[Y,t].join(" ").trim(),na=B+" "+fa,da=X(fa,"-active"),B=F.to&&0<Object.keys(F.to).length;if(!(0<(g.keyframeStyle||"").length||B||fa))return M();var ja,W;0<g.stagger?(F=parseFloat(g.stagger),W={transitionDelay:F,animationDelay:F,transitionDuration:0,animationDuration:0}):(ja=q(h,na),W=u(h,fa,ja,Va)),g.$$skipPreparationClasses||e.addClass(a,fa),g.transitionStyle&&(F=[T,g.transitionStyle],la(h,F),A.push(F)),0<=g.duration&&(F=0<h.style[T].length,F=Ga(g.duration,F),la(h,F),A.push(F)),g.keyframeStyle&&(F=[Z,g.keyframeStyle],la(h,F),A.push(F));var ca=W?0<=g.staggerIndex?g.staggerIndex:b.count(ja):0;(ka=0===ca)&&!g.skipBlocking&&qa(h,9999);var E=w(h,na,ja),$=E.maxDelay;ha=Math.max($,0),m=E.maxDuration;var n={};if(n.hasTransitions=0<E.transitionDuration,n.hasAnimations=0<E.animationDuration,n.hasTransitionAll=n.hasTransitions&&"all"==E.transitionProperty,n.applyTransitionDuration=B&&(n.hasTransitions&&!n.hasTransitionAll||n.hasAnimations&&!n.hasTransitions),n.applyAnimationDuration=g.duration&&n.hasAnimations,n.applyTransitionDelay=ua(g.delay)&&(n.applyTransitionDuration||n.hasTransitions),n.applyAnimationDelay=ua(g.delay)&&n.hasAnimations,n.recalculateTimingStyles=0<t.length,(n.applyTransitionDuration||n.applyAnimationDuration)&&(m=g.duration?parseFloat(g.duration):m,n.applyTransitionDuration&&(n.hasTransitions=!0,E.transitionDuration=m,F=0<h.style[T+"Property"].length,A.push(Ga(m,F))),n.applyAnimationDuration&&(n.hasAnimations=!0,E.animationDuration=m,A.push([za,m+"s"]))),0===m&&!n.recalculateTimingStyles)return M();if(null!=g.delay){var aa;"boolean"!=typeof g.delay&&(aa=parseFloat(g.delay),ha=Math.max(aa,0)),n.applyTransitionDelay&&A.push([ma,aa+"s"]),n.applyAnimationDelay&&A.push([ra,aa+"s"])}return null==g.duration&&0<E.transitionDuration&&(n.recalculateTimingStyles=n.recalculateTimingStyles||ka),S=1e3*ha,U=1e3*m,g.skipBlocking||(n.blockTransition=0<E.transitionDuration,n.blockKeyframeAnimation=0<E.animationDuration&&0<W.animationDelay&&0===W.animationDuration),g.from&&(g.cleanupStyles&&Ia(J,h,Object.keys(g.from)),Ca(a,g)),n.blockTransition||n.blockKeyframeAnimation?K(m):g.skipBlocking||qa(h,!1),{$$willAnimate:!0,end:d,start:function(){return R?void 0:(P={end:d,cancel:v,resume:null,pause:null},C=new f(P),sa(H),C)}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,e,f,z,B){function s(a){return a.replace(/\bng-\S+\b/g,"")}function v(a,b){return P(a)&&(a=a.split(" ")),P(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function I(c,e,f){function k(a){var b={},c=D(a).getBoundingClientRect();return r(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=C.scrollTop;break;case"left":d+=C.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function p(){var c=s(f.attr("class")||""),d=v(c,l),c=v(l,c),d=a(z,{to:k(f),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function B(){z.remove(),e.removeClass("ng-animate-shim"),f.removeClass("ng-animate-shim")}var z=G(D(e).cloneNode(!0)),l=s(z.attr("class")||"");e.addClass("ng-animate-shim"),f.addClass("ng-animate-shim"),z.addClass("ng-anchor"),w.append(z);var K;if(c=function(){var c=a(z,{addClass:"ng-anchor-out",delay:!0,from:k(e)});return c.$$willAnimate?c:null}(),!c&&(K=p(),!K))return B();var M=c||K;return{start:function(){function a(){c&&c.end()}var b,c=M.start();return c.done(function(){return c=null,!K&&(K=p())?(c=K.start(),c.done(function(){c=null,B(),b.complete()}),c):(B(),void b.complete())}),b=new d({end:a,cancel:a})}}}function q(a,b,c,e){var f=u(a,Q),s=u(b,Q),z=[];return r(e,function(a){(a=I(c,a.out,a["in"]))&&z.push(a)}),f||s||0!==z.length?{start:function(){function a(){r(b,function(a){a.end()})}var b=[];f&&b.push(f.start()),s&&b.push(s.start()),r(z,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});return d.all(b,function(a){c.complete(a)}),c}}:void 0}function u(c){var d=c.element,e=c.options||{};return c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation)),e.preparationClasses&&(e.event=Y(e.event,e.preparationClasses)),c=a(d,e),c.$$willAnimate?c:null}if(!f.animations&&!f.transitions)return Q;var C=B[0].body;c=D(e);var w=G(c.parentNode&&11===c.parentNode.nodeType||C.contains(c)?c:C);return U(z),function(a){return a.from&&a.to?q(a.from,a.to,a.classes,a.anchors):u(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=ba(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var r=c[f],q=a.$$registeredAnimations[r];q&&!e[r]&&(d.push(b.get(q)),e[r]=!0)}return d}var f=U(d);return function(a,b,d,v){function q(){v.domOperation(),f(a,v)}function D(a,b,d,e,g){switch(d){case"animate":b=[b,e.from,e.to,g];break;case"setClass":b=[b,x,G,g];break;case"addClass":b=[b,x,g];break;case"removeClass":b=[b,G,g];break;default:b=[b,g]}if(b.push(e),a=a.apply(a,b))if(Ka(a.start)&&(a=a.start()),a instanceof c)a.done(g);else if(Ka(a))return a;return Q}function u(a,b,d,e,g){var f=[];return r(e,function(e){var k=e[g];k&&f.push(function(){var e,g,f=!1,h=function(a){f||(f=!0,(g||Q)(a),e.complete(!a))};return e=new c({end:function(){h()},cancel:function(){h(!0)}}),g=D(k,a,b,d,function(a){h(!1===a)}),e})}),f}function C(a,b,d,e,g){var f=u(a,b,d,e,g);if(0===f.length){var h,k;"beforeSetClass"===g?(h=u(a,"removeClass",d,e,"beforeRemoveClass"),k=u(a,"addClass",d,e,"beforeAddClass")):"setClass"===g&&(h=u(a,"removeClass",d,e,"removeClass"),k=u(a,"addClass",d,e,"addClass")),h&&(f=f.concat(h)),k&&(f=f.concat(k))}return 0!==f.length?function(a){var b=[];return f.length&&r(f,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){r(b,function(b){a?b.cancel():b.end()})}}:void 0}var w=!1;3===arguments.length&&va(d)&&(v=d,d=null),v=pa(v),d||(d=a.attr("class")||"",v.addClass&&(d+=" "+v.addClass),v.removeClass&&(d+=" "+v.removeClass));var k,p,x=v.addClass,G=v.removeClass,J=e(d);if(J.length){var L,O;"leave"==b?(O="leave",L="afterLeave"):(O="before"+b.charAt(0).toUpperCase()+b.substr(1),L=b),"enter"!==b&&"move"!==b&&(k=C(a,b,v,J,O)),p=C(a,b,v,J,L)}if(k||p){var l;return{$$willAnimate:!0,end:function(){return l?l.end():(w=!0,q(),ga(a,v),l=new c,l.complete(!0)),l},start:function(){function b(c){w=!0,q(),ga(a,v),l.complete(c)}if(l)return l;l=new c;var d,e=[];return k&&e.push(function(a){d=k(a)}),e.length?e.push(function(a){q(),a(!0)}):q(),p&&e.push(function(a){d=p(a)}),l.setHost({end:function(){w||((d||Q)(void 0),b(void 0))},cancel:function(){w||((d||Q)(!0),b(!0))}}),c.chain(e,b),l}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(!a.from||!a.to)return d(a);var b=d(a.from),q=d(a.to);return b||q?{start:function(){function a(){return function(){r(d,function(a){a.end()})}}var d=[];b&&d.push(b.start()),q&&d.push(q.start()),c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});return e}}:void 0}}]}])}(window,window.angular),function(n,e){"use strict";function B(a){var c=[];return w(c,e.noop).chars(a),c.join("")}function h(a,c){var l,b={},d=a.split(",");for(l=0;l<d.length;l++)b[c?e.lowercase(d[l]):d[l]]=!0;return b}function C(a,c){null===a||void 0===a?a="":"string"!=typeof a&&(a=""+a),g.innerHTML=a;var b=5;do{if(0===b)throw x("uinput");b--,n.document.documentMode&&t(g),a=g.innerHTML,g.innerHTML=a}while(a!==g.innerHTML);for(b=g.firstChild;b;){switch(b.nodeType){case 1:c.start(b.nodeName.toLowerCase(),D(b.attributes));break;case 3:c.chars(b.textContent)}var d;if(!(d=b.firstChild)&&(1==b.nodeType&&c.end(b.nodeName.toLowerCase()),d=b.nextSibling,!d))for(;null==d&&(b=b.parentNode,b!==g);)d=b.nextSibling,1==b.nodeType&&c.end(b.nodeName.toLowerCase());b=d}for(;b=g.firstChild;)g.removeChild(b)}function D(a){for(var c={},b=0,d=a.length;d>b;b++){var l=a[b];c[l.name]=l.value}return c}function y(a){return a.replace(/&/g,"&amp;").replace(E,function(a){var b=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(b-55296)+(a-56320)+65536)+";"}).replace(F,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(a,c){var b=!1,d=e.bind(a,a.push);return{start:function(a,f){a=e.lowercase(a),!b&&G[a]&&(b=a),b||!0!==u[a]||(d("<"),d(a),e.forEach(f,function(b,f){var g=e.lowercase(f),h="img"===a&&"src"===g||"background"===g;!0!==H[g]||!0===z[g]&&!c(b,h)||(d(" "),d(f),d('="'),d(y(b)),d('"'))}),d(">"))},end:function(a){a=e.lowercase(a),b||!0!==u[a]||!0===A[a]||(d("</"),d(a),d(">")),a==b&&(b=!1)},chars:function(a){b||d(y(a))}}}function t(a){if(a.nodeType===n.Node.ELEMENT_NODE)for(var c=a.attributes,b=0,d=c.length;d>b;b++){var e=c[b],f=e.name.toLowerCase();"xmlns:ns1"!==f&&0!==f.indexOf("ns1:")||(a.removeAttributeNode(e),b--,d--)}(c=a.firstChild)&&t(c),(c=a.nextSibling)&&t(c)}var g,x=e.$$minErr("$sanitize"),E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F=/([^\#-~ |!])/g,A=h("area,br,col,hr,img,wbr"),q=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=h("rp,rt"),v=e.extend({},k,q),q=e.extend({},q,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),k=e.extend({},k,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),I=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),G=h("script,style"),u=e.extend({},A,q,k,v),z=h("background,cite,href,longdesc,src,xlink:href"),v=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=e.extend({},z,k,v);
!function(a){if(!a.document||!a.document.implementation)throw x("noinert");a=a.document.implementation.createHTMLDocument("inert");var c=(a.documentElement||a.getDocumentElement()).getElementsByTagName("body");1===c.length?g=c[0]:(c=a.createElement("html"),g=a.createElement("body"),c.appendChild(g),a.appendChild(c))}(n),e.module("ngSanitize",[]).provider("$sanitize",function(){var a=!1;this.$get=["$$sanitizeUri",function(c){return a&&e.extend(u,I),function(a){var d=[];return C(a,w(d,function(a,b){return!/^unsafe:/.test(c(a,b))})),d.join("")}}],this.enableSvg=function(c){return e.isDefined(c)?(a=c,this):a}}),e.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,b=/^mailto:/i,d=e.$$minErr("linky"),g=e.isString;return function(f,h,m){function k(a){a&&p.push(B(a))}function q(a,b){var c;if(p.push("<a "),e.isFunction(m)&&(m=m(a)),e.isObject(m))for(c in m)p.push(c+'="'+m[c]+'" ');else m={};!e.isDefined(h)||"target"in m||p.push('target="',h,'" '),p.push('href="',a.replace(/"/g,"&quot;"),'">'),k(b),p.push("</a>")}if(null==f||""===f)return f;if(!g(f))throw d("notstring",f);for(var s,n,r=f,p=[];f=r.match(c);)s=f[0],f[2]||f[4]||(s=(f[3]?"http://":"mailto:")+s),n=f.index,k(r.substr(0,n)),q(s,f[0].replace(b,"")),r=r.substring(n+f[0].length);return k(r),a(p.join(""))}}])}(window,window.angular);var indexOfValue=_.indexOf;_.mixin({indexOf:function(array,test){if(!_.isFunction(test))return indexOfValue(array,test);for(var x=0;x<array.length;x++)if(test(array[x]))return x;return-1}}),function(){"use strict";angular.module("payment",[]).controller("npgCtrl",["$scope","$sce","$parse",function($scope,$sce,$parse){$scope.paymentForm=npgForm||{},$scope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)}}]).controller("paymentCtrl",["$scope",function($scope){$scope.iframedisplay=!1,$scope.submitDisabled=!0,$scope.submitPayhost=function(){return $scope.submitDisabled=!0,!0},$(window).load(function(){$("#securePaymentWindow").length&&$("#securePaymentWindow").modal("show")})}]).controller("momoCtrl",["$scope","$http",function($scope,$http){$scope.displayVerification=!1,$scope.displayVerificationErrorMsg="",$scope.restUrl=SaaS.restlocation.split("/en/"),$scope.sendVerificationCode=function(opt1,opt2){$scope.restUrl=SaaS.restlocation.split("/en/");var options={};options.token=opt1,options.header=opt2;var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token;var mobileNumber=$("#moMobileNumber").intlTelInput("getNumber").split("+")[1];$scope.restUrl=SaaS.restlocation.split("/en/"),$http({url:$scope.restUrl[0]+"rest/momo/verificationcode/"+mobileNumber,method:"GET",data:{},headers:headers}).then(function(response){$scope.displayVerificationErrorMsg=!1,$scope.displayVerification=!0},function(response){$scope.displayVerificationErrorMsg=!1,$scope.displayVerification=!0})},$scope.requestPayment=function(opt1,opt2){$scope.restUrl=SaaS.restlocation.split("/en/");var options={};options.token=opt1,options.header=opt2;var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token;var verificationcode=$("#verificationCode").val();console.log(verificationcode,headers),$scope.restUrl=SaaS.restlocation.split("/en/"),console.log($scope.restUrl[0]),$http({url:$scope.restUrl[0]+"rest/momo/verify/"+verificationcode,method:"POST",data:{},headers:headers}).then(function(response){201==response.status?$scope.displayVerification=!0:$scope.displayVerificationErrorMsg=response.statusText},function(response){$scope.displayVerificationErrorMsg=response.statusText,$scope.displayVerification=!1})}}])}(),angular.module("filters",[]).filter("cardtype",function(){return function(input){var type="000";return/^4[0-9]{6,}$/.test(input)?type="001":/^5[0-9]{5,}$/.test(input)?type="002":/^3[47][0-9]{5,}$/.test(input)?type="003":/^3(?:0[0-5]|[68][0-9])[0-9]{4,}$/.test(input)?type="005":/^6(?:011|5[0-9]{2})[0-9]{3,}$/.test(input)?type="004":/^(?:2131|1800|35[0-9]{3})[0-9]{3,}$/.test(input)&&(type="007"),type}}),function(){"use strict";angular.module("marketplace",[]).factory("SmoothScroll",function(){return{animation:0,to:function(p){var c=0,t=0,b=0,f=0,d=16.8,_easeIn=function(t,b,c,d){return-c*(t/=d)*(t-2)+b},_getScrollTop=function(){if(console.log("1"),"undefined"!=typeof pageYOffset)return pageYOffset;var B=document.body,D=document.documentElement;return D=D.clientHeight?D:B,D.scrollTop},_getTopPadding=function(){return console.log("2"),window.innerWidth<415?60:window.innerWidth<569?35:0},_animate=function(){console.log(this),b=t,c=f-b,t=_easeIn(1,b,c,d),this.animation=window.requestAnimationFrame(_animate),document.body.scrollTop=t,document.documentElement.scrollTop=t,Math.abs(f-b)<.25&&(window.cancelAnimationFrame(this.animation),document.body.scrollTop=Math.round(t),document.documentElement.scrollTop=Math.round(t))};t=_getScrollTop(),console.log(t),f=p-_getTopPadding(),console.log(f),_animate()}}}).controller("marketplaceCtrl",["SmoothScroll","$scope","$window","$rootScope",function(SmoothScroll,$scope,$window,$rootScope){function getTopPadding(){return console.log("13"),window.innerWidth<321?95:window.innerWidth<769?96:50}$scope.mobileView=!1,$scope.currentItem=null,$scope.currentVideo=null;var categoryList=[];$scope.setCategorylist=function(id){console.log("5"),categoryList.push("#"+id),$scope.$emit("categoryList",categoryList)},$scope.spiedElements={};var _getTopPadding=function(){return console.log("6"),window.innerWidth<321?48:window.innerWidth<569?48:50},getActiveElement=function(){console.log("7");var i,key;for($scope.selectedElement="",i=Object.keys($scope.spiedElements).length-1;i>=0;i-=1)if(key=Object.keys($scope.spiedElements)[i],$window.pageYOffset+_getTopPadding()>=$scope.spiedElements[key]){$scope.selectedElement=key;break}$scope.$broadcast("setSpyAnchor",$scope.selectedElement)};angular.element($window).bind("scroll",function(){console.log("8"),$scope.$broadcast("getSpiedY")}),$scope.$on("setSpiedY",function(event,elementoptions){console.log("9"),void 0===$scope.spiedElements[elementoptions.id]&&($scope.spiedElements[elementoptions.id]={}),$scope.spiedElements[elementoptions.id]=elementoptions.y,getActiveElement()}),(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&($scope.mobileView=!0),$scope.setCurrentItem=function(item){console.log(item),angular.forEach(document.querySelectorAll("video"),function(elem){elem.paused||elem.pause()}),$scope.currentItem==item?$scope.currentItem=null:$scope.currentItem=item},$scope.setCurrentVideo=function(video){console.log(video),$scope.currentVideo=video;var videoElement=document.getElementById("video"+video);console.log(videoElement)};var _getTopPadding=function(){return console.log("10"),window.innerWidth<415?822:window.innerWidth<569?68:787};$rootScope.$on("categoryList",function(event,data){console.log("11"),$rootScope.$broadcast("categoryListDown",data)}),$scope.$on("categoryListDown",function(event,data){console.log("12"),categoryList=data});var topPadding=getTopPadding();angular.element($window).bind("scroll",function(){if(this.pageYOffset>=_getTopPadding()?($scope.headerPositionClassChange=!0,$scope.$apply()):($scope.headerPositionClassChange=!1,$scope.$apply()),null!=document.querySelector(categoryList[0]))for(var i=0;i<categoryList.length;i++)i!=categoryList.length-1&&this.pageYOffset>document.querySelector(categoryList[i]).offsetTop-topPadding-2&&this.pageYOffset<document.querySelector(categoryList[i+1]).offsetTop&&($scope.selectedIndex=i,console.log("in "+i)),i==categoryList.length-1&&this.pageYOffset>document.querySelector(categoryList[i]).offsetTop-topPadding-2&&($scope.selectedIndex=i,console.log("in last"+i)),this.pageYOffset<document.querySelector(categoryList[0]).offsetTop-topPadding-2&&($scope.selectedIndex=null,console.log("in first null")),$scope.$apply()}),$scope.scrollTo=function(pos,$index){$scope.selectedIndex=$index,SmoothScroll.to(isNaN(pos)?null===document.querySelector(pos)?0:document.querySelector(pos).offsetTop:pos)}}])}(),function(){"use strict";angular.module("myprofile",[]).controller("myprofileCtrl",["$scope","$timeout","$http",function($scope,$timeout,$http){$(".pull-down").each(function(){$(this).css("margin-top",$(this).parent().height()-$(this).height())}),$scope.currentCountry=currentCountry,$scope.postCodeShown=function(countryName){return $scope.currentCountry==countryName},$scope.forms={personalDetails:{enabled:!1},verification:{enabled:!1,loading:!1,isLoading:function(){return this.loading}},securityDetails:{enabled:!1,editingPassword:!1,isEditingPassword:function(){return this.editingPassword}},businessDetails:{enabled:!1},marketingDetails:{enabled:!1}},$scope.changeCountry=function(model){$scope.currentCountry=model},$scope.editPassword=function(){$scope.forms.securityDetails.editingPassword=!0},$scope.tokenTimeLeft=null,$scope.securityToken=!1,$scope.getTokenTimeLeft=function(){return $scope.tokenTimeLeft},$scope.getToken=function(){return $scope.securityToken},$scope.securityTokenExists=function(){return $scope.tokenTimeLeft>0?$scope.securityToken:!1},$scope.enableForm=function(form){$("section.disableable").find("input, select, button, fieldset").not("[type=submit]").prop("disabled",!0);for(var k in $scope.forms)$scope.forms.hasOwnProperty(k)&&($scope.forms[k].enabled=!1);$scope.forms[form].enabled=!0,$("#"+form).find("input, select, button, fieldset").not("[type=submit]").not("#addressCountry,#dummyPassword").removeAttr("disabled"),$("#"+form).find("input, select, button, fieldset").show(),"verification"==form?($scope.securityTokenExists()&&$scope.enableForm("securityDetails"),document.getElementById("verification.curpassword").value=""):document.getElementById("verification.curpassword").value="*********"},$scope.isFormEnabled=function(form){return $scope.forms[form].enabled},$scope.countdown=function(){return $scope.getTokenTimeLeft()>0?($scope.tokenTimeLeft--,void $timeout(function(){$scope.countdown()},1e3)):($scope.securityToken=!1,!1)},$scope.wrongPassword=!1,$scope.displayPasswordError=function(){return $scope.wrongPassword},$scope.confirmPassword=function(context,token,header){var options={};options.token=token,options.header=header;var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token,$scope.forms.verification.loading=!0,$http({url:context+"/rest/my-profile/verifypassword/",method:"POST",data:document.getElementById("verification.curpassword").value,headers:headers}).then(function(response){return $scope.forms.verification.loading=!1,response.data.authenticated?(document.getElementById("verification.curpassword").value="",$scope.wrongPassword=!1,$scope.securityToken=response.data.token,$scope.tokenTimeLeft=response.data.timeToLive,$scope.enableForm("securityDetails"),$(".pull-down").each(function(){$(this).css("margin-top",$(this).parent().height()-$(this).height())}),!0):void($scope.wrongPassword=!0)},function(response){return $scope.forms.verification.loading=!1,document.getElementById("verification.curpassword").value="",!1}),$timeout(function(){$scope.countdown()},1e3)}}])}(),function(){"use strict";angular.module("pricing",[]).controller("pricingTierCtrl",["$scope","$rootScope","$sce","$http","$window","$timeout",function($scope,$rootScope,$sce,$http,$window,$timeout){$scope.qty=1,$scope.addOnStep=1,$scope.cartSize,$scope.restUrl=SaaS.restlocation.split("/en/"),$scope.totalProducts=0,$scope.addToCart=function(kkIdVal,quantityVal,nameVal,price,opt1,opt2,priceFreq,addOneStepCode){console.log(nameVal),$scope.calcProducts();var prodUrl=$scope.getProductUrl(),imageSrc=($scope.totalProducts,$scope.getImageSrc()),productPrice=price*quantityVal;console.log(addOneStepCode),$scope.addedItem={0:{kkId:kkIdVal,quantity:quantityVal,name:nameVal,addOn:!1,addOnStep:10,addOneStepCode:addOneStepCode,unitPrice:productPrice,path:prodUrl,priceFrequency:priceFreq,imageSource:imageSrc}};var cartDataStr=JSON.stringify($scope.addedItem),newIndexStr=kkIdVal.toString(),cartDataStrUpdated=cartDataStr.replace("0",newIndexStr),updatedCartDataObj=JSON.parse(cartDataStrUpdated),options={};options.token=opt1,options.header=opt2;var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token,$http({url:$scope.restUrl[0]+"rest/managecart/items",method:"POST",data:updatedCartDataObj,headers:headers}).success(function(data,status,headers,config){$rootScope.cartData=data,$scope.notificationAddToCart()}).error(function(data,status,headers,config){console.log("Ajax failed - Add to cart")})},$scope.getSizeOfCart=function(){$scope.cartSize=Object.keys($scope.cartData).length},$scope.getProductUrl=function(){var pageLink=$window.location.href.split("/"),relativeUrl=pageLink[pageLink.length-1];return relativeUrl},$scope.calcProducts=function(){$scope.totalProducts=$window.document.getElementsByClassName("product").length},$scope.getImageSrc=function(){return $(".intro-module img").attr("src")},$scope.notificationAddToCart=function(){$scope.cartNotification=!0,$timeout(function(){$scope.cartNotification=!1},1500)},$scope.tierSet=[],$scope.tierKKName="",$scope.tierKKId=0,$scope.tierKKPrice=0,$scope.selectTier=function(){$scope.tierKKId=$scope.tierDD;for(var i=$scope.tierSet.length-1;i>=0;i--)$scope.tierSet[i].tierId==$scope.tierDD&&(console.log($scope.tierSet[i].tierName),$scope.tierKKName=$scope.tierSet[i].tierName,$scope.tierKKPrice=$scope.tierSet[i].tierPrice)},$scope.setTiers=function(tierOrder,tierName,tierId,tierPrice){0==tierOrder&&($scope.tierDD=tierId);var obj={tierId:tierId,tierName:tierName,tierPrice:tierPrice};console.log(obj),$scope.tierSet.push(obj)}}])}(),function(){"use strict";angular.module("inviteusers",[]).controller("inviteUsersCtrl",["$scope",function($scope){$scope.newUserList={users:json},$scope.addUser=function(array){var newUser={firstname:"",lastname:"",email:"",role:""};$scope.newUserList.users.push(newUser)},$scope.removeUser=function(id){$scope.newUserList[id];$scope.newUserList.users.splice(id,1)},$scope.submitNewUserList=function(){console.log("your list sir",$scope.newUserList)},$scope.TooltipDemoCtrl=function($scope){$scope.dynamicTooltip="about role"},$scope.setUserRole=function(roleId,index){console.log(roleId,index),$scope.role0=roleId}}])}(),function(){"use strict";angular.module("manageapps",[]).controller("manageProductCtrl",["$scope","postService","$http",function($scope,postService,$http){$scope.deleteConfirme=!1,$scope.initValue=function(id,identifier,value){$scope.deleteConfirme=!1,$scope[id]?$scope[identifier+id]=value:$scope[identifier+id]=value},$scope.updatelicence=function(item){$scope[item]=!0},$scope.updatelicenceNext=function(item){$scope[item]=!1},$scope.deleteSubscription=function(productId,url){var ajaxURL=url+"/"+productId,data={};data.productId=productId,data.origin="Remove Subscription";var callback=$scope.deleteSubscriptionCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.unassignUser=function(userId,value,url,modelId){var ajaxURL=url+userId+"/"+value,data={};data.userId=userId,data.value=value,data.origin="Unassign User",data.modelId=modelId;var callback=$scope.unassignUserCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.ViewLicences_unassignUser=function(userId,modelId,url,parentId,reassign){var data={};data.userId=userId,$scope.removeUser=!1,data.value=modelId,data.origin="Unassign User",data.modelId=modelId,data.reassignable=reassign,data.parentId=parentId;$scope.unassignUserCallback},$scope.deleteSubscriptionCallback=function(response){var currentProductId=response.postData.productId;$scope["cancelledComplete"+currentProductId]=!0},$scope.unassignUserCallback=function(response){console.log(response.postData);var prodId=response.postData.value,userId=response.postData.userId;$scope["assigned"+prodId]=$scope["assigned"+prodId]-1,$scope["available"+prodId]=$scope["available"+prodId]+1,$scope["checkbox"+prodId+userId]=!0},$scope.makeAjaxCall=function(ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){response.data.success?($scope.ajaxErrorHeader="",callbackFn&&callbackFn(response)):($scope.ajaxErrorHeader=data.origin,$scope.ajaxErrorMessage=response.data.error)})}}])}(),function(){"use strict";angular.module("manageusers",[]).controller("manageUsersCtrl",["$scope","postService","$http",function($scope,postService,$http){$scope.results=json,$scope.currentResults=$scope.results,$scope.currentTab="",$scope.currentTabArray=[],$scope.ajaxErrorHeader="",$scope.confirmBgClass="",$scope.i18nMessages={"i18n.status.CREATED":"Created","i18n.status.ACTIVATED":"Activated","i18n.status.DELETED":"Deleted","i18n.status.SUSPENDED":"Suspended","i18n.status.PROVISIONING":"Provisioning","i18n.status.LOCKED":"Locked","i18n.status.INVITED":"INVITED","i18n.usergroup.master_users":"Account Holder","i18n.usergroup.managers_with_purchase_authority":"Purchasing Manager","i18n.usergroup.managers":"Manager","i18n.usergroup.users":"Employee"},$scope.setUserStatusDisplay=function(userId,userStatus){$scope["userStatusModel"+userId]=userStatus},$scope.getUserStatusDisplay=function(userId){var status=$scope["userStatusModel"+userId];return"undefined"==typeof $scope.i18nMessages?status:$scope.i18nMessages[status]},$scope.setUserGroupDisplay=function(userId,allUserRole,userGroupId){angular.forEach(allUserRole,function(listObj,index){listObj.id==userGroupId&&($scope["userRoleModel"+userId]=listObj.displayName)})},$scope.getUserGroupDisplay=function(userId){var group=$scope["userRoleModel"+userId];return"undefined"==typeof $scope.i18nMessages?status:$scope.i18nMessages[group]},$scope.updateMe=function(item){$scope[item]=!0},$scope.processTab=function(array){$scope.currentTabArray[0]===array[0]?$scope.currentTabArray=[]:$scope.currentTabArray=array},$scope.changeUserGroup=function(userId,value,url){$scope.roleIsLoading=!0;var ajaxURL=url+userId+"/"+value,data={};data.userId=userId,data.value=value,data.origin="Change Group";var callback=$scope.changeUserGroupCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.changeUserGroupCallback=function(response){$scope.roleIsLoading=!1,$scope["userRoleModel"+response.postData.userId]=response.data.displayName,$scope["editrole"+response.postData.userId]=!1},$scope.changeUserStatus=function(userId,value,url){$scope.statusIsLoading=!0;var ajaxURL=url+userId+"/"+value,data={};data.userId=userId,data.value=value,data.origin="Change Status";var callback=$scope.changeUserStatusCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.changeUserStatusCallback=function(response){$scope.statusIsLoading=!1,$scope["userStatusModel"+response.postData.userId]=response.data.displayName,$scope["editstatus"+response.postData.userId]=!1},$scope.unsubscribeProduct=function(userId,value,url){$scope["removingLicence"+userId+value]=!0;var ajaxURL=url+userId+"/"+value,data={};data.userId=userId,data.value=value,data.origin="Unsubscribe Product";var callback=$scope.unsubscribeProductCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.confirmRemoveUser=function(item){$scope[item]=!0},$scope.cancelRemoveUser=function(item){$scope[item]=!1},$scope.removeUser=function(event,userId){var data={};data.userId=userId,data.origin="Remove User";var ajaxURL=$(event.currentTarget).attr("data-path"),callback=$scope.removeUserCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.unsubscribeProductCallback=function(response,identifier){angular.forEach($scope.results.users,function(userObject,key){userObject.id==response.postData.userId&&angular.forEach(userObject.products,function(product,key){product.productId==response.postData.value&&userObject.products.splice($.inArray(product,userObject.products),1)})})},$scope.confirmRemoveUserLicence=function(identifier,userId,productId){$scope[identifier+userId+productId]=!0},$scope.cancelRemoveUserLicence=function(identifier,userId,productId){$scope[identifier+userId+productId]=!1},$scope.removeUserCallback=function(response){var newUsers=_.reject($scope.results.users,function(el){return el.id===response.postData.userId});$scope.results.users=newUsers,$scope.currentTab="",$scope.currentTabArray=[],newUsers=_.reject($scope.currentResults.users,function(el){return el.id===response.postData.userId}),$scope.currentResults.users=newUsers},$scope.makeAjaxCall=function(ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){response.data.success?($scope.ajaxErrorHeader="",callbackFn&&callbackFn(response)):($scope.ajaxErrorHeader=data.origin,$scope.ajaxErrorMessage=response.data.error)})}}]).filter("userFilter",function(){return function(users,searchText,currentTabArray){var searchRegx=new RegExp(searchText,"i");if(void 0==searchText&&currentTabArray==[])return users;var result=[],i=0;for(i=0;i<users.length;i++){var fullName=users[i].firstName+" "+users[i].lastName;if(-1!=fullName.search(searchRegx)||-1!=users[i].email.search(searchText))if(currentTabArray.length){var firstLetter=users[i].lastName.substring(0,1).toLowerCase();currentTabArray.indexOf(firstLetter)>-1&&result.push(users[i])}else result.push(users[i])}return result}})}(),function(){"use strict";angular.module("navigation",[]).controller("navigationCtrl",["$scope","$window","$http",function($scope,$window,$http){$scope.mobileViewDetect=!(window.innerWidth>415),$scope.navTransparent=!1,$scope.languageMenu=!1,$scope.nav={},$scope.nav={marketplace:navInit.marketplace||!1,help:navInit.help||!1,manageApps:navInit.manageApps||!1,managePeople:navInit.managePeople||!1,myProfile:navInit.myProfile||!1,dashboard:navInit.dashboard||!1,myPayment:navInit.myPayments||!1,login:navInit.login||!1},$scope.detectMarketplaceUrl=function(){var pageLinkArr=$window.location.href.split("/"),relativeUrl=pageLinkArr[pageLinkArr.length-1];"marketplace"==relativeUrl?$scope.navTransparent=!0:$scope.navTransparent=!1},$scope.detectMarketplaceUrl(),$scope.resetLanguage=function(langUrl,ajaxUrl,opt1,opt2){var options={};options.token=opt1,options.header=opt2,$http({url:ajaxUrl,method:"POST",data:{},headers:options}).then(function(response){window.location.href=langUrl},function(response){window.location.href=langUrl})},$scope.toggleDropdowns=function(dropdown){"language"==dropdown?($scope.languageSelected=!$scope.languageSelected,$scope.cartOpen=!1,$scope.myProfileSelected=!1):"profile"==dropdown?($scope.myProfileSelected=!$scope.myProfileSelected,$scope.languageSelected=!1,$scope.cartOpen=!1):"shoppingCart"==dropdown&&($scope.cartOpen=!$scope.cartOpen,$scope.languageSelected=!1,$scope.myProfileSelected=!1)},$(".dropdown-menu").length>0&&$(document).mouseup(function(e){var containerUser=$(".dropdown-menu");if(!containerUser.is(e.target)&&0===containerUser.has(e.target).length){var scope=angular.element($(".dropdown-menu")).scope();scope.$apply(function(){$scope.myProfileSelected=!1,"pull-left hidden-sm active"==e.target.className&&($scope.myProfileSelected=!$scope.myProfileSelected)})}}),$(".language-panel").length>0&&$(document).mouseup(function(e){var containerLanguage=$(".language-panel"),selectLanguage=$(".locale");if(!containerLanguage.is(e.target)&&0===containerLanguage.has(e.target).length&&!selectLanguage.is(e.target)&&0===selectLanguage.has(e.target).length){var scope=angular.element($(".language-panel")).scope();scope.$apply(function(){$scope.languageSelected=!1,"pull-left selected"==e.target.className&&($scope.languageSelected=!$scope.languageSelected)})}})}])}(),function(){"use strict";angular.module("product",[]).controller("productCtrl",["$scope",function($scope){$scope.modulePosition=0,$scope.maxLimit=!0,$scope.minLimit=!0,$scope.pricingHasRoom=!0,$scope.pricingShowLess=function(){var moduleWidth=$(".pricing-tier").width(),totalPricingModules=$(".pricing-tier").length,totalPricingModulesWidth=-1*(moduleWidth*totalPricingModules-3*moduleWidth+30*totalPricingModules);$scope.modulePosition=$scope.modulePosition+moduleWidth,$(".horizontal-scroll-inner").css("margin-left",$scope.modulePosition+"px"),$scope.modulePosition<0?$scope.minLimit=!1:$scope.minLimit=!0,$scope.modulePosition>totalPricingModulesWidth?$scope.maxLimit=!1:$scope.maxLimit=!0},$scope.pricingShowMore=function(){var moduleWidth=$(".pricing-tier").width(),totalPricingModules=$(".pricing-tier").length;totalPricingModules>4&&(totalPricingModules/=2);var totalPricingModulesWidth=-1*(moduleWidth*totalPricingModules-3*moduleWidth+30*totalPricingModules);console.log("(1)"+moduleWidth+"(2)"+totalPricingModules+"(3)"+totalPricingModulesWidth),$scope.modulePosition=$scope.modulePosition-moduleWidth,$(".horizontal-scroll-inner").css("margin-left",$scope.modulePosition-30+"px"),$scope.modulePosition>totalPricingModulesWidth?$scope.maxLimit=!1:$scope.maxLimit=!0,$scope.modulePosition<0?$scope.minLimit=!1:$scope.minLimit=!0},$scope.checkTotalPricingModules=function(){var totalPricingModules=$(".pricing-tier").length;window.innerWidth>1024&&(totalPricingModules>4?($scope.maxLimit=!1,$scope.pricingHasRoom=!1):$scope.maxLimit=!0),window.innerWidth<1025&&(totalPricingModules>3?($scope.maxLimit=!1,$scope.pricingHasRoom=!1):$scope.maxLimit=!0),window.innerWidth<769&&(totalPricingModules>2?($scope.maxLimit=!1,$scope.pricingHasRoom=!1):$scope.maxLimit=!0),window.innerWidth<430&&($scope.pricingHasRoom=!1,$scope.maxLimit=!0,$scope.maxLimit=!0)},$scope.checkTechSpecHeight=function(){$(".limit-height").height()>380?$scope.viewHideLinks=!0:$scope.viewHideLinks=!1},$scope.checkTotalPricingModules()}])}(),function(){"use strict";angular.module("products",[]).controller("productsCtrl",["$scope","postService",function($scope,postService){$scope.products=productsJson,$scope.productsBackUp=angular.copy(productsJson),$scope.cancelImmediate=!1,$scope.savedChanges=null,$scope.saveChangesButton=!1,$scope.discardChanges=function(){$scope.products=angular.copy($scope.productsBackUp)},$scope.getTotal=function(){for(var total=0,i=0;i<$scope.products.length;i++)1==$scope.products[i].checked&&(total+=$scope.products[i].price);return total},$scope.updateCompanyProducts=function(ajaxUrl,opt1,opt2){$scope.saveChangesButton=!0;var postData=$scope.products,options={};options.token=opt1,options.header=opt2,ajaxUrl=ajaxUrl+"/"+$scope.cancelImmediate,console.log("ajaxUrl",ajaxUrl),postService.postData(ajaxUrl,postData,options).then(function(response){$scope.saveChangesButton=!1,console.log("success",response.data.success),1==response.data.success?$scope.savedChanges=!0:$scope.savedChanges=!1,console.log("response.data.companyProducts",response.data.companyProducts),$scope.products=response.data.companyProducts,$scope.productsBackUp=angular.copy(response.data.companyProducts)})}}])}(),function(){"use strict";angular.module("service",[]).factory("postService",function($http){function postData(ajaxURL,postData,options){var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token;var postData=postData;return $http({url:ajaxURL,method:"POST",data:postData,headers:headers}).then(function(response){var returnData={postData:response.config.data,data:response.data};return returnData},function(response){return response})}return{postData:postData}})}(),function(){"use strict";angular.module("resetpassword",[]).controller("resetpasswordCtrl",["$scope","resetpasswordserviceCall",function($scope,resetpasswordserviceCall){$scope.newPassword="",$scope.callResetPasswordService=function(ajaxUrl){resetpasswordserviceCall.getData(ajaxUrl).then(function(response){1==response.data.success?$scope.newPassword="New Password : "+response.data.password:$scope.newPassword="Unable retrieve the password please try again"})}}])}(),function(){"use strict";angular.module("resetpasswordservice",[]).factory("resetpasswordserviceCall",function($http){function getData(ajaxURL){return $http({url:ajaxURL,method:"GET"}).then(function(response){console.log(response);var returnData={postData:response.config.data,data:response.data,status:response.status};return returnData},function(response){return response})}return{getData:getData}})}(),function(){"use strict";angular.module("manageusertype",[]).controller("manageusertypeCtrl",["$scope","resetpasswordserviceCall",function($scope,resetpasswordserviceCall){$scope.switchUserType=function(emailId,isDbitUser,ajaxUrl){var message="Please confirm the switch to "+("false"===isDbitUser?"DB-IT":"NON DB-IT"),r=confirm(message);1==r||(txt="You pressed Cancel!")}}]).directive("switchuser",function(resetpasswordserviceCall){return{restrict:"A",link:function($scope,element,attrs){element.on("click",function(){var message="Please confirm the switch to "+("false"===attrs.dbitcustomer?"DB-IT":"NON DB-IT"),r=confirm(message);1==r&&resetpasswordserviceCall.getData(attrs.serviceurl).then(function(response){1==response.data.success?(attrs.$$element.val("Switch To "+("false"===attrs.dbitcustomer?"NON DB-IT":"DB-IT")),attrs.dbitcustomer="false"===attrs.dbitcustomer?"true":"false"):alert(response.data.error)})})}}})}(),function(){"use strict";angular.module("canceluser",[]).controller("canceluserCtrl",["$scope","resetpasswordserviceCall",function($scope,resetpasswordserviceCall){$scope.showCancelConfirmation=!1,$scope.cancelUser=function(ajaxUrl){console.log(ajaxUrl),resetpasswordserviceCall.getData(ajaxUrl).then(function(response){console.log(response),200==response.status?alert("The user has been successfully cancelled"):alert("Unable to cancel the user")})}}])}(),function(){"use strict";angular.module("helpcenter",[]).controller("helpcenterCtrl",["$scope",function($scope){function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))}$scope.sectionId=getParameterByName("sectionId")||0,$scope.itemId=getParameterByName("itemId")||0,$scope.accordionChoice=$scope.sectionId||0,console.log($scope.accordionChoice,$scope.itemId),$scope.setItemId=function(item){$scope.itemId==item?$scope.itemId="":$scope.itemId=item}}])}(),function(){"use strict";angular.module("shoppingcart",["ngAnimate"]).factory("shoppingcartFtry",function($http){return{getCart:function(callback){var restUrl=SaaS.restlocation.split("/en/");$http.get(restUrl[0]+"rest/managecart/items").success(callback)}}}).controller("shoppingcartCtrl",["$scope","$rootScope","$window","$timeout","$http","shoppingcartFtry",function($scope,$rootScope,$window,$timeout,$http,shoppingcartFtry){$scope.scroll=0,$scope.cartOpen=!1,$scope.lastRemovedItem="",$scope.currentUrl,$scope.totalProducts=0,$scope.restUrl=SaaS.restlocation.split("/en/"),$scope.toggleCart=function(){$scope.cartOpen=!$scope.cartOpen,0==$scope.cartOpen&&($scope.loginActive=!1)},$scope.toggleOverlay=function(){$rootScope.mobileMenu=!$rootScope.mobileMenu},$scope.toggleCartOverlay=function(){$rootScope.cartMenu=!$rootScope.cartMenu},$scope.getCart=function(){shoppingcartFtry.getCart(function(data){$rootScope.cartData=data,$scope.totalPrice=$rootScope.cartData.unitPrice*$rootScope.cartData.quantity,$scope.calcProducts()})},$scope.getCart(),$scope.removeFromCart=function(id,opt1,opt2){var productToRemove=id,productToRemoveStr=productToRemove.toString(),options={};options.token=opt1,options.header=opt2;var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token,$http({url:$scope.restUrl[0]+"rest/managecart/items",traditional:!0,method:"DELETE",data:productToRemoveStr,contentType:"application/json",headers:headers}).success(function(data,status,headers,config){$rootScope.cartData=data,
$scope.calcProducts()}).error(function(data,status,headers,config){console.log("Ajax failed - Remove from cart")})},$scope.calcProducts=function(){$scope.totalProducts=$window.document.getElementsByClassName("cartProduct").length,window.innerWidth<450?$scope.totalProducts>6?$scope.extraCheckoutButton=!0:$scope.extraCheckoutButton=!1:$scope.totalProducts>9?$scope.extraCheckoutButton=!0:$scope.extraCheckoutButton=!1},$scope.isEmpty=function(){return 0==$scope.totalProducts},$scope.cartDataRemoveFromCart=function(item){$scope.lastRemovedItem=item.name,$scope.lastRemovedItemLink=item.path},$(document).mouseup(function(e){var container=$(".shopping-cart");if(!container.is(e.target)&&0===container.has(e.target).length){var scope=angular.element($(".shopping-cart")).scope();scope.$apply(function(){$scope.cartOpen=!1,$scope.loginActive=!1,1==$rootScope.cartMenu&&$scope.toggleCartOverlay(),"active"==e.target.className&&($scope.toggleCart(),1==$rootScope.cartMenu?0==$rootScope.cartMenu:$rootScope.cartMenu=!0)})}})}]).directive("closer",function(){return{restrict:"E",link:function($scope,element,attrs,$timeout){var closeLinks=angular.element(element[0].querySelectorAll(".closeLink"));closeLinks.bind("click",function(){element.remove()})}}})}(),function(){"use strict";angular.module("subscription_summary",[]).controller("subscriptionSummaryCtrl",["$scope","$http",function($scope,$http){$scope.printPage=function(){window.print()},"undefined"==typeof telesalesAgent?$scope.telesales=!1:$scope.telesales=telesalesAgent,$scope.telesales?$scope.staffAgentCollapsed=!0:$scope.staffAgentCollapsed=!1,$scope.isTelesalesAgent=function(){return $scope.telesales},$scope.isStaffAgentCollapsed=function(){return $scope.staffAgentCollapsed},$scope.collapseStaffAgent=function(){$scope.staffAgentCollapsed=!$scope.staffAgentCollapsed},"undefined"!=typeof couponCode&&($scope.couponCode=couponCode),$scope.couponValid=!1,$scope.couponSubmitted=!1,$scope.couponLoading=!1,$scope.couponDiscount=!1,$scope.couponAmount=0,$scope.couponIsDiscount=function(){return $scope.couponDiscount},$scope.couponIsLoading=function(){return $scope.couponLoading},$scope.getValidCoupon=function(){return $scope.couponValid&&$scope.couponSubmitted?$scope.couponCode:!1},$scope.couponError=function(){return $scope.couponSubmitted&&$scope.couponValid?!1:$scope.couponSubmitted&&!$scope.couponValid?!0:$scope.couponSubmitted?void 0:!1},$scope.couponSuccess=function(){return!(!$scope.couponSubmitted||!$scope.couponValid)},$scope.couponMessage="",$scope.getCouponMessage=function(){return $scope.couponMessage},$scope.couponDiscount=!1,$scope.couponName="",$scope.getCouponName=function(){return $scope.couponName},$scope.getCouponDiscount=function(){return 1==$scope.couponDiscount?$scope.couponAmount:!1},$scope.getCouponAmount=function(){return $scope.couponAmount},$scope.totalAmount=0,$scope.getTotalAmount=function(){return $scope.getCouponDiscount()?$scope.totalAmount-$scope.getCouponAmount():$scope.totalAmount},$scope.getTotalAmountWithTaxes=function(){return $scope.getTotalAmount()},$scope.submitCoupon=function(ctxPath){$scope.couponSuccess()||($scope.couponSubmitted=!1,$scope.couponLoading=!0,"undefined"==typeof ctxPath&&(ctxPath=""),"undefined"!=$scope.couponCode&&$http({url:ctxPath+"/rest/coupon/validate/"+$scope.couponCode,method:"GET"}).then(function(response){return response.data.success?($scope.couponLoading=!1,$scope.couponSubmitted=!0,$scope.couponValid=!0,$scope.couponAmount=response.data.amount,$scope.validCoupon=$scope.couponCode,$scope.couponMessage=response.data.message,$scope.couponName=response.data.discountName,$scope.couponDiscount=response.data.discount):($scope.couponSubmitted=!0,$scope.couponLoading=!1,$scope.couponValid=!1,$scope.couponMessage=response.data.message),!0},function(response){return!1}))}}])}(),function(){"use strict";angular.module("mozyproComponent",[]).controller("mozyLicenseKeyCtrl",["$scope",function($scope){$scope.licenseObj=obj,$scope.currentOS=$scope.licenseObj.os,$scope.setCurrentOS=function(currentOS){alert(currentOS)}}])}(),function(){"use strict";angular.module("dashboard",[]).controller("dashboardCtrl",["$scope","postService",function($scope,postService){$scope.currentItem=null,$scope.allNotifications=!0,$scope.welcome=!0,$scope.setCurrentItem=function(item){$scope.currentItem==item?(console.log("here"),$scope.currentItem=null):$scope.currentItem=item},$scope.closeAllNotifications=function(){$scope.allNotifications=!1},$scope.closeWelcomeMessage=function(path){var ajaxURL=$(event.currentTarget).attr("data-path"),callback=$scope.removeWelcome;$scope.makeAjaxCall(ajaxURL,callback)},$scope.makeAjaxCall=function(ajaxURL,callback){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,"",options).then(function(response){$scope.removeWelcome()})},$scope.removeWelcome=function(){$scope.welcome=!1,$scope.showWelcome=!1},$scope.expandFreeTrial=function(id){$scope["isActive_"+id]=!+$scope["isActive_"+id]}}])}(),function(){"use strict";angular.module("eoi",[]).controller("eoiCtrl",["$scope","$http",function($scope,$http){$scope.showAlert=!1,$scope.loading=!1,$scope.sendMoreInfoEmail=function(opt1,opt2,productId){var postData={staffAgentID:$scope.sendMoreInfoForm["user.staffAgentID"].$modelValue,staffAgentEmail:$scope.sendMoreInfoForm["user.staffAgentEmail"].$modelValue,customerFirstName:$scope.sendMoreInfoForm["user.customerFirstName"].$modelValue,customerLastName:$scope.sendMoreInfoForm["user.customerLastName"].$modelValue,customerEmail:$scope.sendMoreInfoForm["user.customerEmail"].$modelValue,customerPhoneNumber:$scope.sendMoreInfoForm["user.customerPhoneNumber"].$modelValue,reasonNotPurchasing:$scope.sendMoreInfoForm["user.reasonNotPurchasing"].$modelValue,customerLanguage:"null"},options={};options.token=opt1,options.header=opt2;var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token,$scope.restUrl=SaaS.restlocation.split("/en/"),$scope.loading=!0,$http({url:$scope.restUrl[0]+"rest/expressionOfInterest/"+productId,traditional:!0,method:"POST",data:postData,contentType:"application/json",headers:headers}).success(function(data,status,headers,config){$scope.loading=!1,$("#modal-eoi").modal("hide"),$("#modal-eoiSuccess").modal("show")}).error(function(data,status,headers,config){$scope.loading=!1,$scope.showAlert=!0})}}]).controller("captchaCtrl",["$scope",function($scope){function randomCaptcha(){for(var arr=[];arr.length<5;){for(var randomnumber=Math.ceil(21*Math.random()),found=!1,i=0;i<arr.length;i++)if(arr[i]==randomnumber){found=!0;break}found||(arr[arr.length]=randomnumber)}return arr}$scope.locale=locale,$scope.captcha={21:{en:"Lock",fr:"Cadenas"},1:{en:"Cat",fr:"Chat"},2:{en:"Car",fr:"Voiture"},3:{en:"Van",fr:"Camion"},4:{en:"T-shirt",fr:"T-shirt"},5:{en:"Graph",fr:"Graphique"},6:{en:"Laptop",fr:"PC portable"},7:{en:"Clock",fr:"Horloge"},8:{en:"Sun glasses",fr:"Lunettes de soleil"},9:{en:"Balloons",fr:"Ballons"},10:{en:"Magnifier",fr:"Loupe"},11:{en:"Umbrella",fr:"Parapluie"},12:{en:"Paper clip",fr:"Trombone"},13:{en:"Folder",fr:"Dossier"},14:{en:"Globe",fr:"Mondo"},15:{en:"Chair",fr:"Chaise"},16:{en:"Cloud",fr:"Nuage"},17:{en:"Musical note",fr:"Note de musique"},18:{en:"House",fr:"Maison"},19:{en:"Pencil",fr:"Crayon"},20:{en:"Plane",fr:"Avion"}},$scope.captchaOption_1={img:"20",name:"Plane"},$scope.captchaOption_2={img:"19",name:"Pencil"},$scope.captchaOption_3={img:"18",name:"House"},$scope.captchaOption_4={img:"17",name:"Musical note"},$scope.captchaOption_5={img:"16",name:"Cloud"},$scope.setCaptcha=function(){$scope.captchaOptions=randomCaptcha();var rand=$scope.captchaOptions[Math.floor(Math.random()*$scope.captchaOptions.length)],i=0;return angular.forEach($scope.captchaOptions,function(count){i+=1,$scope["captchaOption_"+i].name=$scope.captcha[count][$scope.locale],$scope["captchaOption_"+i].img=count,count==rand&&($scope.captchaAnswer=$scope.captcha[count][$scope.locale])}),!0},$scope.answerCaptcha=function(answer){$scope.captchaAnswer==answer?$scope.captchaStatus=!0:$scope.setCaptcha()}}])}(),function(){"use strict";angular.module("terms",[]).controller("termsCtrl",["$scope","$location","$anchorScroll",function($scope,$location,$anchorScroll){function getURLParameters(paramName){var sURL=window.document.URL.toString();if(sURL.indexOf("?")>0){var arrParams=sURL.split("?"),arrURLParams=arrParams[1].split("&"),arrParamNames=new Array(arrURLParams.length),arrParamValues=new Array(arrURLParams.length),i=0;for(i=0;i<arrURLParams.length;i++){var sParam=arrURLParams[i].split("=");arrParamNames[i]=sParam[0],""!=sParam[1]?arrParamValues[i]=unescape(sParam[1]):arrParamValues[i]="No Value"}for(i=0;i<arrURLParams.length;i++)if(arrParamNames[i]==paramName)return arrParamValues[i];return"No Parameters Found"}}console.log("whoop",getURLParameters("scroll")),$scope.scrollTo=function(id){$location.hash(id),console.log($location.hash()),$anchorScroll()},$scope.scrollTo(getURLParameters("scroll"))}])}(),angular.module("Darwin-SaaS",["ui.bootstrap","payment","filters","marketplace","myprofile","pricing","inviteusers","manageapps","manageusers","navigation","product","products","service","resetpassword","resetpasswordservice","manageusertype","canceluser","helpcenter","shoppingcart","subscription_summary","mozyproComponent","dashboard","eoi","terms"]).constant("Modernizr",Modernizr).config(function($sceDelegateProvider,$locationProvider){$sceDelegateProvider.resourceUrlWhitelist(["self","https://mbotc-cdn.global.ssl.fastly.net/**","https://mbotc-stage-cloudsaasportal.global.ssl.fastly.net/**"])}).controller("MainCtrl",["$scope","$rootScope","$timeout","$location","$anchorScroll",function($scope,$rootScope,$timeout,$location,$anchorScroll){$rootScope.cartData={},$rootScope.mobileMenu=!1,$rootScope.cartMenu=!1,$scope.scrollToLocation=function(path,anchor){$location.path(path),$timeout(function(){$anchorScroll(anchor)},500)}}]),$(document).ready(function(){$("#moMobileNumber").length&&($("#moMobileNumber").intlTelInput({defaultCountry:OpCo,numberType:"MOBILE",onlyCountries:["cm","ci","gn","za","ug","ng","sz","zm","gh","rw"],utilsScript:SaaS.location+"js/base/utils.js"}),$("#moMobileNumber").keyup(function(){$(this).val().length<5?($("#errorMoMobileNumber").show(),$(this).addClass("error"),$("#moMobileNumberContainer").addClass("error")):($("#errorMoMobileNumber").hide(),$(this).removeClass("error"),$("#moMobileNumberContainer").removeClass("error"))}))});