/*! bcsg-ee - v1.11.0 */
function decodeJson(jsonResult){if(null==jsonResult)return"";var ret=jsonResult.r;if(null==ret){var result=JSON.parse(jsonResult);if(null!=result&&null!=result.e)return alert("Exception:	"+result.e+"\nMessage:	"+result.m),""}return ret}function engineConfig(url){this.url=url,this.storeId=null,this.protocol="json"}function kkEng(config){this.url=config.url,this.storeId=config.storeId,this.protocol=config.protocol}function callEng(parms,callback,context,eng){var jsonp="jsonp"===eng.protocol;$.ajax({type:jsonp?"GET":"POST",dataType:jsonp?"jsonp":"json",timeout:"20000",scriptCharset:"utf-8",contentType:"application/json; charset=utf-8",url:eng.url,data:parms,context:context,success:callback,error:function(jqXHR,textStatus,errorThrown){var errorMsg="JSONP API call to KonaKart engine wasn't successful. Verify that the KonaKart engine is available at the URL:\n"+eng.url+", and that JSON is enabled for the engine.";textStatus&&(errorMsg+="\nStatus:	"+textStatus),errorThrown&&(errorMsg+="\nError:	"+errorThrown),alert(errorMsg)}})}function createJsonParmString(funcName,parmArray,eng){var data=params||{};return data.f=name,config&&config.storeId&&(data.s=config.storeId),JSON.stringify(data)}function OrderUpdate(){}function ManufacturerSearch(){}function CreateOrderOptions(){}function Promotion(){}function Order(){}function Basket(){}function WishListItem(){}function DigitalDownload(){}function BookableProductOptions(){}function CreditCard(){}function CustomerEvent(){}function AddToWishListOptions(){}function FetchProductOptions(){}function ZoneSearch(){}function OrderSearch(){}function ProductSearch(){}function NotificationOptions(){}function SubscriptionSearch(){}function FetchTagGroupOptions(){}function KKCookie(){}function Zone(){}function CustomerRegistration(){}function OrderProduct(){}function PromotionOptions(){}function Customer(){}function PdfOptions(){}function ReviewSearch(){}function ProductImagesOptions(){}function MqOptions(){}function Product(){}function EmailOptions(){}function PunchOutOptions(){}function SSOToken(){}function Review(){}function Booking(){}function LanguageSearch(){}function Subscription(){}function IpnHistory(){}function CustomerTag(){}function CustomerSearch(){}function Address(){}function AddToBasketOptions(){}function WishList(){}function DataDescriptor(){}function SuggestedSearchOptions(){}function BankAccountValidation_Interactive_Validate_v2_00(Key,AccountNumber,SortCode){return $.getJSON("https://services.postcodeanywhere.co.uk/BankAccountValidation/Interactive/Validate/v2.00/json3.ws?callback=?",{Key:Key,AccountNumber:AccountNumber,SortCode:SortCode}).done(function(data){return data})}function CraftyPostcodeCreate(){return _cp_instance_idx++,_cp_instances[_cp_instance_idx]=new CraftyPostcodeClass,_cp_instances[_cp_instance_idx].obj_idx=_cp_instance_idx,_cp_instances[_cp_instance_idx]}function _cp_sp(a){var ii,pi="";for(ii=0;ii<_cp_pl.length;ii++)if(pi=_cp_pl[ii],pi==a.substr(0,pi.length).toUpperCase())return a.substr(pi.length);return""}function _cp_eh(ha){for(var hn="";hn=ha.shift();)if(!isNaN(parseInt(hn)))return parseInt(hn);return""}function _cp_kp(e){var cc;e||(e=window.event),e.keyCode?cc=e.keyCode:e.which&&(cc=e.which),13==cc&&this.onclick()}function CraftyPostcodeClass(){this.config={lookup_url:"pcls1.craftyclicks.co.uk/js/",access_token:"",basic_address:0,traditional_county:0,busy_img_url:"",hide_result:0,org_uppercase:1,town_uppercase:1,county_uppercase:0,addr_uppercase:0,delimiter:", ",msg1:"Please wait while we find the address",err_msg1:"This postcode could not be found, please try again or enter your address manually",err_msg2:"This postcode is not valid, please try again or enter your address manually",err_msg3:"Unable to connect to address lookup server, please enter your address manually.",err_msg4:"An unexpected error occured, please enter your address manually.",res_autoselect:1,res_select_on_change:1,debug_mode:0,lookup_timeout:1e4,form:"",elements:"",max_width:"",max_lines:1,first_res_line:"---- please select your address ----",result_elem_id:"",on_result_ready:null,on_result_selected:null,on_error:null,pre_populate_common_address_parts:0,elem_company:"crafty_out_company",elem_house_num:"",elem_street1:"crafty_out_street1",elem_street2:"crafty_out_street2",elem_street3:"crafty_out_street3",elem_town:"crafty_out_town",elem_county:"crafty_out_county",elem_postcode:"crafty_in_out_postcode",elem_udprn:"crafty_out_udprn",single_res_autoselect:0,single_res_notice:"---- address found, see below ----",elem_search_house:"crafty_in_search_house",elem_search_street:"crafty_in_search_street",elem_search_town:"crafty_in_search_town",max_results:25,err_msg5:"The house name/number could not be found, please try again.",err_msg6:"No results found, please modify your search and try again.",err_msg7:"Too many results, please modify your search and try again.",err_msg9:"Please provide more data and try again.",err_msg8:"Trial account limit reached, please use AA11AA, AA11AB, AA11AD or AA11AE."},this.xmlhttp=null,this.res_arr=null,this.disp_arr=null,this.res_arr_idx=0,this.dummy_1st_line=0,this.cc=0,this.flexi_search=0,this.lookup_timeout=null,this.obj_name="",this.house_search=0,this.set=function(field,val){this.config[field]=val},this.res_clicked=function(idx){this.cc++,this.res_selected(idx)&&0!=this.config.hide_result&&(2>=this.config.max_lines&&1<this.cc||2<this.config.max_lines)&&(this.update_res(null),this.cc=0)},this.res_selected=function(index){if(1==this.dummy_1st_line){if(0==index)return 0;index--}return index=this.disp_arr[index].index,this.populate_form_fields(this.res_arr[index]),this.config.on_result_selected&&this.config.on_result_selected(index),1},this.populate_form_fields=function(selected_line){for(var elem=[],dc=this.config.delimiter,i=0;8>i;i++)elem[i]=this.get_elem(i);elem[11]=this.get_elem(11),elem[11]&&(elem[11].value=selected_line.udprn),elem[0]&&(elem[0]==elem[1]&&""!=selected_line.org?(elem[1].value=selected_line.org,elem[1]=elem[2],elem[2]=elem[3],elem[3]=null):elem[0].value=selected_line.org);var house_name=selected_line.housename2;""!=house_name&&""!=selected_line.housename1&&(house_name+=dc),house_name+=selected_line.housename1;var house_num=selected_line.housenumber;elem[7]&&(elem[7].value=house_name,""!=house_name&&""!=house_num&&(elem[7].value+=dc),elem[7].value+=house_num,house_name="",house_num="");var str1=selected_line.street1,str2=selected_line.street2;""!=house_num&&(""!=str2?str2=house_num+" "+str2:str1=""!=str1?house_num+" "+str1:house_num);var combined_street=str2+(""==str2?"":""==str1?"":dc)+str1,locality_dep=selected_line.locality_dep,locality=selected_line.locality;""!=combined_street&&parseInt(combined_street)==combined_street&&(""!=locality_dep?locality_dep=parseInt(combined_street)+" "+locality_dep:locality=parseInt(combined_street)+" "+locality,combined_street="",str1="");var combined_loc=locality_dep+(""==locality_dep||""==locality?"":dc)+locality,combined_str_loc=combined_street+(""==combined_street||""==combined_loc?"":dc)+combined_loc;if(elem[1]&&elem[2]&&elem[3])""!=selected_line.pobox||""!=house_name?(""!=selected_line.pobox?elem[1].value=selected_line.pobox:elem[1].value=house_name,""==combined_loc?""==str2?(elem[2].value=str1,elem[3].value=""):(elem[2].value=str2,elem[3].value=str1):""==combined_street?""==locality_dep?(elem[2].value=locality,elem[3].value=""):(elem[2].value=locality_dep,elem[3].value=locality):(elem[2].value=combined_street,elem[3].value=combined_loc)):""==combined_street?""==locality_dep?(elem[1].value=locality,elem[2].value="",elem[3].value=""):(elem[1].value=locality_dep,elem[2].value=locality,elem[3].value=""):""==combined_loc?""==str2?(elem[1].value=str1,elem[2].value="",elem[3].value=""):(elem[1].value=str2,elem[2].value=str1,elem[3].value=""):""==str2?(elem[1].value=str1,""==locality_dep?(elem[2].value=locality,elem[3].value=""):(elem[2].value=locality_dep,elem[3].value=locality)):""==locality_dep?(elem[1].value=str2,elem[2].value=str1,elem[3].value=locality):combined_street.length<combined_loc.length?(elem[1].value=combined_street,elem[2].value=locality_dep,elem[3].value=locality):(elem[1].value=str2,elem[2].value=str1,elem[3].value=combined_loc);else if(elem[1]&&elem[2])""!=selected_line.pobox?(elem[1].value=selected_line.pobox,elem[2].value=combined_str_loc):""!=house_name&&""!=combined_street&&""!=combined_loc?house_name.length+combined_street.length<combined_street.length+combined_loc.length?(elem[1].value=house_name+(""==house_name?"":dc)+combined_street,elem[2].value=combined_loc):(elem[1].value=house_name,elem[2].value=combined_street+(""==combined_street?"":dc)+combined_loc):""!=house_name&&""!=combined_street?(elem[1].value=house_name,elem[2].value=combined_street):""==house_name&&""!=combined_street?""==combined_loc?""!=str2?(elem[1].value=str2,elem[2].value=str1):(elem[1].value=combined_street,elem[2].value=""):(elem[1].value=combined_street,elem[2].value=combined_loc):""==combined_street&&""!=house_name?(elem[1].value=house_name,elem[2].value=combined_loc):(elem[1].value=combined_loc,elem[2].value="");else{var single_elem;single_elem=elem[1]?elem[1]:elem[2]?elem[2]:elem[3],""!=selected_line.pobox?single_elem.value=selected_line.pobox+dc+combined_loc:single_elem.value=house_name+(""==house_name||""==combined_str_loc?"":dc)+combined_str_loc}return elem[4]&&(elem[4].value=selected_line.town),elem[5]&&(elem[5].value=selected_line.county),elem[6]&&(elem[6].value=selected_line.postcode),1},this.show_busy=function(){var bi=document.createElement("img"),na=document.createAttribute("src");na.value=this.config.busy_img_url,bi.setAttributeNode(na),na=document.createAttribute("title"),na.value=this.config.msg1,bi.setAttributeNode(na),this.update_res(bi)},this.disp_err=function(error_code,dbg_msg){var err_node=null,err_decoded_str="";if(""!=error_code){switch(error_code){case"0001":err_decoded_str=this.config.err_msg1;break;case"0002":err_decoded_str=this.config.err_msg2;break;case"9001":err_decoded_str=this.config.err_msg3;break;case"0003":err_decoded_str=this.config.err_msg9;break;case"0004":err_decoded_str=this.config.err_msg6;break;case"0005":err_decoded_str=this.config.err_msg7;break;case"7001":err_decoded_str=this.config.err_msg8;break;default:err_decoded_str="("+error_code+") "+this.config.err_msg4}if(this.config.debug_mode){var err_info="";switch(error_code){case"8000":err_info=" :: No Access Token ";break;case"8001":err_info=" :: Invalid Token Format ";break;case"8002":err_info=" :: Invalid Token ";break;case"8003":err_info=" :: Out of Credits ";break;case"8004":err_info=" :: Restricted by rules ";break;case"8005":err_info=" :: Token suspended "}err_decoded_str+=err_info+" :: DBG :: "+dbg_msg}err_node=document.createTextNode(err_decoded_str)}this.update_res(err_node),this.config.on_error&&this.config.on_error(err_decoded_str)},this.disp_err_msg=function(error_msg){var err_node=null;""!=error_msg&&(err_node=document.createTextNode(error_msg)),this.update_res(err_node),this.config.on_error&&this.config.on_error(error_msg)},this.display_res_line=function(dispstr,index){var postcodeResult=document.getElementById("crafty_postcode_lookup_result_option"+this.obj_idx),newOption=document.createElement("option");if(newOption.appendChild(document.createTextNode(dispstr)),null!=postcodeResult)postcodeResult.appendChild(newOption);else{var newSelection=document.createElement("select");newSelection.id="crafty_postcode_lookup_result_option"+this.obj_idx,newSelection.onclick=Function("_cp_instances["+this.obj_idx+"].res_clicked(this.selectedIndex);"),newSelection.onkeypress=_cp_kp,0!=this.config.res_select_on_change&&(newSelection.onchange=Function("_cp_instances["+this.obj_idx+"].res_selected(this.selectedIndex);")),this.config.max_width&&""!=this.config.max_width&&(newSelection.style.width=this.config.max_width);var num_res_lines=this.res_arr_idx;1==this.dummy_1st_line&&num_res_lines++,"Microsoft Internet Explorer"==navigator.appName&&parseFloat(navigator.appVersion)<=4?newSelection.size=0:num_res_lines>=this.config.max_lines?newSelection.size=this.config.max_lines:newSelection.size=num_res_lines,newSelection.appendChild(newOption),this.update_res(newSelection)}},this.update_res=function(new_element){this.lookup_timeout&&clearTimeout(this.lookup_timeout);try{if(document.getElementById){var the_parent=document.getElementById(this.config.result_elem_id);if(the_parent.hasChildNodes())for(;the_parent.firstChild;)the_parent.removeChild(the_parent.firstChild);null!=new_element&&the_parent.appendChild(new_element)}}catch(er){}},this.str_trim=function(s){for(var l=0,r=s.length-1;l<s.length&&" "==s[l];)l++;for(;r>l&&" "==s[r];)r-=1;return s.substring(l,r+1)},this.cp_uc=function(text){if("PC"==text||"UK"==text||"EU"==text)return text;for(var alpha="ABCDEFGHIJKLMNOPQRSTUVWXYZ",out_text="",do_uc=1,all_uc=0,i=0;i<text.length;i++)-1!=alpha.indexOf(text.charAt(i))?do_uc||all_uc?(out_text+=text.charAt(i),do_uc=0):out_text+=text.charAt(i).toLowerCase():(out_text+=text.charAt(i),i+2>=text.length&&"'"==text.charAt(i)?do_uc=0:"("==text.charAt(i)?(close_idx=text.indexOf(")",i+1),i+3<close_idx?(all_uc=0,do_uc=1):all_uc=1):")"==text.charAt(i)?(all_uc=0,do_uc=1):"-"==text.charAt(i)?(close_idx=text.indexOf("-",i+1),-1!=close_idx&&i+3>=close_idx||i+3>=text.length?(all_uc=0,do_uc=0):(all_uc=0,do_uc=1)):do_uc=i+2<text.length&&"0"<=text.charAt(i)&&"9">=text.charAt(i)?0:1);return out_text},this.leading_caps=function(txt,dont_do_it){if(0!=dont_do_it||2>txt.length)return txt;for(var out_text="",words=txt.split(" "),i=0;i<words.length;i++){var word=this.str_trim(words[i]);""!=word&&(""!=out_text&&(out_text+=" "),out_text+=this.cp_uc(word))}return out_text},this.new_res_line=function(){var al=[];return al.org="",al.housename1="",al.housename2="",al.pobox="",al.housenumber="",al.street1="",al.street2="",al.locality_dep="",al.locality="",al.town="",al.county="",al.postcode="",al.udprn="",al},this.res_arr_compare=function(a,b){if(a.match_quality>b.match_quality)return 1;if(a.match_quality<b.match_quality)return-1;if(a.street1>b.street1)return 1;if(a.street1<b.street1)return-1;if(a.street2>b.street2)return 1;if(a.street2<b.street2)return-1;var numA;numA=""==a.housenumber?_cp_eh(Array(a.housename1,a.housename2)):parseInt(a.housenumber);var numB;if(numB=""==b.housenumber?_cp_eh(Array(b.housename1,b.housename2)):parseInt(b.housenumber),""==numA&&""!=numB)return 1;if(""!=numA&&""==numB)return-1;if(numA>numB)return 1;if(numB>numA)return-1;var hseA=_cp_sp(a.housename1);isNaN(parseInt(hseA))||(hseA=parseInt(hseA));var hseB=_cp_sp(b.housename1);if(isNaN(parseInt(hseB))||(hseB=parseInt(hseB)),hseA>hseB)return 1;if(hseB>hseA)return-1;var hseA=_cp_sp(a.housename2);isNaN(parseInt(hseA))||(hseA=parseInt(hseA));var hseB=_cp_sp(b.housename2);return isNaN(parseInt(hseB))||(hseB=parseInt(hseB)),hseA>hseB?1:hseB>hseA?-1:(hseA=a.housename2+a.housename1,hseB=b.housename2+b.housename1,hseA>hseB?1:hseB>hseA?-1:a.org>b.org?1:a.org<b.org?-1:1)},this.disp_res_arr=function(){this.res_arr=this.res_arr.sort(this.res_arr_compare),0!=this.config.res_autoselect&&this.populate_form_fields(this.res_arr[0]);var dc=this.config.delimiter;this.disp_arr=[];for(var i=0;i<this.res_arr_idx;i++){var arrayline=this.res_arr[i],dispstr=arrayline.org+(""!=arrayline.org?dc:"")+arrayline.housename2+(""!=arrayline.housename2?dc:"")+arrayline.housename1+(""!=arrayline.housename1?dc:"")+arrayline.pobox+(""!=arrayline.pobox?dc:"")+arrayline.housenumber+(""!=arrayline.housenumber?" ":"")+arrayline.street2+(""!=arrayline.street2?dc:"")+arrayline.street1+(""!=arrayline.street1?dc:"")+arrayline.locality_dep+(""!=arrayline.locality_dep?dc:"")+arrayline.locality+(""!=arrayline.locality?dc:"")+arrayline.town;this.flexi_search&&(dispstr+=dc+arrayline.postcode);var displine=[];displine.index=i,displine.str=dispstr,this.disp_arr[i]=displine}this.dummy_1st_line=0,""!=this.config.first_res_line&&(this.dummy_1st_line=1,this.display_res_line(this.config.first_res_line,-1));for(var i=0;i<this.res_arr_idx;i++)this.display_res_line(this.disp_arr[i].str,i);if(this.config.pre_populate_common_address_parts){var common_result=this.new_res_line();common_result.org=this.res_arr[0].org,common_result.housename1=this.res_arr[0].housename1,common_result.housename2=this.res_arr[0].housename2,common_result.pobox=this.res_arr[0].pobox,common_result.housenumber=this.res_arr[0].housenumber,common_result.street1=this.res_arr[0].street1,common_result.street2=this.res_arr[0].street2,common_result.locality_dep=this.res_arr[0].locality_dep,common_result.locality=this.res_arr[0].locality,common_result.town=this.res_arr[0].town,common_result.county=this.res_arr[0].county,common_result.postcode=this.res_arr[0].postcode,common_result.udprn=this.res_arr[0].udprn;for(var i=1;i<this.res_arr_idx;i++)this.res_arr[i].org!=common_result.org&&(common_result.org=""),this.res_arr[i].housename2!=common_result.housename2&&(common_result.housename2=""),this.res_arr[i].housename1!=common_result.housename1&&(common_result.housename1=""),this.res_arr[i].pobox!=common_result.pobox&&(common_result.pobox=""),this.res_arr[i].housenumber!=common_result.housenumber&&(common_result.housenumber=""),this.res_arr[i].street1!=common_result.street1&&(common_result.street1=""),this.res_arr[i].street2!=common_result.street2&&(common_result.street2=""),this.res_arr[i].locality_dep!=common_result.locality_dep&&(common_result.locality_dep=""),this.res_arr[i].locality!=common_result.locality&&(common_result.locality=""),this.res_arr[i].town!=common_result.town&&(common_result.town=""),this.res_arr[i].county!=common_result.county&&(common_result.county=""),this.res_arr[i].postcode!=common_result.postcode&&(common_result.postcode=""),this.res_arr[i].udprn!=common_result.udprn&&(common_result.udprn="");this.populate_form_fields(common_result)}},this.get_elem=function(idx){var el_name="",el=null;if(""!=this.config.elements){var en=this.config.elements.split(",");el_name=en[idx]}else switch(idx){case 0:el_name=this.config.elem_company;break;case 1:el_name=this.config.elem_street1;break;case 2:el_name=this.config.elem_street2;break;case 3:el_name=this.config.elem_street3;break;case 4:el_name=this.config.elem_town;break;case 5:el_name=this.config.elem_county;break;case 6:default:el_name=this.config.elem_postcode;break;case 7:el_name=this.config.elem_house_num;break;case 8:el_name=this.config.elem_search_house;break;case 9:el_name=this.config.elem_search_street;break;case 10:el_name=this.config.elem_search_town;break;case 11:el_name=this.config.elem_udprn}return""!=el_name&&(""!=this.config.form?el=document.forms[this.config.form].elements[el_name]:document.getElementById&&(el=document.getElementById(el_name))),el},this.doHouseSearch=function(){var he=this.get_elem(8);he&&0<he.value.length&&(this.house_search=1),this.doLookup()},this.doLookup=function(){this.xmlhttp=null;var pe=this.get_elem(6),pc=null;pe&&(this.show_busy(),this.lookup_timeout=setTimeout("_cp_instances["+this.obj_idx+"].lookup_timeout_err()",this.config.lookup_timeout),pc=this.validate_pc(pe.value)),null!=pc?this.direct_xml_fetch(0,pc):this.disp_err("0002","invalid postcode format")},this.flexiSearch=function(){this.xmlhttp=null;var in_str="";this.get_elem(8)&&""!=this.get_elem(8).value&&(in_str+="&search_house="+this.get_elem(8).value),this.get_elem(9)&&""!=this.get_elem(9).value&&(in_str+="&search_street="+this.get_elem(9).value),this.get_elem(10)&&""!=this.get_elem(10).value&&(in_str+="&search_town="+this.get_elem(10).value),""!=in_str?(this.show_busy(),this.lookup_timeout=setTimeout("_cp_instances["+this.obj_idx+"].lookup_timeout_err()",this.config.lookup_timeout),this.direct_xml_fetch(1,in_str)):this.disp_err("0003","search string too short")},this.validate_pc=function(dirty_pc){var pc="";do pc=dirty_pc,dirty_pc=dirty_pc.replace(/[^A-Za-z0-9]/,"");while(pc!=dirty_pc);if(pc=dirty_pc.toUpperCase(),7>=pc.length&&5<=pc.length){var inc=pc.substring(pc.length-3,pc.length),outc=pc.substring(0,pc.length-3);if(1==/[CIKMOV]/.test(inc))return null;if("0"<=inc.charAt(0)&&"9">=inc.charAt(0)&&"A"<=inc.charAt(1)&&"Z">=inc.charAt(1)&&"A"<=inc.charAt(2)&&"Z">=inc.charAt(2))switch(outc.length){case 2:if("A"<=outc.charAt(0)&&"Z">=outc.charAt(0)&&"0"<=outc.charAt(1)&&"9">=outc.charAt(1))return pc;break;case 3:if("A"<=outc.charAt(0)&&"Z">=outc.charAt(0)){if("0"<=outc.charAt(1)&&"9">=outc.charAt(1)&&"0"<=outc.charAt(2)&&"9">=outc.charAt(2))return pc;if("A"<=outc.charAt(1)&&"Z">=outc.charAt(1)&&"0"<=outc.charAt(2)&&"9">=outc.charAt(2))return pc;if("0"<=outc.charAt(1)&&"9">=outc.charAt(1)&&"A"<=outc.charAt(2)&&"Z">=outc.charAt(2))return pc}break;case 4:if("A"<=outc.charAt(0)&&"Z">=outc.charAt(0)&&"A"<=outc.charAt(1)&&"Z">=outc.charAt(1)&&"0"<=outc.charAt(2)&&"9">=outc.charAt(2)){if("0"<=outc.charAt(3)&&"9">=outc.charAt(3))return pc;if("A"<=outc.charAt(3)&&"Z">=outc.charAt(3))return pc}}}return null},this.direct_xml_fetch=function(type,search_str){try{var the_parent=document.getElementById(this.config.result_elem_id),url="";if(url="https:"==document.location.protocol?"https://":"http://",0==type)url+=this.config.lookup_url,url+=this.config.basic_address?"basicaddress":"rapidaddress",url+="?postcode="+search_str+"&callback=_cp_instances["+this.obj_idx+"].handle_js_response&callback_id=0";else{if(this.config.basic_address)return void this.disp_err("1207","BasicAddress can't be used for Flexi Search!");url+=this.config.lookup_url+"flexiaddress?callback=_cp_instances["+this.obj_idx+"].handle_js_response&callback_id=1",url+="&max_results="+this.config.max_results,url+=search_str}""!=this.config.access_token&&(url+="&key="+this.config.access_token);var cs=document.createElement("script");cs.src=encodeURI(url),cs.type="text/javascript",the_parent.appendChild(cs)}catch(er){this.disp_err("1206",er)}},this.handle_js_response=function(callback_id,status,data){if(status){if(this.res_arr=[],this.res_arr_idx=0,0==callback_id){if(this.flexi_search=0,this.house_search&&(data=this.filter_data_by_house_name(data),null==data))return void this.disp_err_msg(this.config.err_msg5);this.add_to_res_array(data)}else{this.flexi_search=1,this.res_arr.total_postcode_count=data.total_postcode_count,this.res_arr.total_thoroughfare_count=data.total_thoroughfare_count,this.res_arr.total_delivery_point_count=data.total_delivery_point_count;for(var res_idx=1;res_idx<=data.total_postcode_count;res_idx++)this.add_to_res_array(data[res_idx])}if(this.res_arr_idx){var res_autoselected=!1;if(1==this.res_arr_idx&&this.config.single_res_autoselect){var msg_node=null;""!=this.config.single_res_notice&&(msg_node=document.createTextNode(this.config.single_res_notice)),this.update_res(msg_node),this.populate_form_fields(this.res_arr[0]),res_autoselected=!0}else{this.disp_res_arr();try{document.getElementById("crafty_postcode_lookup_result_option"+this.obj_idx).focus()}catch(error){}}if(0==callback_id&&""!=data.postcode){var pe=this.get_elem(6);pe.value=data.postcode}this.config.on_result_ready&&this.config.on_result_ready(),res_autoselected&&this.config.on_result_selected&&this.config.on_result_selected(0)}else this.disp_err("1205","no result to display")}else{var ef=data.error_code,em=data.error_msg;this.disp_err(ef,em)}},this.add_to_res_array=function(data){for(var str_idx=1;str_idx<=data.thoroughfare_count;str_idx++){var str1=data[str_idx].thoroughfare_name;""!=data[str_idx].thoroughfare_descriptor&&(str1+=" "+data[str_idx].thoroughfare_descriptor),str1=this.leading_caps(str1,this.config.addr_uppercase);var str2=data[str_idx].dependent_thoroughfare_name;if(""!=data[str_idx].dependent_thoroughfare_descriptor&&(str2+=" "+data[str_idx].dependent_thoroughfare_descriptor),str2=this.leading_caps(str2,this.config.addr_uppercase),"delivery_point_count"in data[str_idx]&&0<data[str_idx].delivery_point_count)for(var p_idx=1;p_idx<=data[str_idx].delivery_point_count;p_idx++){var al=this.new_res_line();al.street1=str1,al.street2=str2;var prem=data[str_idx][p_idx];"match_quality"in prem?al.match_quality=prem.match_quality:al.match_quality=1,al.housenumber=prem.building_number,al.housename2=this.leading_caps(prem.sub_building_name,this.config.addr_uppercase),al.housename1=this.leading_caps(prem.building_name,this.config.addr_uppercase),al.org=prem.department_name,""!=al.org&&""!=prem.organisation_name&&(al.org+=this.config.delimiter),al.org=this.leading_caps(al.org+prem.organisation_name,this.config.org_uppercase),al.pobox=this.leading_caps(prem.po_box_number,this.config.addr_uppercase),al.postcode=data.postcode,al.town=this.leading_caps(data.town,this.config.town_uppercase),al.locality=this.leading_caps(data.dependent_locality,this.config.addr_uppercase),al.locality_dep=this.leading_caps(data.double_dependent_locality,this.config.addr_uppercase),this.config.traditional_county?al.county=this.leading_caps(data.traditional_county,this.config.county_uppercase):al.county=this.leading_caps(data.postal_county,this.config.county_uppercase),al.udprn=prem.udprn,this.res_arr[this.res_arr_idx]=al,this.res_arr_idx++}else{var al=this.new_res_line();al.street1=str1,al.street2=str2,al.postcode=data.postcode,al.town=this.leading_caps(data.town,this.config.town_uppercase),al.locality=this.leading_caps(data.dependent_locality,this.config.addr_uppercase),al.locality_dep=this.leading_caps(data.double_dependent_locality,this.config.addr_uppercase),this.config.traditional_county?al.county=this.leading_caps(data.traditional_county,this.config.county_uppercase):al.county=this.leading_caps(data.postal_county,this.config.county_uppercase),al.match_quality=2,this.res_arr[this.res_arr_idx]=al,this.res_arr_idx++}}},this.filter_data_by_house_name=function(data){var he=this.get_elem(8);if(!he||!he.value.length)return data;var input=he.value.toUpperCase(),search_number=-1;parseInt(input)==input&&(search_number=parseInt(input));for(var search_string=" "+input,data_out=[],str_idx_out=1,p_idx_out=0,str_idx=1;str_idx<=data.thoroughfare_count;str_idx++){data_out[str_idx_out]=[],p_idx_out=0;for(var p_idx=1;p_idx<=data[str_idx].delivery_point_count;p_idx++){var prem=data[str_idx][p_idx],search_target=" "+prem.sub_building_name+" "+prem.building_name+" ";-1==search_target.indexOf(search_string)&&search_number!=parseInt(prem.building_number)||(p_idx_out++,data_out[str_idx_out][p_idx_out]=[],data_out[str_idx_out][p_idx_out].building_number=prem.building_number,data_out[str_idx_out][p_idx_out].sub_building_name=prem.sub_building_name,data_out[str_idx_out][p_idx_out].building_name=prem.building_name,data_out[str_idx_out][p_idx_out].department_name=prem.department_name,data_out[str_idx_out][p_idx_out].organisation_name=prem.organisation_name,data_out[str_idx_out][p_idx_out].po_box_number=prem.po_box_number,data_out[str_idx_out][p_idx_out].udprn=prem.udprn)}p_idx_out&&(data_out[str_idx_out].delivery_point_count=p_idx_out,data_out[str_idx_out].thoroughfare_name=data[str_idx].thoroughfare_name,data_out[str_idx_out].thoroughfare_descriptor=data[str_idx].thoroughfare_descriptor,data_out[str_idx_out].dependent_thoroughfare_name=data[str_idx].dependent_thoroughfare_name,data_out[str_idx_out].dependent_thoroughfare_descriptor=data[str_idx].dependent_thoroughfare_descriptor,str_idx_out++)}return str_idx_out>1?(data_out.thoroughfare_count=str_idx_out-1,data_out.town=data.town,data_out.dependent_locality=data.dependent_locality,data_out.double_dependent_locality=data.double_dependent_locality,data_out.traditional_county=data.traditional_county,data_out.postal_county=data.postal_county,data_out.postcode=data.postcode,data_out):null},this.lookup_timeout_err=function(){this.disp_err("9001","Internal Timeout after "+this.config.lookup_timeout+"ms")}}function initCookiePolicyPopUp(theCookiePolicy){var cookiePolicyHtml="<div id='cookie-policy-noticebar-content' class='cookie-policy-noticebar-content'><div class='container'><p>By browsing the EE site you're agreeing to the use of cookies. <a target='_blank' href='http://ee.co.uk/cookies' title='Read our privacy policy'> Learn more</a>&nbsp;&nbsp;<a class='close-cookie-policy'><span aria-hidden='true' class='icon-CrossCircle'></span></a></p></div></div>";null!=getCookiePolicy(theCookiePolicy)?setCookiePolicy(theCookiePolicy,"true","365"):($("header").prepend(cookiePolicyHtml),setCookiePolicy(theCookiePolicy,"true","365")),$("a.close-cookie-policy").click(function(){return $("div#cookie-policy-noticebar-content").remove(),!1})}function setCookiePolicy(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toGMTString()}document.cookie=name+"="+value+expires+"; domain=ee.co.uk;path=/"}function getCookiePolicy(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function deleteCookiePolicy(name){setCookie(name,"",-1)}function voucherAppController($scope,$http){$scope.message=null,$scope.doubleClick=!1,$scope.couponNumber=null,$scope.couponApplied=!1,$scope.items=prods,$scope.prodId=$scope.items.product.id,$scope.prodQuantity=1,$scope.price=null,$scope.disableDoubleClick=function(event){$scope.doubleClick?event.preventDefault():$scope.doubleClick=!0},$scope.processForm=function(ajaxUrl){var params=$scope.prodId+"/"+$scope.couponNumber+"/"+$scope.prodQuantity;$http.get(ajaxUrl+params).success(function(data){data.success?($scope.message="Your voucher has been applied.",$scope.price=data.price,$scope.couponApplied=!0):$scope.message=data.errorMessage})},$scope.updateProdId=function(prodId,price,fixreadonly){$scope["prodQuantity"+$scope.prodId]=0,fixreadonly&&($(".productspage-qty-input").attr("readonly","readonly"),$("#prod"+prodId+"Quantity").removeAttr("readonly")),$scope.prodId=prodId,$scope.kkProductId=prodId,$scope.price=price,$scope["prodQuantity"+prodId]=1,$scope.prodQuantity=1},$scope.updateQuantity=function(prodId){$scope.prodId==prodId&&($scope.prodQuantity=document.getElementById("prod"+prodId+"Quantity").value)}}kkEng.getLanguages=function(search,callback,context,eng){var parmArray=[],index=0;null!=search&&(parmArray[index++]="search",parmArray[index++]=JSON.stringify(search));var jsonParms=createJsonParmString("getLanguages",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllLanguages=function(callback,context,eng){var jsonParms=createJsonParmString("getAllLanguages",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getDefaultLanguage=function(callback,context,eng){var jsonParms=createJsonParmString("getDefaultLanguage",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getLanguagePerCode=function(code,callback,context,eng){var parmArray=[],index=0;null!=code&&(parmArray[index++]="code",parmArray[index++]=code);var jsonParms=createJsonParmString("getLanguagePerCode",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getLanguagePerId=function(languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getLanguagePerId",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCategoryTree=function(languageId,getNumProducts,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="languageId",parmArray[index++]=languageId,parmArray[index++]="getNumProducts",parmArray[index++]=getNumProducts;var jsonParms=createJsonParmString("getCategoryTree",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductsPerCategory=function(sessionId,dataDesc,categoryId,searchInSubCats,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="searchInSubCats",parmArray[index++]=searchInSubCats,parmArray[index++]="languageId",parmArray[index++]=languageId;
var jsonParms=createJsonParmString("getProductsPerCategory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductsPerCategoryWithOptions=function(sessionId,dataDesc,categoryId,searchInSubCats,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="searchInSubCats",parmArray[index++]=searchInSubCats,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductsPerCategoryWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductsPerCategoryPerManufacturer=function(sessionId,dataDesc,categoryId,manufacturerId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getProductsPerCategoryPerManufacturer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductsPerCategoryPerManufacturerWithOptions=function(sessionId,dataDesc,categoryId,manufacturerId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductsPerCategoryPerManufacturerWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductsPerManufacturer=function(sessionId,dataDesc,manufacturerId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getProductsPerManufacturer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductsPerManufacturerWithOptions=function(sessionId,dataDesc,manufacturerId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductsPerManufacturerWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProduct=function(sessionId,productId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getProduct",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductWithOptions=function(sessionId,productId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCategoriesPerManufacturer=function(manufacturerId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getCategoriesPerManufacturer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCategoriesPerProduct=function(productId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getCategoriesPerProduct",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getManufacturersPerCategory=function(categoryId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="categoryId",parmArray[index++]=categoryId;var jsonParms=createJsonParmString("getManufacturersPerCategory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getManufacturers=function(dataDesc,search,languageId,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=search&&(parmArray[index++]="search",parmArray[index++]=JSON.stringify(search)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getManufacturers",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllManufacturers=function(callback,context,eng){var jsonParms=createJsonParmString("getAllManufacturers",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getManufacturerPerProduct=function(productId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getManufacturerPerProduct",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getManufacturer=function(manufacturerId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getManufacturer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCategory=function(categoryId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getCategory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getSpecialsPerCategory=function(sessionId,dataDesc,categoryId,searchInSubCats,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="searchInSubCats",parmArray[index++]=searchInSubCats,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getSpecialsPerCategory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllSpecials=function(sessionId,dataDesc,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getAllSpecials",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllProducts=function(sessionId,dataDesc,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getAllProducts",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllProductsWithOptions=function(sessionId,dataDesc,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getAllProductsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getReviewsPerProduct=function(dataDesc,productId,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="productId",parmArray[index++]=productId;var jsonParms=createJsonParmString("getReviewsPerProduct",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getReview=function(reviewId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="reviewId",parmArray[index++]=reviewId;var jsonParms=createJsonParmString("getReview",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllReviews=function(dataDesc,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc));var jsonParms=createJsonParmString("getAllReviews",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getReviews=function(dataDesc,search,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=search&&(parmArray[index++]="search",parmArray[index++]=JSON.stringify(search));var jsonParms=createJsonParmString("getReviews",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.searchForProducts=function(sessionId,dataDesc,prodSearch,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=prodSearch&&(parmArray[index++]="prodSearch",parmArray[index++]=JSON.stringify(prodSearch)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("searchForProducts",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.searchForProductsWithOptions=function(sessionId,dataDesc,prodSearch,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=prodSearch&&(parmArray[index++]="prodSearch",parmArray[index++]=JSON.stringify(prodSearch)),parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("searchForProductsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.registerCustomer=function(custReg,callback,context,eng){var parmArray=[],index=0;null!=custReg&&(parmArray[index++]="custReg",parmArray[index++]=JSON.stringify(custReg));var jsonParms=createJsonParmString("registerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.forceRegisterCustomer=function(custReg,callback,context,eng){var parmArray=[],index=0;null!=custReg&&(parmArray[index++]="custReg",parmArray[index++]=JSON.stringify(custReg));var jsonParms=createJsonParmString("forceRegisterCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllCountries=function(callback,context,eng){var jsonParms=createJsonParmString("getAllCountries",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.login=function(emailAddr,password,callback,context,eng){var parmArray=[],index=0;null!=emailAddr&&(parmArray[index++]="emailAddr",parmArray[index++]=emailAddr),null!=password&&(parmArray[index++]="password",parmArray[index++]=password);var jsonParms=createJsonParmString("login",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.logout=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("logout",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAddressesPerCustomer=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("getAddressesPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAddressesPerManufacturer=function(manufacturerId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId;var jsonParms=createJsonParmString("getAddressesPerManufacturer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAddressesPerProduct=function(productId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="productId",parmArray[index++]=productId;var jsonParms=createJsonParmString("getAddressesPerProduct",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAddressesPerStore=function(addressStoreId,callback,context,eng){var parmArray=[],index=0;null!=addressStoreId&&(parmArray[index++]="addressStoreId",parmArray[index++]=addressStoreId);var jsonParms=createJsonParmString("getAddressesPerStore",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getDefaultAddressPerCustomer=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("getDefaultAddressPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.setDefaultAddressPerCustomer=function(sessionId,addressId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="addressId",parmArray[index++]=addressId;var jsonParms=createJsonParmString("setDefaultAddressPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addAddressToCustomer=function(sessionId,addr,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=addr&&(parmArray[index++]="addr",parmArray[index++]=JSON.stringify(addr));var jsonParms=createJsonParmString("addAddressToCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteAddressFromCustomer=function(sessionId,addressId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="addressId",parmArray[index++]=addressId;var jsonParms=createJsonParmString("deleteAddressFromCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.editCustomerAddress=function(sessionId,addr,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=addr&&(parmArray[index++]="addr",parmArray[index++]=JSON.stringify(addr));var jsonParms=createJsonParmString("editCustomerAddress",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomer=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("getCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.editCustomer=function(sessionId,cust,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=cust&&(parmArray[index++]="cust",parmArray[index++]=JSON.stringify(cust));var jsonParms=createJsonParmString("editCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getKonakartTimeStamp=function(callback,context,eng){var jsonParms=createJsonParmString("getKonakartTimeStamp",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.writeReview=function(sessionId,review,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=review&&(parmArray[index++]="review",parmArray[index++]=JSON.stringify(review));var jsonParms=createJsonParmString("writeReview",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.checkSession=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("checkSession",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addToBasket=function(sessionId,customerId,item,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,null!=item&&(parmArray[index++]="item",parmArray[index++]=JSON.stringify(item));var jsonParms=createJsonParmString("addToBasket",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addToBasketWithOptions=function(sessionId,customerId,item,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,null!=item&&(parmArray[index++]="item",parmArray[index++]=JSON.stringify(item)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("addToBasketWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.mergeBaskets=function(sessionId,customerFromId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerFromId",parmArray[index++]=customerFromId;var jsonParms=createJsonParmString("mergeBaskets",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.mergeBasketsWithOptions=function(sessionId,customerFromId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerFromId",parmArray[index++]=customerFromId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("mergeBasketsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateBasket=function(sessionId,customerId,item,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,null!=item&&(parmArray[index++]="item",parmArray[index++]=JSON.stringify(item));var jsonParms=createJsonParmString("updateBasket",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateBasketWithOptions=function(sessionId,customerId,item,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,null!=item&&(parmArray[index++]="item",parmArray[index++]=JSON.stringify(item)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("updateBasketWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.removeFromBasket=function(sessionId,customerId,item,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,null!=item&&(parmArray[index++]="item",parmArray[index++]=JSON.stringify(item));var jsonParms=createJsonParmString("removeFromBasket",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.removeBasketItemsPerCustomer=function(sessionId,customerId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId;var jsonParms=createJsonParmString("removeBasketItemsPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBasketItemsPerCustomer=function(sessionId,customerId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getBasketItemsPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBasketItemsPerCustomerWithOptions=function(sessionId,customerId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getBasketItemsPerCustomerWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getDefaultCurrency=function(callback,context,eng){var jsonParms=createJsonParmString("getDefaultCurrency",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllCurrencies=function(callback,context,eng){var jsonParms=createJsonParmString("getAllCurrencies",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigurations=function(callback,context,eng){var jsonParms=createJsonParmString("getConfigurations",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfiguration=function(key,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key);var jsonParms=createJsonParmString("getConfiguration",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigurationValue=function(key,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key);var jsonParms=createJsonParmString("getConfigurationValue",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigurationValueAsInt=function(key,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key);var jsonParms=createJsonParmString("getConfigurationValueAsInt",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigurationValueAsIntWithDefault=function(key,def,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key),parmArray[index++]="def",parmArray[index++]=def;var jsonParms=createJsonParmString("getConfigurationValueAsIntWithDefault",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigurationValueAsBigDecimal=function(key,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key);var jsonParms=createJsonParmString("getConfigurationValueAsBigDecimal",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigurationValueAsBigDecimalWithDefault=function(key,def,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key),null!=def&&(parmArray[index++]="def",parmArray[index++]=def);var jsonParms=createJsonParmString("getConfigurationValueAsBigDecimalWithDefault",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigurationValueAsBool=function(key,def,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key),null!=def&&(parmArray[index++]="def",parmArray[index++]=def);var jsonParms=createJsonParmString("getConfigurationValueAsBool",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.editConfiguration=function(key,value,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key),null!=value&&(parmArray[index++]="value",parmArray[index++]=value);var jsonParms=createJsonParmString("editConfiguration",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.changePassword=function(sessionId,currentPassword,newPassword,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=currentPassword&&(parmArray[index++]="currentPassword",parmArray[index++]=currentPassword),null!=newPassword&&(parmArray[index++]="newPassword",parmArray[index++]=newPassword);var jsonParms=createJsonParmString("changePassword",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductNotificationsPerCustomer=function(sessionId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getProductNotificationsPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductNotificationsPerCustomerWithOptions=function(sessionId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductNotificationsPerCustomerWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addProductNotificationToCustomer=function(sessionId,productId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="productId",parmArray[index++]=productId;var jsonParms=createJsonParmString("addProductNotificationToCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteProductNotificationFromCustomer=function(sessionId,productId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="productId",parmArray[index++]=productId;var jsonParms=createJsonParmString("deleteProductNotificationFromCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateProductViewedCount=function(productId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("updateProductViewedCount",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBestSellers=function(dataDesc,categoryId,languageId,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getBestSellers",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBestSellersWithOptions=function(dataDesc,categoryId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getBestSellersWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getOrdersPerCustomer=function(dataDesc,sessionId,languageId,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getOrdersPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.searchForOrdersPerCustomer=function(sessionId,dataDesc,orderSearch,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=orderSearch&&(parmArray[index++]="orderSearch",parmArray[index++]=JSON.stringify(orderSearch)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("searchForOrdersPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getOrder=function(sessionId,orderId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getOrder",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCurrency=function(currencyCode,callback,context,eng){var parmArray=[],index=0;null!=currencyCode&&(parmArray[index++]="currencyCode",parmArray[index++]=currencyCode);var jsonParms=createJsonParmString("getCurrency",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.createOrder=function(sessionId,basketItemArray,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=basketItemArray&&(parmArray[index++]="basketItemArray",parmArray[index++]=JSON.stringify(basketItemArray)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("createOrder",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.createOrderWithOptions=function(sessionId,basketItemArray,options,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=basketItemArray&&(parmArray[index++]="basketItemArray",parmArray[index++]=JSON.stringify(basketItemArray)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("createOrderWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getOrderHistory=function(dataDesc,sessionId,languageId,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getOrderHistory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getOrderHistoryWithOptions=function(dataDesc,sessionId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="languageId",parmArray[index++]=languageId,
null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getOrderHistoryWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAlsoPurchased=function(sessionId,dataDesc,productId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getAlsoPurchased",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAlsoPurchasedWithOptions=function(sessionId,dataDesc,productId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getAlsoPurchasedWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getRelatedProducts=function(sessionId,dataDesc,productId,relationType,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="relationType",parmArray[index++]=relationType,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getRelatedProducts",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getRelatedProductsWithOptions=function(sessionId,dataDesc,productId,relationType,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="relationType",parmArray[index++]=relationType,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getRelatedProductsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCountryPerName=function(countryName,callback,context,eng){var parmArray=[],index=0;null!=countryName&&(parmArray[index++]="countryName",parmArray[index++]=countryName);var jsonParms=createJsonParmString("getCountryPerName",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCountry=function(countryId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="countryId",parmArray[index++]=countryId;var jsonParms=createJsonParmString("getCountry",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getShippingQuotes=function(order,languageId,callback,context,eng){var parmArray=[],index=0;null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getShippingQuotes",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getShippingQuote=function(order,moduleName,languageId,callback,context,eng){var parmArray=[],index=0;null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),null!=moduleName&&(parmArray[index++]="moduleName",parmArray[index++]=moduleName),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getShippingQuote",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.changeDeliveryAddress=function(sessionId,order,deliveryAddress,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),null!=deliveryAddress&&(parmArray[index++]="deliveryAddress",parmArray[index++]=JSON.stringify(deliveryAddress));var jsonParms=createJsonParmString("changeDeliveryAddress",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTaxRate=function(countryId,zoneId,taxClassId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="countryId",parmArray[index++]=countryId,parmArray[index++]="zoneId",parmArray[index++]=zoneId,parmArray[index++]="taxClassId",parmArray[index++]=taxClassId;var jsonParms=createJsonParmString("getTaxRate",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTax=function(cost,countryId,zoneId,taxClassId,callback,context,eng){var parmArray=[],index=0;null!=cost&&(parmArray[index++]="cost",parmArray[index++]=cost),parmArray[index++]="countryId",parmArray[index++]=countryId,parmArray[index++]="zoneId",parmArray[index++]=zoneId,parmArray[index++]="taxClassId",parmArray[index++]=taxClassId;var jsonParms=createJsonParmString("getTax",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addTax=function(cost,countryId,zoneId,taxClassId,callback,context,eng){var parmArray=[],index=0;null!=cost&&(parmArray[index++]="cost",parmArray[index++]=cost),parmArray[index++]="countryId",parmArray[index++]=countryId,parmArray[index++]="zoneId",parmArray[index++]=zoneId,parmArray[index++]="taxClassId",parmArray[index++]=taxClassId;var jsonParms=createJsonParmString("addTax",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getOrderTotals=function(order,languageId,callback,context,eng){var parmArray=[],index=0;null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getOrderTotals",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPaymentGateways=function(order,languageId,callback,context,eng){var parmArray=[],index=0;null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getPaymentGateways",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPaymentGateway=function(order,moduleName,languageId,callback,context,eng){var parmArray=[],index=0;null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),null!=moduleName&&(parmArray[index++]="moduleName",parmArray[index++]=moduleName),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getPaymentGateway",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPaymentDetails=function(sessionId,moduleCode,orderId,hostAndPort,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=moduleCode&&(parmArray[index++]="moduleCode",parmArray[index++]=moduleCode),parmArray[index++]="orderId",parmArray[index++]=orderId,null!=hostAndPort&&(parmArray[index++]="hostAndPort",parmArray[index++]=hostAndPort),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getPaymentDetails",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPaymentDetailsPerOrder=function(sessionId,moduleCode,order,hostAndPort,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=moduleCode&&(parmArray[index++]="moduleCode",parmArray[index++]=moduleCode),null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),null!=hostAndPort&&(parmArray[index++]="hostAndPort",parmArray[index++]=hostAndPort),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getPaymentDetailsPerOrder",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.saveOrder=function(sessionId,order,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("saveOrder",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getStatusText=function(statusId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="statusId",parmArray[index++]=statusId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getStatusText",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateOrder=function(sessionId,orderId,status,customerNotified,comments,updateOrder,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,parmArray[index++]="status",parmArray[index++]=status,parmArray[index++]="customerNotified",parmArray[index++]=customerNotified,null!=comments&&(parmArray[index++]="comments",parmArray[index++]=comments),null!=updateOrder&&(parmArray[index++]="updateOrder",parmArray[index++]=JSON.stringify(updateOrder));var jsonParms=createJsonParmString("updateOrder",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.changeOrderStatus=function(sessionId,orderId,status,customerNotified,comments,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,parmArray[index++]="status",parmArray[index++]=status,parmArray[index++]="customerNotified",parmArray[index++]=customerNotified,null!=comments&&(parmArray[index++]="comments",parmArray[index++]=comments);var jsonParms=createJsonParmString("changeOrderStatus",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateInventory=function(sessionId,orderId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId;var jsonParms=createJsonParmString("updateInventory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateInventoryWithOptions=function(sessionId,orderId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("updateInventoryWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendNewPassword=function(emailAddr,subject,countryCode,callback,context,eng){var parmArray=[],index=0;null!=emailAddr&&(parmArray[index++]="emailAddr",parmArray[index++]=emailAddr),null!=subject&&(parmArray[index++]="subject",parmArray[index++]=subject),null!=countryCode&&(parmArray[index++]="countryCode",parmArray[index++]=countryCode);var jsonParms=createJsonParmString("sendNewPassword",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendNewPassword1=function(emailAddr,options,callback,context,eng){var parmArray=[],index=0;null!=emailAddr&&(parmArray[index++]="emailAddr",parmArray[index++]=emailAddr),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("sendNewPassword1",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendWelcomeEmail=function(customerId,mailSubject,countryCode,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=mailSubject&&(parmArray[index++]="mailSubject",parmArray[index++]=mailSubject),null!=countryCode&&(parmArray[index++]="countryCode",parmArray[index++]=countryCode);var jsonParms=createJsonParmString("sendWelcomeEmail",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendWelcomeEmail1=function(customerId,options,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("sendWelcomeEmail1",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendOrderConfirmationEmail=function(sessionId,orderId,mailSubject,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,null!=mailSubject&&(parmArray[index++]="mailSubject",parmArray[index++]=mailSubject),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("sendOrderConfirmationEmail",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendOrderConfirmationEmail1=function(sessionId,orderId,langIdForOrder,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,parmArray[index++]="langIdForOrder",parmArray[index++]=langIdForOrder,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("sendOrderConfirmationEmail1",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getSecretKeyForOrderId=function(orderId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="orderId",parmArray[index++]=orderId;var jsonParms=createJsonParmString("getSecretKeyForOrderId",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getOrderIdFromSecretKey=function(secretKey,callback,context,eng){var parmArray=[],index=0;null!=secretKey&&(parmArray[index++]="secretKey",parmArray[index++]=secretKey);var jsonParms=createJsonParmString("getOrderIdFromSecretKey",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteOrderIdForSecretKey=function(secretKey,callback,context,eng){var parmArray=[],index=0;null!=secretKey&&(parmArray[index++]="secretKey",parmArray[index++]=secretKey);var jsonParms=createJsonParmString("deleteOrderIdForSecretKey",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.saveIpnHistory=function(sessionId,ipnHistory,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=ipnHistory&&(parmArray[index++]="ipnHistory",parmArray[index++]=JSON.stringify(ipnHistory));var jsonParms=createJsonParmString("saveIpnHistory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateManufacturerViewedCount=function(manufacturerId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="manufacturerId",parmArray[index++]=manufacturerId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("updateManufacturerViewedCount",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getZonesPerCountry=function(countryId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="countryId",parmArray[index++]=countryId;var jsonParms=createJsonParmString("getZonesPerCountry",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.searchForZones=function(search,callback,context,eng){var parmArray=[],index=0;null!=search&&(parmArray[index++]="search",parmArray[index++]=JSON.stringify(search));var jsonParms=createJsonParmString("searchForZones",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateCachedConfigurations=function(callback,context,eng){var jsonParms=createJsonParmString("updateCachedConfigurations",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.doesCustomerExistForEmail=function(emailAddr,callback,context,eng){var parmArray=[],index=0;null!=emailAddr&&(parmArray[index++]="emailAddr",parmArray[index++]=emailAddr);var jsonParms=createJsonParmString("doesCustomerExistForEmail",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.isEmailValid=function(emailAddr,callback,context,eng){var parmArray=[],index=0;null!=emailAddr&&(parmArray[index++]="emailAddr",parmArray[index++]=emailAddr);var jsonParms=createJsonParmString("isEmailValid",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateBasketWithStockInfo=function(basketItems,callback,context,eng){var parmArray=[],index=0;null!=basketItems&&(parmArray[index++]="basketItems",parmArray[index++]=JSON.stringify(basketItems));var jsonParms=createJsonParmString("updateBasketWithStockInfo",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateBasketWithStockInfoWithOptions=function(basketItems,options,callback,context,eng){var parmArray=[],index=0;null!=basketItems&&(parmArray[index++]="basketItems",parmArray[index++]=JSON.stringify(basketItems)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("updateBasketWithStockInfoWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductQuantity=function(encodedProductId,callback,context,eng){var parmArray=[],index=0;null!=encodedProductId&&(parmArray[index++]="encodedProductId",parmArray[index++]=encodedProductId);var jsonParms=createJsonParmString("getProductQuantity",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductQuantityWithOptions=function(encodedProductId,options,callback,context,eng){var parmArray=[],index=0;null!=encodedProductId&&(parmArray[index++]="encodedProductId",parmArray[index++]=encodedProductId),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductQuantityWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.createAndSaveOrder=function(emailAddr,password,custReg,basketItemArray,shippingModule,paymentModule,languageId,callback,context,eng){var parmArray=[],index=0;null!=emailAddr&&(parmArray[index++]="emailAddr",parmArray[index++]=emailAddr),null!=password&&(parmArray[index++]="password",parmArray[index++]=password),null!=custReg&&(parmArray[index++]="custReg",parmArray[index++]=JSON.stringify(custReg)),null!=basketItemArray&&(parmArray[index++]="basketItemArray",parmArray[index++]=JSON.stringify(basketItemArray)),null!=shippingModule&&(parmArray[index++]="shippingModule",parmArray[index++]=shippingModule),null!=paymentModule&&(parmArray[index++]="paymentModule",parmArray[index++]=paymentModule),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("createAndSaveOrder",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getSku=function(orderProd,callback,context,eng){var parmArray=[],index=0;null!=orderProd&&(parmArray[index++]="orderProd",parmArray[index++]=JSON.stringify(orderProd));var jsonParms=createJsonParmString("getSku",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.setEndpoint=function(wsEndpoint,callback,context,eng){var parmArray=[],index=0;null!=wsEndpoint&&(parmArray[index++]="wsEndpoint",parmArray[index++]=wsEndpoint);var jsonParms=createJsonParmString("setEndpoint",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.insertDigitalDownload=function(sessionId,productId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="productId",parmArray[index++]=productId;var jsonParms=createJsonParmString("insertDigitalDownload",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getDigitalDownloads=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("getDigitalDownloads",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateDigitalDownloadCount=function(sessionId,productId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="productId",parmArray[index++]=productId;var jsonParms=createJsonParmString("updateDigitalDownloadCount",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateDigitalDownloadCountById=function(sessionId,digitalDownloadId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="digitalDownloadId",parmArray[index++]=digitalDownloadId;var jsonParms=createJsonParmString("updateDigitalDownloadCountById",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTempCustomerId=function(callback,context,eng){var jsonParms=createJsonParmString("getTempCustomerId",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllCustomerGroups=function(languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getAllCustomerGroups",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomerGroup=function(customerGroupId,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerGroupId",parmArray[index++]=customerGroupId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getCustomerGroup",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendTemplateEmailToCustomer=function(customerId,templateName,message,countryCode,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=templateName&&(parmArray[index++]="templateName",parmArray[index++]=templateName),null!=message&&(parmArray[index++]="message",parmArray[index++]=message),null!=countryCode&&(parmArray[index++]="countryCode",parmArray[index++]=countryCode);var jsonParms=createJsonParmString("sendTemplateEmailToCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.sendTemplateEmailToCustomer1=function(customerId,message,options,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=message&&(parmArray[index++]="message",parmArray[index++]=message),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("sendTemplateEmailToCustomer1",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.loginByAdmin=function(adminSession,customerId,callback,context,eng){var parmArray=[],index=0;null!=adminSession&&(parmArray[index++]="adminSession",parmArray[index++]=adminSession),parmArray[index++]="customerId",parmArray[index++]=customerId;var jsonParms=createJsonParmString("loginByAdmin",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.custom=function(input1,input2,callback,context,eng){var parmArray=[],index=0;null!=input1&&(parmArray[index++]="input1",parmArray[index++]=input1),null!=input2&&(parmArray[index++]="input2",parmArray[index++]=input2);var jsonParms=createJsonParmString("custom",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.customSecure=function(sessionId,input1,input2,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=input1&&(parmArray[index++]="input1",parmArray[index++]=input1),null!=input2&&(parmArray[index++]="input2",parmArray[index++]=input2);var jsonParms=createJsonParmString("customSecure",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTagGroupsPerCategory=function(categoryId,getProdCount,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="getProdCount",parmArray[index++]=getProdCount,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getTagGroupsPerCategory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTagGroupsPerCategoryWithOptions=function(categoryId,languageId,options,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getTagGroupsPerCategoryWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTagsPerCategory=function(categoryId,getProdCount,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="categoryId",parmArray[index++]=categoryId,parmArray[index++]="getProdCount",parmArray[index++]=getProdCount,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getTagsPerCategory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTagGroup=function(tagGroupId,getProdCount,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="tagGroupId",parmArray[index++]=tagGroupId,parmArray[index++]="getProdCount",parmArray[index++]=getProdCount,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getTagGroup",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getTag=function(tagId,getProdCount,languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="tagId",parmArray[index++]=tagId,parmArray[index++]="getProdCount",parmArray[index++]=getProdCount,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getTag",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getDefaultCustomer=function(callback,context,eng){var jsonParms=createJsonParmString("getDefaultCustomer",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getEngConf=function(callback,context,eng){var jsonParms=createJsonParmString("getEngConf",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getStoreIds=function(callback,context,eng){var jsonParms=createJsonParmString("getStoreIds",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.setCreditCardDetailsOnOrder=function(sessionId,orderId,card,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,null!=card&&(parmArray[index++]="card",parmArray[index++]=JSON.stringify(card));var jsonParms=createJsonParmString("setCreditCardDetailsOnOrder",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addToWishList=function(sessionId,wishListItem,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=wishListItem&&(parmArray[index++]="wishListItem",parmArray[index++]=JSON.stringify(wishListItem));var jsonParms=createJsonParmString("addToWishList",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addToWishListWithOptions=function(sessionId,wishListItem,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=wishListItem&&(parmArray[index++]="wishListItem",parmArray[index++]=JSON.stringify(wishListItem)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("addToWishListWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.createWishList=function(sessionId,wishList,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=wishList&&(parmArray[index++]="wishList",parmArray[index++]=JSON.stringify(wishList));var jsonParms=createJsonParmString("createWishList",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.createWishListWithOptions=function(sessionId,wishList,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=wishList&&(parmArray[index++]="wishList",parmArray[index++]=JSON.stringify(wishList)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("createWishListWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.editWishList=function(sessionId,wishList,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=wishList&&(parmArray[index++]="wishList",parmArray[index++]=JSON.stringify(wishList));var jsonParms=createJsonParmString("editWishList",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.editWishListWithOptions=function(sessionId,wishList,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=wishList&&(parmArray[index++]="wishList",parmArray[index++]=JSON.stringify(wishList)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("editWishListWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteWishList=function(sessionId,wishListId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListId",parmArray[index++]=wishListId;var jsonParms=createJsonParmString("deleteWishList",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteWishListWithOptions=function(sessionId,wishListId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListId",parmArray[index++]=wishListId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("deleteWishListWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getWishListWithItems=function(sessionId,wishListId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListId",parmArray[index++]=wishListId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getWishListWithItems",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getWishListWithItemsWithOptions=function(sessionId,wishListId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListId",parmArray[index++]=wishListId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getWishListWithItemsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getWishList=function(sessionId,wishListId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListId",parmArray[index++]=wishListId;var jsonParms=createJsonParmString("getWishList",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getWishListWithOptions=function(sessionId,wishListId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListId",parmArray[index++]=wishListId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getWishListWithOptions",parmArray,eng);
callEng(jsonParms,callback,context,eng)},kkEng.getWishListItemsWithOptions=function(sessionId,dataDesc,wishListId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="wishListId",parmArray[index++]=wishListId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getWishListItemsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getWishListItems=function(sessionId,dataDesc,wishListId,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="wishListId",parmArray[index++]=wishListId,parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getWishListItems",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.removeFromWishList=function(sessionId,wishListItemId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListItemId",parmArray[index++]=wishListItemId;var jsonParms=createJsonParmString("removeFromWishList",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.removeFromWishListWithOptions=function(sessionId,wishListItemId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="wishListItemId",parmArray[index++]=wishListItemId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("removeFromWishListWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.mergeWishListsWithOptions=function(sessionId,customerFromId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerFromId",parmArray[index++]=customerFromId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("mergeWishListsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.searchForWishLists=function(sessionId,dataDesc,customerSearch,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=customerSearch&&(parmArray[index++]="customerSearch",parmArray[index++]=JSON.stringify(customerSearch));var jsonParms=createJsonParmString("searchForWishLists",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getStore=function(callback,context,eng){var jsonParms=createJsonParmString("getStore",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.addCustomDataToSession=function(sessionId,data,position,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=data&&(parmArray[index++]="data",parmArray[index++]=data),parmArray[index++]="position",parmArray[index++]=position;var jsonParms=createJsonParmString("addCustomDataToSession",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomDataFromSession=function(sessionId,position,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="position",parmArray[index++]=position;var jsonParms=createJsonParmString("getCustomDataFromSession",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.setCookie=function(cookie,callback,context,eng){var parmArray=[],index=0;null!=cookie&&(parmArray[index++]="cookie",parmArray[index++]=JSON.stringify(cookie));var jsonParms=createJsonParmString("setCookie",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCookie=function(customerUuid,attrId,callback,context,eng){var parmArray=[],index=0;null!=customerUuid&&(parmArray[index++]="customerUuid",parmArray[index++]=customerUuid),null!=attrId&&(parmArray[index++]="attrId",parmArray[index++]=attrId);var jsonParms=createJsonParmString("getCookie",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllCookies=function(customerUuid,callback,context,eng){var parmArray=[],index=0;null!=customerUuid&&(parmArray[index++]="customerUuid",parmArray[index++]=customerUuid);var jsonParms=createJsonParmString("getAllCookies",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteCookie=function(customerUuid,attrId,callback,context,eng){var parmArray=[],index=0;null!=customerUuid&&(parmArray[index++]="customerUuid",parmArray[index++]=customerUuid),null!=attrId&&(parmArray[index++]="attrId",parmArray[index++]=attrId);var jsonParms=createJsonParmString("deleteCookie",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getGeoZonesPerZone=function(zone,callback,context,eng){var parmArray=[],index=0;null!=zone&&(parmArray[index++]="zone",parmArray[index++]=JSON.stringify(zone));var jsonParms=createJsonParmString("getGeoZonesPerZone",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.insertCustomerTag=function(sessionId,tag,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=tag&&(parmArray[index++]="tag",parmArray[index++]=JSON.stringify(tag));var jsonParms=createJsonParmString("insertCustomerTag",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.insertCustomerTagForGuest=function(customerId,tag,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=tag&&(parmArray[index++]="tag",parmArray[index++]=JSON.stringify(tag));var jsonParms=createJsonParmString("insertCustomerTagForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addToCustomerTag=function(sessionId,tagName,tagValue,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName),parmArray[index++]="tagValue",parmArray[index++]=tagValue;var jsonParms=createJsonParmString("addToCustomerTag",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addToCustomerTagForGuest=function(customerId,tagName,tagValue,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName),parmArray[index++]="tagValue",parmArray[index++]=tagValue;var jsonParms=createJsonParmString("addToCustomerTagForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomerTag=function(sessionId,tagName,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName);var jsonParms=createJsonParmString("getCustomerTag",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomerTagForGuest=function(customerId,tagName,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName);var jsonParms=createJsonParmString("getCustomerTagForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomerTagValue=function(sessionId,tagName,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName);var jsonParms=createJsonParmString("getCustomerTagValue",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomerTagValueForGuest=function(customerId,tagName,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName);var jsonParms=createJsonParmString("getCustomerTagValueForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteCustomerTag=function(sessionId,tagName,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName);var jsonParms=createJsonParmString("deleteCustomerTag",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteCustomerTagForGuest=function(customerId,tagName,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,null!=tagName&&(parmArray[index++]="tagName",parmArray[index++]=tagName);var jsonParms=createJsonParmString("deleteCustomerTagForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomerTags=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("getCustomerTags",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getCustomerTagsForGuest=function(customerId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId;var jsonParms=createJsonParmString("getCustomerTagsForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.evaluateExpression=function(sessionId,expressionId,expressionName,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="expressionId",parmArray[index++]=expressionId,null!=expressionName&&(parmArray[index++]="expressionName",parmArray[index++]=expressionName);var jsonParms=createJsonParmString("evaluateExpression",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.evaluateExpressionForGuest=function(customerId,expressionId,expressionName,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,parmArray[index++]="expressionId",parmArray[index++]=expressionId,null!=expressionName&&(parmArray[index++]="expressionName",parmArray[index++]=expressionName);var jsonParms=createJsonParmString("evaluateExpressionForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getExpression=function(sessionId,expressionId,expressionName,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="expressionId",parmArray[index++]=expressionId,null!=expressionName&&(parmArray[index++]="expressionName",parmArray[index++]=expressionName);var jsonParms=createJsonParmString("getExpression",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getExpressionForGuest=function(customerId,expressionId,expressionName,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="customerId",parmArray[index++]=customerId,parmArray[index++]="expressionId",parmArray[index++]=expressionId,null!=expressionName&&(parmArray[index++]="expressionName",parmArray[index++]=expressionName);var jsonParms=createJsonParmString("getExpressionForGuest",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.pointsAvailable=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("pointsAvailable",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addPoints=function(sessionId,points,code,description,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="points",parmArray[index++]=points,null!=code&&(parmArray[index++]="code",parmArray[index++]=code),null!=description&&(parmArray[index++]="description",parmArray[index++]=description);var jsonParms=createJsonParmString("addPoints",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deletePoints=function(sessionId,points,code,description,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="points",parmArray[index++]=points,null!=code&&(parmArray[index++]="code",parmArray[index++]=code),null!=description&&(parmArray[index++]="description",parmArray[index++]=description);var jsonParms=createJsonParmString("deletePoints",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.reservePoints=function(sessionId,points,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="points",parmArray[index++]=points;var jsonParms=createJsonParmString("reservePoints",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteReservedPoints=function(sessionId,reservationId,code,description,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="reservationId",parmArray[index++]=reservationId,null!=code&&(parmArray[index++]="code",parmArray[index++]=code),null!=description&&(parmArray[index++]="description",parmArray[index++]=description);var jsonParms=createJsonParmString("deleteReservedPoints",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.freeReservedPoints=function(sessionId,reservationId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="reservationId",parmArray[index++]=reservationId;var jsonParms=createJsonParmString("freeReservedPoints",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.setRewardPointReservationId=function(sessionId,orderId,reservationId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId,parmArray[index++]="reservationId",parmArray[index++]=reservationId;var jsonParms=createJsonParmString("setRewardPointReservationId",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getRewardPoints=function(sessionId,dataDesc,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc));var jsonParms=createJsonParmString("getRewardPoints",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.insertSubscription=function(sessionId,subscription,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=subscription&&(parmArray[index++]="subscription",parmArray[index++]=JSON.stringify(subscription));var jsonParms=createJsonParmString("insertSubscription",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.updateSubscription=function(sessionId,subscription,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=subscription&&(parmArray[index++]="subscription",parmArray[index++]=JSON.stringify(subscription));var jsonParms=createJsonParmString("updateSubscription",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPaymentSchedule=function(id,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="id",parmArray[index++]=id;var jsonParms=createJsonParmString("getPaymentSchedule",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getSubscriptionsPerCustomer=function(sessionId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId);var jsonParms=createJsonParmString("getSubscriptionsPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.searchForSubscriptionsPerCustomer=function(sessionId,dataDesc,subscriptionSearch,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=subscriptionSearch&&(parmArray[index++]="subscriptionSearch",parmArray[index++]=JSON.stringify(subscriptionSearch));var jsonParms=createJsonParmString("searchForSubscriptionsPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductPerSkuWithOptions=function(sessionId,sku,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=sku&&(parmArray[index++]="sku",parmArray[index++]=sku),parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductPerSkuWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductPerSku=function(sessionId,sku,languageId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=sku&&(parmArray[index++]="sku",parmArray[index++]=sku),parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getProductPerSku",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getIpnHistory=function(sessionId,orderId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId;var jsonParms=createJsonParmString("getIpnHistory",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPdf=function(sessionId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getPdf",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getDigitalDownloadById=function(sessionId,digitalDownloadId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="digitalDownloadId",parmArray[index++]=digitalDownloadId;var jsonParms=createJsonParmString("getDigitalDownloadById",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.editDigitalDownload=function(sessionId,digitalDownload,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=digitalDownload&&(parmArray[index++]="digitalDownload",parmArray[index++]=JSON.stringify(digitalDownload));var jsonParms=createJsonParmString("editDigitalDownload",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getMsgValue=function(key,type,locale,callback,context,eng){var parmArray=[],index=0;null!=key&&(parmArray[index++]="key",parmArray[index++]=key),parmArray[index++]="type",parmArray[index++]=type,null!=locale&&(parmArray[index++]="locale",parmArray[index++]=locale);var jsonParms=createJsonParmString("getMsgValue",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getMessages=function(type,locale,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="type",parmArray[index++]=type,null!=locale&&(parmArray[index++]="locale",parmArray[index++]=locale);var jsonParms=createJsonParmString("getMessages",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.postMessageToQueue=function(sessionId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("postMessageToQueue",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.readMessageFromQueue=function(sessionId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("readMessageFromQueue",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.insertCustomerEvent=function(event,callback,context,eng){var parmArray=[],index=0;null!=event&&(parmArray[index++]="event",parmArray[index++]=JSON.stringify(event));var jsonParms=createJsonParmString("insertCustomerEvent",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getSuggestedSearchItems=function(sessionId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getSuggestedSearchItems",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductsFromIdsWithOptions=function(sessionId,dataDesc,prodIdArray,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=prodIdArray&&(parmArray[index++]="prodIdArray",parmArray[index++]=JSON.stringify(prodIdArray)),parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductsFromIdsWithOptions",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBookingsPerProduct=function(dataDesc,productId,options,callback,context,eng){var parmArray=[],index=0;null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="productId",parmArray[index++]=productId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getBookingsPerProduct",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBookingsPerCustomer=function(sessionId,dataDesc,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getBookingsPerCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.insertBooking=function(sessionId,booking,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=booking&&(parmArray[index++]="booking",parmArray[index++]=JSON.stringify(booking)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("insertBooking",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBookableProductConflict=function(sessionId,bookableProd,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=bookableProd&&(parmArray[index++]="bookableProd",parmArray[index++]=JSON.stringify(bookableProd)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getBookableProductConflict",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getOrderStatus=function(sessionId,orderId,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="orderId",parmArray[index++]=orderId;var jsonParms=createJsonParmString("getOrderStatus",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllOrderStatuses=function(languageId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="languageId",parmArray[index++]=languageId;var jsonParms=createJsonParmString("getAllOrderStatuses",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.saveSSOToken=function(token,callback,context,eng){var parmArray=[],index=0;null!=token&&(parmArray[index++]="token",parmArray[index++]=JSON.stringify(token));var jsonParms=createJsonParmString("saveSSOToken",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getSSOToken=function(secretKey,deleteToken,callback,context,eng){var parmArray=[],index=0;null!=secretKey&&(parmArray[index++]="secretKey",parmArray[index++]=secretKey),parmArray[index++]="deleteToken",parmArray[index++]=deleteToken;var jsonParms=createJsonParmString("getSSOToken",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.enableCustomer=function(secretKey,callback,context,eng){var parmArray=[],index=0;null!=secretKey&&(parmArray[index++]="secretKey",parmArray[index++]=secretKey);var jsonParms=createJsonParmString("enableCustomer",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.checkCoupon=function(couponCode,callback,context,eng){var parmArray=[],index=0;null!=couponCode&&(parmArray[index++]="couponCode",parmArray[index++]=couponCode);var jsonParms=createJsonParmString("checkCoupon",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAllPromotions=function(callback,context,eng){var jsonParms=createJsonParmString("getAllPromotions",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPromotionsPerProducts=function(sessionId,customerId,products,promotions,couponCodes,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),parmArray[index++]="customerId",parmArray[index++]=customerId,null!=products&&(parmArray[index++]="products",parmArray[index++]=JSON.stringify(products)),null!=promotions&&(parmArray[index++]="promotions",parmArray[index++]=JSON.stringify(promotions)),null!=couponCodes&&(parmArray[index++]="couponCodes",parmArray[index++]=JSON.stringify(couponCodes)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getPromotionsPerProducts",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getConfigData=function(sessionId,key,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=key&&(parmArray[index++]="key",parmArray[index++]=key);var jsonParms=createJsonParmString("getConfigData",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getKonaKartVersion=function(callback,context,eng){var jsonParms=createJsonParmString("getKonaKartVersion",null,eng);callEng(jsonParms,callback,context,eng)},kkEng.getPunchOutMessage=function(sessionId,order,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=order&&(parmArray[index++]="order",parmArray[index++]=JSON.stringify(order)),null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getPunchOutMessage",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.addCustomerNotifications=function(options,callback,context,eng){var parmArray=[],index=0;null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("addCustomerNotifications",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.deleteCustomerNotifications=function(options,callback,context,eng){var parmArray=[],index=0;null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("deleteCustomerNotifications",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getAddressFormatTemplate=function(templateId,callback,context,eng){var parmArray=[],index=0;parmArray[index++]="templateId",parmArray[index++]=templateId;var jsonParms=createJsonParmString("getAddressFormatTemplate",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBundlesThatProductBelongsTo=function(sessionId,dataDesc,productId,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),parmArray[index++]="productId",parmArray[index++]=productId,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getBundlesThatProductBelongsTo",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getBundlesThatProductsBelongTo=function(sessionId,dataDesc,productIds,exactMatch,languageId,options,callback,context,eng){var parmArray=[],index=0;null!=sessionId&&(parmArray[index++]="sessionId",parmArray[index++]=sessionId),null!=dataDesc&&(parmArray[index++]="dataDesc",parmArray[index++]=JSON.stringify(dataDesc)),null!=productIds&&(parmArray[index++]="productIds",parmArray[index++]=JSON.stringify(productIds)),parmArray[index++]="exactMatch",parmArray[index++]=exactMatch,parmArray[index++]="languageId",parmArray[index++]=languageId,null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getBundlesThatProductsBelongTo",parmArray,eng);callEng(jsonParms,callback,context,eng)},kkEng.getProductImages=function(options,callback,context,eng){var parmArray=[],index=0;null!=options&&(parmArray[index++]="options",parmArray[index++]=JSON.stringify(options));var jsonParms=createJsonParmString("getProductImages",parmArray,eng);callEng(jsonParms,callback,context,eng)};var _cp_instances=[],_cp_instance_idx=0,_cp_pl=["FLAT","SHOP","UNIT","BLOCK","STALL","SUITE","APARTMENT","MAISONETTE","HOUSE NUMBER"];$(window).load(function(){initCookiePolicyPopUp("ee.introBannerShown")});var indexOfValue=_.indexOf;_.mixin({indexOf:function(array,test){if(!_.isFunction(test))return indexOfValue(array,test);for(var x=0;x<array.length;x++)if(test(array[x]))return x;return-1}}),angular.module("saas",["ui.bootstrap","accordionModule","ui.bootstrap.modal","videoModule","headerNavModule","drawerBoxModule","teleSearchModule","manageUsersModule","inviteUsersModule","productGridModule","tabAccordionModule","provisioningModule","paymentModule","voucherApp","manageProductsModule","viewLicencesModule","voucherCodesModule","manageLeadsModule","welcomeModule","platformModule"]).config(["$sceDelegateProvider",function($sceDelegateProvider){$sceDelegateProvider.resourceUrlWhitelist(["self","https://eebusinessapps-cdn.global.ssl.fastly.net/**","https://stage-cloudsaasportal.global.ssl.fastly.net/**"])}]),angular.module("saas").factory("KKDataService",function($q){function getAllProducts(options){var deferred=$q.defer(),dataDesc=new DataDescriptor;dataDesc.limit=100,dataDesc.fillDescription=!0;var _options={},languageID=-1;return kkEng.getAllProductsWithOptions(null,dataDesc,languageID,_options,function(data,status){deferred.resolve(data)},null,kk.eng),deferred.promise}function getProductsByManufacturer(options){var deferred=$q.defer(),dataDesc=new DataDescriptor;dataDesc.limit=100,dataDesc.fillDescription=!0;var manufacturer={id:29,name:"EE Core"};manufacturer={id:30,name:"SaaS"
};var languageID=-1;return kkEng.getProductsPerManufacturerWithOptions(null,dataDesc,manufacturer.id,languageID,{},function(data,status){deferred.resolve(data)},manufacturer,kk.eng),deferred.promise}function getBasketItems(options){function getItems(){kkEng.getBasketItemsPerCustomer(null,kk.custId,-1,function(result,textStatus,jqXHR){deferred.resolve(result)},null,kk.eng)}var deferred=$q.defer();return options.custId?(kk.custId=options.custId,getItems()):kkEng.getTempCustomerId(function(result,textStatus,jqXHR){kk.custId=result,kk.custId=-62,getItems()},null,kk.eng),deferred.promise}function addBasketItem(options){function addItems(){var basket=new Basket;basket.quantity=1,basket.productId=75,kkEng.addToBasket(null,kk.custId,basket,function(result,textStatus,jqXHR){deferred.resolve(result)},null,kk.eng)}var options=options?options:{},deferred=$q.defer();return options.custId?(kk.custId=options.custId,addItems()):kkEng.getTempCustomerId(function(result,textStatus,jqXHR){kk.custId=result,kk.custId=-62,addItems()},null,kk.eng),deferred.promise}var kk={};return kk.kkRoot="http://92.52.109.4:8780/konakart/",kk.conf=new engineConfig(kk.kkRoot+"konakartjson"),kk.conf.storeId="store2",kk.conf.protocol="jsonp",kk.eng=new kkEng(kk.conf),kk.custId=null,{getAllProducts:getAllProducts,getProductsByManufacturer:getProductsByManufacturer,getBasketItems:getBasketItems,addBasketItem:addBasketItem}}),angular.module("saas").factory("getService",function($http){function getData(ajaxURL){return $http({url:ajaxURL,method:"GET"}).then(function(response){var returnData={data:response.data};return returnData},function(response){return response})}return{getData:getData}}),angular.module("saas").factory("postService",function($http){function postData(ajaxURL,postData,options){var opts=angular.extend({token:"",header:""},options),headers={};headers[opts.header]=opts.token;var postData=postData;return $http({url:ajaxURL,method:"POST",data:postData,headers:headers}).then(function(response){var returnData={postData:response.config.data,data:response.data};return returnData},function(response){return response})}return{postData:postData}}),angular.module("saas").factory("provisioningService",function($http){function getProvisioningData(ajaxURL){return $http.get(ajaxURL).then(function(result){return result.data})}function postProvisioningData(ajaxURL,postData,options){var opts=angular.extend({token:"",header:""},options),headers={};return headers[opts.header]=opts.token,$http({url:ajaxURL,method:"POST",data:postData,headers:headers}).then(function(response){return response.data},function(response){return response})}return{getProvisioningData:getProvisioningData,postProvisioningData:postProvisioningData}}),angular.module("saas").factory("teleSearchService",function($http){function getUserDetails(postData,options){var opts=angular.extend({token:"",header:""},options),headers={};return headers[opts.header]=opts.token,$http({url:"/rest/user/getUser",method:"POST",data:postData,headers:headers}).then(function(response){return response.data},function(response){return response})}return{getUserDetails:getUserDetails}}),angular.module("saas").controller("assignLicenceCtrl",["$scope",function($scope){$scope.checkList=[],$scope.checkListTrue=!1,Array.prototype.indexOf||(Array.prototype.indexOf=function(val){return jQuery.inArray(val,this)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(val){return jQuery.inArray(val,this)}),$scope.updateCheckList=function(item){-1==$scope.checkList.indexOf(item)?$scope.checkList.push(item):$scope.checkList.splice($scope.checkList.indexOf(item),1),0!==$scope.checkList.length?$scope.checkListTrue=!0:$scope.checkListTrue=!1}}]),angular.module("saas").controller("companyEditStatusCtrl",["$scope","postService",function($scope,postService){function initialiseStatuses(){for(var i=0;i<$scope.userStatuses.length;i++)for(var j=0;j<$scope.editStatus.users.length;j++)$scope.userStatuses[i].name==$scope.editStatus.users[j].status.name&&($scope.editStatus.users[j].status=$scope.userStatuses[i])}$scope.userStatuses=userStatuses,$scope.accountStatuses=accountStatuses,$scope.editStatus=wrapperJson,$scope.savedChanges=null,$scope.saveChangesButton=!1,$scope.discardChanges=function(){$scope.editStatus=angular.copy($scope.editStatusBackUp),initialiseStatuses()},initialiseStatuses(),$scope.editStatusBackUp=angular.copy($scope.editStatus),$scope.getTotal=function(){for(var total=0,i=0;i<$scope.products.length;i++)1==$scope.products[i].checked&&(total+=$scope.products[i].price);return total},$scope.updateCompanyStatus=function(ajaxUrl,opt1,opt2){$scope.saveChangesButton=!0;var postData=$scope.editStatus,options={};options.token=opt1,options.header=opt2,postService.postData(ajaxUrl,postData,options).then(function(response){$scope.saveChangesButton=!1,1==response.data.success?$scope.savedChanges=!0:$scope.savedChanges=!1,$scope.editStatus=response.data,initialiseStatuses(),$scope.editStatusBackUp=angular.copy($scope.editStatus)})}}]),angular.module("saas").controller("companyProductsCtrl",["$scope","postService",function($scope,postService){$scope.products=productsJson,$scope.productsBackUp=angular.copy(productsJson),$scope.cancelImmediate=!1,$scope.savedChanges=null,$scope.saveChangesButton=!1,$scope.discardChanges=function(){$scope.products=angular.copy($scope.productsBackUp)},$scope.getTotal=function(){for(var total=0,i=0;i<$scope.products.length;i++)1==$scope.products[i].checked&&(total+=$scope.products[i].price);return total},$scope.updateCompanyProducts=function(ajaxUrl,opt1,opt2){$scope.saveChangesButton=!0;var postData=$scope.products,options={};options.token=opt1,options.header=opt2,ajaxUrl=ajaxUrl+"/"+$scope.cancelImmediate,postService.postData(ajaxUrl,postData,options).then(function(response){$scope.saveChangesButton=!1,1==response.data.success?$scope.savedChanges=!0:$scope.savedChanges=!1,$scope.products=response.data.companyProducts,$scope.productsBackUp=angular.copy(response.data.companyProducts)})}}]),angular.module("saas").controller("formCtrl",["$scope","postService","getService","$http",function($scope,postService,getService,$http){$scope.emailSent=!1,$scope.buttonDisabled=!1,$scope.employeeData=null,$http.get("/rest/eesales/autocomplete/00").success(function(data){$scope.employeeData=data}),$scope.sendMoreInfoEmail=function(formData,ajaxUrl,opt1,opt2){$scope.buttonDisabled=!0,$("#floatingBarsG").show();var options={};options.token=opt1,options.header=opt2,postService.postData(ajaxUrl,formData,options).then(function(response){response.data.success?($scope.emailSent=!0,$scope.emailSentError=!1,$scope.emailSentErrorSpin=!0):($scope.emailSentError=!0,$scope.emailSentErrorSpin=!0,$scope.buttonDisabled=!1)})}}]),angular.module("saas").controller("marketPlaceCtrl",["$scope",function($scope){var fullScreenFunc=HTMLVideoElement.prototype.requestFullscreen||HTMLVideoElement.prototype.mozRequestFullScreen||HTMLVideoElement.prototype.webkitRequestFullScreen||HTMLVideoElement.prototype.msRequestFullScreen;$scope.expandIntro=!1,$scope.currentItem=null,$scope.currentVideo=null,$scope.slideProductRow=function(id){var $items=$("#"+id).find(".item"),$first=$items.first(),$last=$items.last();$first.insertAfter($last)},$scope.setCurrentItem=function(item){return $scope.currentItem=item,!0},-1!==navigator.appVersion.indexOf("MSIE 8.")?($scope.stopVideo=function(id){return $("#swfVideoObj").remove(),$scope.currentVideo=null,!1},$scope.setCurrentVideo=function(video){$scope.stopVideo();var videoSrc=document.getElementById(video+"-swf"),movie=$(videoSrc).val();return $(videoSrc).after('<object id="swfVideoObj" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" type="application/x-shockwave-flash" codebase="https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0" width="500" height="281"><param name="movie" value="'+movie+'" /><param name="quality" value="high" /><param name="controller" value="true" /><param name="autoplay" value="false" /><embed src="'+movie+'" quality="high" pluginspage="https://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="500" height="281" ></embed></object>'),$scope.currentVideo=video,!0}):($scope.stopVideo=function(id){return $(id?"#"+id:"body").find("video").each(function(elem){try{console.log(this),this.pause(),this.currentTime=0}catch(ex){console.info(ex)}}),$scope.currentVideo=null,!1},$scope.setCurrentVideo=function(id){$scope.stopAllVideos();var videoElement=document.getElementById(id);return videoElement.play(),"function"==typeof fullScreenFunc&&navigator.userAgent.match(/(?:Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone)/i)&&fullScreenFunc.call(videoElement),$scope.currentVideo=id,!0}),$scope.stopAllVideos=function(){$scope.stopVideo()}}]),angular.module("saas").controller("marketPlaceIntroCtrl",["$scope",function($scope){$scope.currentIntroVideo=null,$scope.showModal=function(modalId){$("#"+modalId).on("shown.bs.modal",function(event){var $vid=$(this).find("video");$vid[0].play()}).modal()},$scope.setCurrentIntroVideo=function(video){if($scope.currentIntroVideo=video,-1!==navigator.appVersion.indexOf("MSIE 8.")){var identefier=video+"-swf",videoSrc=document.getElementById(identefier),movie=$(videoSrc).val(),videoObject='<object id="swfVideoObj" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" type="application/x-shockwave-flash" codebase="https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0" width="500" height="281"><param name="movie" value="'+movie+'" /><param name="quality" value="high" /><param name="controller" value="true" /><param name="autoplay" value="false" /><embed src="'+movie+'" quality="high" pluginspage="https://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="500" height="281" ></embed></object>';$(videoSrc).after(videoObject)}else{$("video").each(function(){this[0].pause()});var videoElement=document.getElementById(video),source=$(videoElement).find("source"),mp4Video=source[0];mp4Video.src=$(mp4Video).attr("id");var ogvVideo=source[1];ogvVideo.src=$(ogvVideo).attr("id"),videoElement.load(),(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(videoElement.requestFullscreen?videoElement.requestFullscreen():videoElement.mozRequestFullScreen?videoElement.mozRequestFullScreen():videoElement.webkitRequestFullscreen&&videoElement.webkitRequestFullscreen())}return!0},$scope.stopVideo=function(el){if($scope.currentIntroVideo=null,-1!=navigator.appVersion.indexOf("MSIE 8."))return $("#swfVideoObj").remove(),!0;var parentElement=document.getElementById(el),videoElement=parentElement.getElementsByTagName("video")[0];return videoElement.pause(),!0}}]),angular.module("saas").controller("moonfruitCtrl",["$scope","$http",function($scope,$http){$scope.restUrl=null,$scope.redirectUrl=null,$scope.submitMoonfruit=function(){$("#floatingBarsG").show(),$http.get($scope.restUrl).success(function(data){$("#floatingBarsG").hide(),data&&(window.location=$scope.redirectUrl+"?domain="+data)})},$scope.setRestUrl=function(restUrl){$scope.restUrl=restUrl}}]),angular.module("saas").controller("mozyLicenseKeyCtrl",["$scope",function($scope){$scope.licenseObj=obj,$scope.currentOS=$scope.licenseObj.os,$scope.setCurrentOS=function(currentOS){alert(currentOS)}}]),angular.module("saas").controller("office365LaunchCtrl",["$scope","$http","$sce","$timeout",function($scope,$http,$sce,$timeout){$scope.officeOrders=obj.orders,$scope.iFrameUrl="",$scope.loading=!0,$scope.getOfficeIframe=function(ajaxUrl,orderRef,orderLineRef){$scope.iFrameUrl="",$scope.loading=!0;var restAPI=ajaxUrl+orderRef+"/"+orderLineRef;$http.get(restAPI).success(function(response){"success"==response.result&&($scope.iFrameUrl=$sce.trustAsResourceUrl(response.atts.iFrameURL+"KEY"),$timeout(function(){$scope.loading=!1},1e3))})}}]),angular.module("saas").controller("saasVideoCtrl",["$scope",function($scope){$scope.displayVideo=!1,$scope.showModal=function(modalId){$("#"+modalId).on("shown.bs.modal",function(event){var $vid=$(this).find("video");$vid[0].play()}).modal()},$scope.stopVideo=function(elementId,event){var videoElement=document.getElementById(elementId);return videoElement.pause(),!0},$scope.playVideo=function(elementId,event){if($("video").each(function(){-1===navigator.appVersion.indexOf("MSIE 8.")&&this.pause()}),-1!==navigator.appVersion.indexOf("MSIE 8."))$scope.displayVideo=!0;else{var videoElement=document.getElementById(elementId),source=$(videoElement).find("source"),mp4Video=source[0],ogvVideo=source[1];mp4Video.src=$(mp4Video).attr("id"),ogvVideo.src=$(ogvVideo).attr("id"),$scope.displayVideo=!0,videoElement.load(),navigator.userAgent.match(/(?:Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone)/i)&&(videoElement.requestFullscreen?videoElement.requestFullscreen():videoElement.mozRequestFullScreen?videoElement.mozRequestFullScreen():videoElement.webkitRequestFullscreen&&videoElement.webkitRequestFullscreen()),videoElement.play()}}}]),angular.module("saas").controller("sendMoreInforCtrl",["$scope","postService","getService","$http",function($scope,postService,getService,$http){$scope.employeeData=null,$http.get("/rest/eesales/autocomplete/00").success(function(data){$scope.employeeData=data}),$scope.emailSent=!1,$scope.buttonDisabled=!1,$scope.errorList1=null,$scope.sendMoreInfoEmail=function(formData,ajaxUrl,opt1,opt2){$scope.buttonDisabled=!0,$("#floatingBarsG").show();var options={};options.token=opt1,options.header=opt2,postService.postData(ajaxUrl,formData,options).then(function(response){response.data.success?($scope.emailSent=!0,$scope.emailSentError=!1,$scope.emailSentErrorSpin=!0):($scope.emailSentError=!0,$scope.emailSentErrorSpin=!0,$scope.buttonDisabled=!1,$scope.errorList1=response.data.errorMessage)})}}]),angular.module("saas").directive("emailField",function(){return{restrict:"E",templateUrl:SaaS.location+"/docroot/assets/partials/form-field-tpl.html",replace:!0,require:"^form",scope:{fieldPath:"@",fieldDesc:"@",formType:"@",fieldName:"@",fieldTitle:"@",fieldValue:"@",fieldMaxLength:"@",fieldMinLength:"@",fieldMax:"@",fieldPattern:"@",fieldMin:"@",fieldDisabled:"@",match:"@",activator:"@",inputFields:"="},controller:function($scope){$scope.hasError=!1,$scope.init=function(value){this.$parent.inputFields=value,this.inputFields=value}},compile:function(tElement,attrs){var $label=$(tElement.children()).find("label"),$input=$(tElement.children()).find("input");return attrs.match?($label.html($label.html()+" *"),$input.attr("field-match",attrs.match),$(tElement).find("p").html('<span aria-hidden="true" class="icon-Warningation"></span>{{fieldTitle}} field doesn\'t match')):!attrs.fieldRequired||"required"!==attrs.fieldRequired&&"true"!==attrs.fieldRequired||($label.html($label.html()+" *"),$input.attr("required","required")),attrs.fieldMaxLength&&$input.attr("maxlength",attrs.fieldMaxLength),attrs.fieldMinLength&&$input.attr("minlength",attrs.fieldMinLength),attrs.fieldMax&&$input.attr("max",attrs.fieldMax),attrs.fieldMin&&$input.attr("min",attrs.fieldMin),attrs.fieldPattern&&$input.attr("ng-pattern",attrs.fieldPattern),attrs.fieldDisabled&&$input.attr("disabled",attrs.fieldDisabled),attrs.activator&&$input.attr("field-activator",attrs.activator),function(scope,element,attrs,formController){var _scope=scope;return scope.match?!1:void $(element).on("blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?_scope.$apply(function(){_scope.hasError=!0}):$(e.currentTarget).hasClass("ng-pristine")&&!$(e.currentTarget).val()&&"required"==$(e.currentTarget).attr("required")?_scope.$apply(function(){_scope.hasError=!0}):_scope.$apply(function(){_scope.hasError=!1})})}}}}),angular.module("saas").directive("fieldActivator",function(){return{require:"ngModel",priority:0,link:function(scope,elem,attrs,ctrl){var sourceField='[name="'+attrs.fieldActivator+'"]';elem.on("blur",function(e){scope.$apply(function(){$(e.currentTarget).hasClass("ng-pristine")||($(sourceField).parents("div.row").removeClass("ng-hide"),$(sourceField).focus())})})}}}),angular.module("saas").directive("fieldMatch",function(){return{require:"ngModel",priority:0,link:function(scope,elem,attrs,ctrl){var sourceField='[name="'+attrs.fieldMatch+'"]';elem.on("blur",function(){scope.$apply(function(){var validity=elem.val()===$(sourceField).val();scope.hasError=!validity,ctrl.$setValidity("fieldMatch",validity)})})}}}),angular.module("saas").directive("formFieldAutocomplete",function(){return{restrict:"E",templateUrl:SaaS.location+"/docroot/assets/partials/form-field-autocomplete-tpl.html",replace:!0,require:"^form",scope:{fieldPath:"@",fieldDesc:"@",formType:"@",fieldName:"@",fieldTitle:"@",fieldValue:"@",fieldRequired:"@",fieldMaxLength:"@",fieldMinLength:"@",fieldMax:"@",fieldPattern:"@",fieldExpiry:"@",fieldMin:"@",fieldDisabled:"@",match:"@",activator:"@",inputFields:"=",inputRange:"="},controller:function($scope){$scope.hasError=!1,$scope.init=function(value){this.$parent.inputFields=value,this.inputFields=value},$scope.$watch("inputRange",function(){"object"==typeof $scope.inputRange&&null!=$scope.inputRange&&($scope.arrEmployeeId=$scope.inputRange)}),$scope.onSelect=function($item,$model,$label){$scope.hasError=!1}},compile:function(tElement,attrs){var $label=$(tElement.children()).find("label"),$input=$(tElement.children()).find("input");if(attrs.match?($input.attr("required","required"),$label.html($label.html()+" *"),$input.attr("field-match",attrs.match),$(tElement).find("p").html('<span aria-hidden="true" class="icon-Warningation"></span>{{fieldTitle}} field doesn\'t match')):!attrs.fieldRequired||"required"!==attrs.fieldRequired&&"true"!==attrs.fieldRequired||($label.html($label.html()+" *"),$input.attr("required","required")),attrs.fieldMaxLength&&$input.attr("maxlength",attrs.fieldMaxLength),attrs.fieldMinLength&&$input.attr("minlength",attrs.fieldMinLength),attrs.fieldMax&&$input.attr("max",attrs.fieldMax),attrs.fieldMin&&$input.attr("min",attrs.fieldMin),attrs.fieldPattern&&$input.attr("ng-pattern",attrs.fieldPattern),attrs.fieldExpiry){var currentDate=new Date,currentMonth=currentDate.getMonth()+2,currentYear=currentDate.getFullYear(),regex=currentMonth.toString()+"-"+currentYear;10>currentMonth&&(regex="0"+currentMonth+"-"+currentYear),$input.attr("ng-pattern","/^("+regex+")|(((0[1-9])|(1[0-2]))-((2015)|(2020)|(2021)|(2022)|(2023)|(20[1-2][5-9])))$/")}return attrs.fieldDisabled&&$input.attr("disabled",attrs.fieldDisabled),attrs.activator&&$input.attr("field-activator",attrs.activator),function(scope,element,attrs,formController){var _scope=scope;return scope.match?!1:void $(element).on("blur keyup",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?_scope.$apply(function(){_scope.hasError=!0}):$(e.currentTarget).hasClass("ng-pristine")&&!$(e.currentTarget).val()&&"required"==$(e.currentTarget).attr("required")?_scope.$apply(function(){_scope.hasError=!0}):_scope.$apply(function(){_scope.hasError=!1})})}}}}),angular.module("saas").directive("formField",function(){return{restrict:"E",templateUrl:SaaS.location+"/docroot/assets/partials/form-field-tpl.html",replace:!0,require:"^form",scope:{fieldPath:"@",fieldDesc:"@",formType:"@",fieldName:"@",fieldTitle:"@",fieldValue:"@",fieldRequired:"@",formValidateType:"@",fieldMaxLength:"@",fieldMinLength:"@",fieldMax:"@",fieldPattern:"@",fieldExpiry:"@",fieldMin:"@",fieldDisabled:"@",match:"@",activator:"@",inputFields:"="},controller:function($scope){$scope.hasError=!1,$scope.init=function(value){this.$parent.inputFields=value,this.inputFields=value},$scope.inputKeyPress=function(event){13===event.which&&(event.preventDefault(),$scope.$emit("submitFormFromInputKeypressEvent","yes"))}},compile:function(tElement,attrs){var $label=$(tElement.children()).find("label"),$input=$(tElement.children()).find("input");if(attrs.match?($input.attr("required","required"),$label.html($label.html()+" *"),$input.attr("field-match",attrs.match),$(tElement).find("p").html('<span aria-hidden="true" class="icon-Warningation"></span>{{fieldTitle}} field doesn\'t match')):!attrs.fieldRequired||"required"!==attrs.fieldRequired&&"true"!==attrs.fieldRequired||($label.html($label.html()+" *"),$input.attr("required","required")),attrs.fieldMaxLength&&$input.attr("maxlength",attrs.fieldMaxLength),attrs.fieldMinLength&&$input.attr("minlength",attrs.fieldMinLength),attrs.fieldMax&&$input.attr("max",attrs.fieldMax),attrs.fieldMin&&$input.attr("min",attrs.fieldMin),attrs.fieldPattern&&$input.attr("ng-pattern",attrs.fieldPattern),attrs.fieldExpiry){var currentDate=new Date,currentMonth=currentDate.getMonth()+2,currentYear=currentDate.getFullYear(),regex=currentMonth.toString()+"-"+currentYear;10>currentMonth&&(regex="0"+currentMonth+"-"+currentYear),$input.attr("ng-pattern","/^("+regex+")|(((0[1-9])|(1[0-2]))-((2015)|(2020)|(2021)|(2022)|(2023)|(20[1-2][5-9])))$/")}return attrs.fieldDisabled&&$input.attr("disabled",attrs.fieldDisabled),attrs.activator&&$input.attr("field-activator",attrs.activator),function(scope,element,attrs,formController){var _scope=scope;return scope.match?!1:void $(element).on("blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?_scope.$apply(function(){_scope.hasError=!0}):$(e.currentTarget).hasClass("ng-pristine")&&!$(e.currentTarget).val()&&"required"==$(e.currentTarget).attr("required")?_scope.$apply(function(){_scope.hasError=!0}):_scope.$apply(function(){_scope.hasError=!1})})}}}}),angular.module("saas").directive("formFieldInline",function(){return{restrict:"E",templateUrl:SaaS.location+"/docroot/assets/partials/form-field-inline-tpl.html",replace:!0,require:"^form",scope:{fieldPath:"@",formType:"@",fieldName:"@",fieldValue:"@",fieldRequired:"@",fieldMaxLength:"@",fieldMinLength:"@",fieldMax:"@",fieldMin:"@",fieldPattern:"@",inputFields:"=",fieldLabel:"@"},controller:function($scope){$scope.init=function(value){this.$parent.inputFields=value}},compile:function(tElement,attrs){var $input=$(tElement.children()).find("input");return attrs.fieldMaxLength&&$input.attr("maxlength",attrs.fieldMaxLength),attrs.fieldMinLength&&$input.attr("minlength",attrs.fieldMinLength),attrs.fieldPattern&&$input.attr("ng-pattern",attrs.fieldPattern),function(scope,element,attrs,formController){var _scope=scope;return scope.match?!1:void $(element).on("blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?_scope.$apply(function(){_scope.hasError=!0}):$(e.currentTarget).hasClass("ng-pristine")&&!$(e.currentTarget).val()&&"required"==$(e.currentTarget).attr("required")?_scope.$apply(function(){_scope.hasError=!0}):_scope.$apply(function(){_scope.hasError=!1})})}},link:function(scope,element,attrs,formController){$(element.children()).find("input");$(element).on("change blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?$(element).addClass("error"):$(element).removeClass("error")})}}}),angular.module("saas").directive("formPassword",function(){return{restrict:"E",templateUrl:SaaS.location+"/docroot/assets/partials/form-password-tpl.html",replace:!0,require:"^form",scope:{fieldPath:"@",formType:"@",fieldName:"@",fieldTitle:"@",fieldValue:"@",fieldRequired:"@",fieldMaxLength:"@",fieldMinLength:"@",fieldMax:"@",fieldPattern:"@",fieldMin:"@",fieldDisabled:"@",match:"@",activator:"@",inputFields:"="},controller:function($scope){$scope.hasError=!1,$scope.init=function(value){this.$parent.inputFields=value,this.inputFields=value}},compile:function(tElement,attrs){var $label=$(tElement.children()).find("label"),$input=$(tElement.children()).find("input");return attrs.match?($input.attr("field-match",attrs.match),$(tElement).find("p").html('<span aria-hidden="true" class="icon-Warningation"></span>{{fieldTitle}} field doesn\'t match')):!attrs.fieldRequired||"required"!==attrs.fieldRequired&&"true"!==attrs.fieldRequired||($label.html($label.html()+" *"),$input.attr("required","required")),attrs.fieldMaxLength&&$input.attr("maxlength",attrs.fieldMaxLength),attrs.fieldMinLength&&$input.attr("minlength",attrs.fieldMinLength),attrs.fieldMax&&$input.attr("max",attrs.fieldMax),attrs.fieldMin&&$input.attr("min",attrs.fieldMin),attrs.fieldPattern&&$input.attr("ng-pattern",attrs.fieldPattern),attrs.fieldDisabled&&$input.attr("disabled",attrs.fieldDisabled),attrs.activator&&$input.attr("field-activator",attrs.activator),function(scope,element,attrs,formController){var _scope=scope;return scope.match?!1:void $(element).on("blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?_scope.$apply(function(){_scope.hasError=!0}):$(e.currentTarget).hasClass("ng-pristine")&&!$(e.currentTarget).val()&&"required"==$(e.currentTarget).attr("required")?_scope.$apply(function(){_scope.hasError=!0}):_scope.$apply(function(){_scope.hasError=!1})})}}}}),angular.module("saas").directive("formSelect",function(){return{restrict:"E",replace:!0,transclude:!0,require:"^form",templateUrl:SaaS.location+"/docroot/assets/partials/form-select-tpl.html",scope:{fieldPath:"@",formType:"@",fieldName:"@",fieldTitle:"@",fieldValue:"@",fieldRequired:"@",inputFields:"="},controller:function($scope,$timeout){var _scope=$scope;$scope.init=function(value){if(value){this.inputFields=value;var self=this,_value=value;$timeout(function(){self.selectedItem=$('option[value="'+_value+'"').text()},100)}else this.selectedItem="Please select"},$scope.$watch("inputFields",function(value,oldVal){_scope.selectedItem="Please select",value&&value!==oldVal&&_scope.items.forEach(function(item){item.value===value&&(_scope.selectedItem=item.label)}),$('[name="'+$scope.fieldName+'"]').val()})},link:function(scope,element,attrs,formController){var items=[],el=$("."+$(element).attr("id"));_.each(el,function(option){items.push({value:option.value,label:$(option).attr("data")})}),el.remove(),scope.items=items,$(element).on("change blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?($(element).addClass("error"),$(element).find(".col-sm-6.error").removeClass("hidden"),$(element).find("span.input-lg").addClass("error")):$(e.currentTarget).hasClass("ng-pristine")&&"required"==$(e.currentTarget).attr("required")?($(element).addClass("error"),$(element).find(".col-sm-6.error").removeClass("hidden"),$(element).find("span.input-lg").addClass("error")):($(element).removeClass("error"),$(element).find(".col-sm-6.error").addClass("hidden"),$(element).find("span.input-lg").removeClass("error"))}),$(element).on("focus",".form-control",function(e){$(element).find("span.input-lg").addClass("focused")}),$(element).on("blur",".form-control",function(e){$(element).find("span.input-lg").removeClass("focused")})}}}),angular.module("saas").directive("formSelectInline",function(){return{restrict:"E",templateUrl:SaaS.location+"/docroot/assets/partials/form-select-inline-tpl.html",replace:!0,transclude:!0,require:"^form",scope:{fieldPath:"@",formType:"@",fieldName:"@",fieldTitle:"@",fieldValue:"@",fieldRequired:"@",inputFields:"=",optionsFromJson:"=",inlineAjaxUrl:"@",inlineAjaxFn:"&",inlineSubmit:"@",inputDisabled:"="},controller:function($scope,$element,$timeout){$scope.init=function(value){if(value){this.inputFields=value;var self=this,_value=value;$timeout(function(){self.selectedItem=$('option[value="'+_value+'"]:first').text()},100)}else this.selectedItem="Please select"},$scope.onUpdate=function(options){this.selectedItem=this.items[options.selectedItem],$scope.inlineSubmit&&$element.closest("form").submit()};var _scope=$scope;$scope.$watch("inputFields",function(value,oldVal){value?_scope.selectedItem=_scope.items[value]:_scope.selectedItem="Please select"}),$scope.$watch("optionsFromJson",function(value,oldVal){var items={};"undefined"!=typeof _scope.optionsFromJson&&(_.each(value,function(option){items[option.id]=option.value}),_scope.items=items)})},link:function(scope,element,attrs,formController){var items={},className=$(element).attr("id"),el=$("."+className);"undefined"!=typeof scope.optionsFromJson?_.each(scope.optionsFromJson,function(option){items[option.id]=option.value}):_.each(el,function(option){items[option.value]=$(option).attr("data")}),el.remove(),scope.items=items,$(element).on("change blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?($(element).addClass("error"),$(element).find(".col-sm-5.error").removeClass("hidden")):($(element).removeClass("error"),$(element).find(".col-sm-5.error").addClass("hidden"))}),$(element).on("focus",".form-control",function(e){$(element).find("span.input-lg").addClass("focused")}),$(element).on("blur",".form-control",function(e){$(element).find("span.input-lg").removeClass("focused")})}}}),angular.module("saas").directive("formTextarea",function(){return{restrict:"E",templateUrl:SaaS.location+"/docroot/assets/partials/textarea-tpl.html",replace:!0,require:"^form",scope:{fieldPath:"@",fieldName:"@",fieldTitle:"@",fieldValue:"@",fieldRequired:"@",fieldMaxLength:"@",match:"@",inputFields:"="},controller:function($scope){$scope.hasError=!1,$scope.init=function(value){this.$parent.inputFields=value}},compile:function(tElement,attrs){var $label=$(tElement.children()).find("label"),$input=$(tElement.children()).find("textarea");return attrs.match?($input.attr("field-match",attrs.match),$(tElement).find("p").html('<span aria-hidden="true" class="icon-Warningation"></span>{{fieldTitle}} field doesn\'t match')):!attrs.fieldRequired||"required"!==attrs.fieldRequired&&"true"!==attrs.fieldRequired||($label.html($label.html()+" *"),$input.attr("required","required")),attrs.fieldMaxLength&&$(tElement.children()).find("textarea").attr("maxlength",attrs.fieldMaxLength),function(scope,element,attrs,formController){var _scope=scope;return scope.match?!1:void $(element).on("blur",".form-control",function(e){!$(e.currentTarget).hasClass("ng-pristine")&&$(e.currentTarget).hasClass("ng-invalid")?_scope.$apply(function(){_scope.hasError=!0}):_scope.$apply(function(){_scope.hasError=!1})})}}}}),angular.module("saas").directive("passwordValidate",function(){return{require:"ngModel",link:function($scope,elm,attrs,ctrl){ctrl.$parsers.unshift(function(viewValue){return $scope.pwdValidLength=viewValue&&viewValue.length>=7?"valid":void 0,$scope.pwdHasLetter=viewValue&&/[A-Z]/.test(viewValue)?"valid":void 0,$scope.pwdHasLowLetter=viewValue&&/[a-z]/.test(viewValue)?"valid":void 0,$scope.pwdHasNumber=viewValue&&/\d/.test(viewValue)?"valid":void 0,$scope.pwdValidLength&&$scope.pwdHasLowLetter&&$scope.pwdHasLetter&&$scope.pwdHasNumber?(ctrl.$setValidity("pwd",!0),viewValue):void ctrl.$setValidity("pwd",!1)})}}}),angular.module("accordionModule",["ui.bootstrap.collapse"]),angular.module("accordionModule").constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);-1!==index&&this.groups.splice(this.groups.indexOf(group),1)}}]),angular.module("accordionModule").directive("accordion",function(){
return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:SaaS.location+"/docroot/assets/partials/accordion.html"}}).directive("accordionGroup",["$parse",function($parse){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:SaaS.location+"/docroot/assets/partials/accordion-group.html",scope:{heading:"@",initiallyOpen:"=?"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.initiallyOpen&&(scope.isOpen=!0),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(element,attr,transclude){return function(scope,element,attr,accordionGroupCtrl){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&element.append(heading)})}}}),angular.module("saas").directive("saasSelect",function(){return{restrict:"A",templateUrl:SaaS.location+"/docroot/assets/partials/select-tpl.html",transclude:!0,replace:!0,scope:!0,link:function($scope,elem,attrs){var items=[];_.each(elem.find("select").find("option"),function(option){items.push({id:option.value,name:option.text})}),elem.find("select").find("option").remove(),$scope.items=items},controller:function($scope){$scope.items=[],$scope.selectedItem={id:0,name:"Please Select"}}}}),angular.module("videoModule",[]);var ModalInstanceCtrl=function($scope,$modalInstance,confirmMessage){"undefined"!=typeof confirmMessage&&""!==confirmMessage||(confirmMessage="Are you sure you want to proceed with this action?"),$scope.confirmMessage=confirmMessage,$scope.ok=function(){$modalInstance.close()},$scope.cancel=function(){$modalInstance.dismiss("cancel")}};angular.module("videoModule").directive("videoLink",function(){return{restrict:"EA",transclude:!0,templateUrl:SaaS.location+"/docroot/assets/partials/video-link.html",controller:function($scope,$modal,$log){$scope.open=function(){$modal.open({templateUrl:"myModalContent.html",controller:ModalInstanceCtrl,resolve:{items:function(){return $scope.items}}})}},replace:!0}}),angular.module("headerNavModule",[]),angular.module("headerNavModule").directive("saasHeaderNav",function(){return{restrict:"A",link:function($scope,el,attr){var $links=$(el).children(),$rollovers=$(el).find(".rollover");$links.bind("mouseover",function(e){$(e.currentTarget).children().filter("div").show()}),el.find("li").bind("mouseout",function(e){$rollovers.hide()})}}}),angular.module("teleSearchModule",[]),angular.module("teleSearchModule").controller("teleSearchCtrl",["$scope","teleSearchService",function($scope,teleSearchService){$scope.results=[],$scope.currentResults={},$scope.onEnterSubmit=function(e){if(13===event.keyCode){var options=$scope.getOptions(e);$scope.searchCustomers(options)}},$scope.searchCustomers=function(){var options=$scope.getOptions(event);$scope.getUserDetails(options)},$scope.getOptions=function(event){var options={},$input=$(event.currentTarget).parent().find("input");return options.token=$input.attr("data-token"),options.header=$input.attr("data-header"),options},$scope.getUserDetails=function(options){if($scope.keywords&&" "!==$scope.keywords){var postData={email:$scope.keywords};teleSearchService.getUserDetails(postData,options).then(function(data){if(!data.results)return $scope.keywords="",!1;var result={id:$scope.index,keywords:$scope.keywords,data:data.results};$scope.results.push(result),$scope.currentResults=result,$scope.keywords="",$scope.index++})}},$scope.getRandomData=function(realData){var randomData=[{id:10,name:"random 1",accountNo:"32185",company:"Random company 1",billingInfo:"Annual"},{id:20,name:"random 2",accountNo:"32185",company:"Random company 2",billingInfo:"Annual"},{id:30,name:"random 3",accountNo:"32185",company:"Random company 3",billingInfo:"Annual"},{id:40,name:"random 4",accountNo:"32185",company:"Random company 4",billingInfo:"Annual"},{id:50,name:"random 5",accountNo:"32185",company:"Random company 5",billingInfo:"Annual"}],items=_.sample(randomData,_.random(1,randomData.length));_.each(items,function(item){realData.results.push(item)})},$scope.showTab=function(id){var data=_.filter($scope.results,function(result){return result.id===id});$scope.currentResults=data[0]},$scope.removeTab=function(id){var data=_.reject($scope.results,function(result){return result.id===id});if($scope.results=data,$scope.currentResults.id===id){var index=$(event.currentTarget).parent().index();index>0?$scope.currentResults=$scope.results[index-1]:$scope.currentResults={}}},$scope.clearSearches=function(){$scope.results=[],$scope.currentResults={}}}]);var manageUsersModule=angular.module("manageUsersModule",[]);angular.module("manageUsersModule").controller("manageUsersCtrl",["$scope","postService","$modal",function($scope,postService,$modal){$scope.results=json,$scope.currentResults=$scope.results,$scope.currentTab="",$scope.currentTabArray=[],$scope.ajaxErrorHeader="",$scope.processTab=function(array){$scope.currentTabArray[0]===array[0]?$scope.currentTabArray=[]:$scope.currentTabArray=array},$scope.changeUserGroup=function(userId,value,url,userGroupId){if(189==value){$("select#role-"+userId).hide();var modalInstance=$modal.open({templateUrl:SaaS.location+"/docroot/assets/partials/confirm-unassign-modal.html",controller:ModalInstanceCtrl,resolve:{confirmMessage:function(){return"WARNING: You're about to allow this person to subscribe to apps and software, as well as cancel subscriptions. When they subscribe to things, they'll use the payment method you set up on this account. Would you like to go ahead?"}}});modalInstance.result.then(function(selectedItem){$scope.prepareAjaxCall(userId,value,url)},function(){return window.location.href=window.location.href+"?openUserAccordion="+userId,!1})}else $scope.prepareAjaxCall(userId,value,url)},$scope.prepareAjaxCall=function(userId,value,url){var ajaxURL=url+userId+"/"+value,data={};data.userId=userId,data.value=value,data.origin="Change Group",$scope.makeAjaxCall(ajaxURL,data)},$scope.changeUserStatus=function(userId,value,url){var ajaxURL=url+userId+"/"+value,data={};data.userId=userId,data.value=value,data.origin="Change Status",$scope.makeAjaxCall(ajaxURL,data)},$scope.unsubscribeProduct=function(userId,value,url){var ajaxURL=url+userId+"/"+value,data={};data.userId=userId,data.value=value,data.origin="Unsubscribe Product";var callback=$scope.unsubscribeProductCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.removeUser=function(event,userId){$scope.open(event,userId)},$scope.open=function(event,userId){var modalInstance=$modal.open({templateUrl:SaaS.location+"/docroot/assets/partials/confirm-unassign-modal.html",controller:ModalInstanceCtrl,resolve:{confirmMessage:function(){return"WARNING: If you choose to remove this person, any data they've put into apps they're assigned to will be lost. Their entire profile will be deleted from your Business Apps account. Are you sure you want to go ahead and do this?"}}});modalInstance.result.then(function(selectedItem){var data={};data.userId=userId,data.origin="Remove User";var ajaxURL=$(event.currentTarget).attr("data-path"),callback=$scope.removeUserCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},function(){return!1})},$scope.unsubscribeProductCallback=function(response){angular.forEach($scope.results.users,function(userObject,key){userObject.id==response.postData.userId&&angular.forEach(userObject.products,function(product,key){product.productId==response.postData.value&&userObject.products.splice($.inArray(product,userObject.products),1)})})},$scope.removeUserCallback=function(response){var newUsers=_.reject($scope.results.users,function(el){return el.id===response.postData.userId});$scope.results.users=newUsers,$scope.currentTab="",$scope.currentTabArray=[],newUsers=_.reject($scope.currentResults.users,function(el){return el.id===response.postData.userId}),$scope.currentResults.users=newUsers},$scope.makeAjaxCall=function(ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){response.data.success?($scope.ajaxErrorHeader="",callbackFn&&callbackFn(response)):($scope.ajaxErrorHeader=data.origin,$scope.ajaxErrorMessage=response.data.error)})}}]).filter("userFilter",function(){return function(users,searchText,currentTabArray){var searchRegx=new RegExp(searchText,"i");if(void 0==searchText&&currentTabArray==[])return users;var result=[];for(i=0;i<users.length;i++){var fullName=users[i].firstName+" "+users[i].lastName;if(-1!=fullName.search(searchRegx)||-1!=users[i].email.search(searchText))if(currentTabArray.length){var firstLetter=users[i].lastName.substring(0,1).toLowerCase();currentTabArray.indexOf(firstLetter)>-1&&result.push(users[i])}else result.push(users[i])}return result}}),angular.module("inviteUsersModule",[]),angular.module("inviteUsersModule").controller("inviteUsersCtrl",["$scope",function($scope){$scope.newUserList={users:json},$scope.addUser=function(array){var newUser={firstname:"",lastname:"",email:"",role:""};$scope.newUserList.users.push(newUser)},$scope.removeUser=function(id){$scope.newUserList[id];$scope.newUserList.users.splice(id,1)},$scope.submitNewUserList=function(){},$scope.TooltipDemoCtrl=function($scope){$scope.dynamicTooltip="about role"}}]),angular.module("tabAccordionModule",[]),angular.module("tabAccordionModule").directive("tabAccordion",function(){return{restrict:"E",transclude:!0,scope:{},controller:function($scope,$element){var tabs=$scope.tabs=[];$scope.select=function(tab){angular.forEach(tabs,function(tab){tab.isOpen=!1}),tab.isOpen=!0},this.returnSelect=function(tab){$scope.select(tab)},this.addTab=function(tab){0==tabs.length&&$scope.select(tab),tabs.push(tab)}},templateUrl:SaaS.location+"/docroot/assets/partials/tab-accordion-wrapper.html",replace:!0}}).directive("tab",function(){return{require:"^tabAccordion",restrict:"E",transclude:!0,scope:{title:"@"},link:function(scope,element,attrs,tabsAccordionCtrl){tabsAccordionCtrl.addTab(scope),scope.$watch("isOpen",function(value){value&&tabsAccordionCtrl.returnSelect(scope)})},templateUrl:SaaS.location+"/docroot/assets/partials/tab-accordion-tab.html",replace:!0}}),angular.module("productGridModule",[]),angular.module("productGridModule").controller("productGridCtrl",["$scope","KKDataService",function($scope,KKDataService){KKDataService.getAllProducts().then(function(data){$scope.products=data.r.productArray});var options={storeId:"store2",custId:-62};KKDataService.addBasketItem(options).then(function(data){KKDataService.getBasketItems(options).then(function(data){})})}]),angular.module("productGridModule").directive("saasProductGrid",function(){return{restrict:"A",transclude:!0,templateUrl:SaaS.location+"/docroot/assets/partials/product-grid-tpl.html",link:function($scope,el,attr){$scope.increment=function(item){item.clickCount+=1}}}}),angular.module("drawerBoxModule",[]).filter("grouped",function(){return function(input,itemsPerRow){void 0===itemsPerRow&&(itemsPerRow=1);for(var out=[],i=0;i<input.length;i++){var row,rowElementIndex=i%itemsPerRow,indexRow=(i-rowElementIndex)/itemsPerRow;0===rowElementIndex?(row=[],out[indexRow]=row):row=out[indexRow],row[rowElementIndex]=input[i]}return out}}),angular.module("drawerBoxModule").config(["$sceProvider",function($sceProvider){$sceProvider.enabled(!1)}]),angular.module("drawerBoxModule").directive("swfTemplate",function(){return{link:function($scope,element,attrs){$scope.item.ui.boxVideoSwf?element.html('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" type="application/x-shockwave-flash" codebase="https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0" width="500" height="281"><param name="loop" value="false"><param name="movie" value="'+$scope.item.ui.boxVideoSwf+'"><embed pluginspage="https://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="500" height="281" loop="false" src="'+$scope.item.ui.boxVideoSwf+'"></embed></object>'):element.html("")}}}),angular.module("drawerBoxModule").controller("drawerBoxCtrl",["$scope","$sce","postService",function($scope,$sce,postService){for(this.objects=products,$scope.snippet="<ul><li> one </li><li> two </li><li> three </li></ul>",$scope.items=[];this.objects.length;)$scope.items.push(this.objects.splice(0,3));$scope.drawerContentURL="partials/item.html",$scope.currentItem=null,$scope.display0=!0,$scope.display1=!1,$scope.setCurrentItem=function(item){$scope.currentItem=item},$scope.closeDrawerBox=function(){$scope.currentItem=null},$scope.renderToHtml=function(htmlString){return $sce.trustAsHtml(htmlString)},$scope.trustThisSource=function(theUrl){return $sce.trustAsResourceUrl(theUrl)},$scope.displayCurrentItem=function(item){$scope["display"+item]=!$scope["display"+item],"0"==item&&($scope.display1=!1),"1"==item&&($scope.display0=!1)},$scope.playVideo=function(elementId,event){var videoElement=document.getElementById("vid-"+elementId);if($("video").each(function(){-1==navigator.appVersion.indexOf("MSIE 8.")&&this.pause()}),$(event.target).hide(),$(videoElement).show(),-1!=navigator.appVersion.indexOf("MSIE 8."));else{var videoElement=document.getElementById("vid-"+elementId);$(event.target).hide(),$(videoElement).show();var source=$(videoElement).find("source"),mp4Video=source[0];mp4Video.src=$(mp4Video).attr("id");var ogvVideo=source[1];ogvVideo.src=$(ogvVideo).attr("id"),videoElement.load(),(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(videoElement.requestFullscreen?videoElement.requestFullscreen():videoElement.mozRequestFullScreen?videoElement.mozRequestFullScreen():videoElement.webkitRequestFullscreen&&videoElement.webkitRequestFullscreen()),videoElement.play()}},$scope.removeProduct=function(event,index,productID){var data={};data.productID=productID;var ajaxURL=$(event.currentTarget).attr("data-path"),callback=$scope.removeLeadsFromList;$scope.makeAjaxCall(index,ajaxURL,data,callback)},$scope.makeAjaxCall=function(index,ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){$scope.removeProductsFromList(data)})},$scope.removeProductsFromList=function(data){var myid=data.productID;$scope["expiredProduct"+myid]=!0}}]),angular.module("voucherApp",[]).controller("voucherAppController",voucherAppController),angular.module("provisioningModule",[]),angular.module("provisioningModule").controller("provisioningCtrl",["$scope","provisioningService","$element","$timeout",function($scope,provisioningService,$element,$timeout){$scope.ajaxUrlProvisioning="",$scope.isLoading=!1,$scope.guesses=0,$scope.BasicInfo=!1,$scope.doubleClick=!1,$scope.agentRefNo="",$scope.quantity1="",$scope.updateAgentRefNo=function(agenRefNumber){$scope.agentRefNo=agenRefNumber},$scope.disableDoubleClick=function(event){1==$scope.doubleClick?event.preventDefault():$scope.doubleClick=!0},$scope.$on("submitFormFromInputKeypressEvent",function(event,data){"yes"==data&&(event.preventDefault(),"yes"==$scope.radioSwitch?1==$scope.form1.$valid&&$timeout(function(){angular.element("#provisioningValidateMember").triggerHandler("click")},0):0==$scope.radioSwitch&&1==$scope.form2.$valid&&$timeout(function(){angular.element("#provisioningNonValidateMember").triggerHandler("click")},0))}),$scope.disableNextButton=function(){return $scope.BasicInfo=!1,!0},"undefined"!=typeof initialDefinedState?$scope.state=initialDefinedState:$scope.state="",$scope.money=0,$scope.inlineSubmit=function(targetState){event.preventDefault(),$scope.state=targetState},$scope.ajaxSubmit=function(event,ajaxURL){event.preventDefault(),$scope.isLoading=!0;var data={user:$scope.user,product:$scope.product,kkProduct:$scope.kkProduct,productJson:$scope.productJson,accountJson:$scope.accountJson,billingPostcode:$scope.billingPostcode,emailToPurchase:$scope.emailToPurchase,sendEmailToMaster:$scope.sendEmailToMaster,continueWithExistingAccount:$scope.continueWithExistingAccount,memorableQuestionId:$scope.memorableQuestionId,emailMaster:$scope.emailMaster,editPaymentDetails:$scope.editPaymentDetails,account:$scope.account,eeCRMFound:$scope.eeCRMFound,eeBrand:$scope.eeBrand,eeSegment:$scope.eeSegment,failedAttempts:$scope.failedAttempts,error:$scope.error,setUpNewCompany:$scope.setUpNewCompany,setUpNewMaster:$scope.setUpNewMaster,state:$scope.state};delete data.user.confirmEmail,delete data.user.memorableAnswerCheck;var options={},$input=$(event.currentTarget).parents("form").find('input[type="hidden"]');return options.token=$input.val(),options.header=$input.attr("data_header"),provisioningService.postProvisioningData(ajaxURL,data,options).then(function(data){$scope.isLoading=!1,$scope.title=data.title,$scope.user=data.user,$scope.error=data.error,$scope.productJson=data.productJson,$scope.accountJson=data.accountJson,$scope.billingPostcode=data.billingPostcode,$scope.emailToPurchase=data.emailToPurchase,$scope.sendEmailToMaster=data.sendEmailToMaster,$scope.continueWithExistingAccount=data.continueWithExistingAccount,$scope.memorableQuestionId=data.memorableQuestionId,$scope.emailMaster=data.emailMaster,$scope.editPaymentDetails=data.editPaymentDetails,$scope.account=data.account,$scope.eeCRMFound=data.eeCRMFound,$scope.eeBrand=data.eeBrand,$scope.eeSegment=data.eeSegment,$scope.failedAttempts=data.failedAttempts,$scope.error=data.error,$scope.setUpNewCompany=data.setUpNewCompany,$scope.setUpNewMaster=data.setUpNewMaster,$scope.state=data.state,$scope.product=$scope.getDataFromJSON(data.productJson),$scope.inlineSubmit(data.state)}),!1},$scope.getDataFromJSON=function(dataStr){var data=JSON&&JSON.parse(dataStr)||$.parseJSON(dataStr);return data},$scope.checkMemorableAnswer=function(path){$scope.guesses+=1,$scope.user.memorableAnswerCheck===$scope.user.memorableAnswer&&$("form[name=captureAdditionalInfo]").submit()},$scope.paymentModulusValid=function(){return paymentDetails.user.holderName.$valid},$scope.doModulusCheck=function(){$scope.modulusCheck=!0},$scope.setupDirectDebit=function(){$scope.inlineSubmit("ddSuccess")},$scope.validateCCDetails=function(){},$scope.makeCCPayment=function(){}}]),angular.module("paymentModule",["ngSanitize"]),angular.module("paymentModule").controller("paymentCtrl",["$scope","$sce","$compile",function($scope,$sce,$compile){$scope.formData=json||{},$scope.modulusCheck=!1,$scope.modulusCheckNO=!1,$scope.validateResult=!0,$scope.doubleClick=!1,$scope.disableDoubleClick=function(event){1==$scope.doubleClick?event.preventDefault():$scope.doubleClick=!0},$scope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)},$scope.findAddressFromPostcode=function(event,customConfig,method){var formNames={};"credit"==method?customConfig?(customConfig.address1?formNames.address1=customConfig.address1:formNames.address1="bill_to_address_line1",customConfig.town?formNames.town=customConfig.town:formNames.town="bill_to_address_city",customConfig.postcode?formNames.postcode=customConfig.postcode:formNames.postcode="bill_to_address_postal_code"):(formNames.address1="bill_to_address_line1",formNames.town="bill_to_address_city",formNames.postcode="bill_to_address_postal_code"):customConfig?(customConfig.address1?formNames.address1=customConfig.address1:formNames.address1="accAddress1",customConfig.address2?formNames.address2=customConfig.address2:formNames.address2="accAddress2",customConfig.town?formNames.town=customConfig.town:formNames.town="accTown",customConfig.postcode?formNames.postcode=customConfig.postcode:formNames.postcode="accPostCode"):(formNames.address1="accAddress1",formNames.address2="accAddress2",formNames.town="accTown",formNames.postcode="accPostCode");var $form=$(event.currentTarget).parents("form"),cp_obj=CraftyPostcodeCreate();cp_obj.set("access_token","5db81-bbb52-7bebe-010f9"),cp_obj.set("result_elem_id",$form.attr("name")+"-postcode"),cp_obj.set("first_res_line","Please Select"),cp_obj.set("res_autoselect",0),cp_obj.set("form",$form.attr("name")),cp_obj.set("elem_street1",formNames.address1),"debit"==method&&cp_obj.set("elem_street2",formNames.address2),cp_obj.set("elem_town",formNames.town),cp_obj.set("elem_postcode",formNames.postcode),cp_obj.set("on_result_ready",function(){$scope.postCodeCheckError="",$scope.selectedPostCode="Please Select",$scope.postCodeFind=$form.attr("name")+"-postcode";var $selectOuter=$("#"+$form.attr("name")+"-postcode"),$select=$selectOuter.find("select");$select.addClass("form-control input-lg"),$select.attr("ng-model","selectedPostCode"),$select.attr("ng-change","updateSelectedPostcode()");$compile($selectOuter.parent())($scope);$scope.$apply()}),cp_obj.set("on_result_selected",function(){$scope.postCodeCheckError="",$scope.postCodeCheck=$form.attr("name")+"-postcode",_.each(formNames,function(value,key){if(customConfig){var currentFieldName=$("input[name="+value+"]").attr("name"),currentValue=$("input[name="+value+"]").val(),generatedFields=$scope.formData.fields;_.each(generatedFields,function(field){field.name==currentFieldName&&(field.value=currentValue)})}$scope[$(this[value]).attr("name")]||($scope[value]=$("input[name='"+value+"']").val())}),$scope.$apply()}),cp_obj.set("on_error",function(){$scope.postCodeCheckError=$form.attr("name")+"-postcode",""!==$("input[name="+formNames.postcode+"]").val()&&$scope.$apply()}),cp_obj.doLookup()},$scope.updateSelectedPostcode=function(){var $select=$(event.currentTarget);$scope.selectedPostCode!=$select.val()&&($scope.selectedPostCode=$select.val(),$scope.$apply())},$scope.doModulusCheck=function(AccountNumber,SortCode){if("10000000"==AccountNumber&&"201111"==SortCode)$(".modulusCheckNo").hide(),$(".modulusCheck").show(),$scope.modulusCheck=!0,$scope.modulusCheckNO=!0,$scope.validateResult=!0;else{var validBankAccount=BankAccountValidation_Interactive_Validate_v2_00("JE28-DY24-YN89-WJ82",AccountNumber,SortCode);validBankAccount.then(function(data){data.Items[0].IsCorrect?($(".modulusCheckNo").hide(),$(".modulusCheck").show(),$scope.modulusCheck=!0,$scope.modulusCheckNO=!0,$scope.validateResult=!0):($(".modulusCheckNo").show(),$(".modulusCheck").hide(),$scope.modulusCheck=!1,$scope.modulusCheckNO=!1,$scope.validateResult=!0,$("input#dd-proceed-telesales").attr("disabled",!0))})}}}]);var manageProductsModule=angular.module("manageProductsModule",[]);angular.module("manageProductsModule").controller("manageProductCtrl",["$scope","postService","$modal",function($scope,postService,$modal){$scope.userId="",$scope.productId="",$scope.initValue=function(id,identifier,value){if($scope[id])$scope[id][identifier]=value;else{var obj={};obj[identifier]=value,$scope[id]=obj}},$scope.deleteSubscription=function(productId,url){var ajaxURL=url+"/"+productId,data={};data.productId=productId,data.origin="Remove Subscription";var callback=$scope.deleteSubscriptionCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.deleteSubscriptionCallback=function(response){var currentProductId=response.postData.productId;$scope["cancelledComplete"+currentProductId]=!0},$scope.unassignUserCallback=function(response){$scope["totals"+response.postData.modelId].assigned-=1,$scope["totals"+response.postData.modelId].available+=1},$scope.unassignUser=function(userId,modelId,url,parentId,reassign){$scope.userId=userId,$scope.productId=modelId,$scope.open(userId,modelId,url,parentId,reassign)},$scope.open=function(userId,modelId,url,parentId,reassign){var checkIdentifier="input#checkbox"+modelId+userId,checkBoxElement=$(checkIdentifier),modalInstance=$modal.open({templateUrl:SaaS.location+"/docroot/assets/partials/confirm-unassign-modal.html",controller:ModalInstanceCtrl,resolve:{confirmMessage:function(){return"WARNING: If you choose to remove a licence, the person it's assigned to will lose any data they have stored in the app. Are you sure you want to go ahead?"}}});modalInstance.result.then(function(selectedItem){var ajaxURL=url+userId+"/"+modelId,data={};data.userId=userId,data.value=modelId,data.origin="Unassign User",data.modelId=modelId,data.reassignable=reassign,data.parentId=parentId;var callback=$scope.unassignUserCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},function(){return $scope["checkbox"+$scope.productId+$scope.userId]=!0,checkBoxElement.trigger("click"),!1})},$scope.makeAjaxCall=function(ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){response.data.success?($scope.ajaxErrorHeader="",callbackFn&&callbackFn(response)):($scope.ajaxErrorHeader=data.origin,$scope.ajaxErrorMessage=response.data.error)})}}]);var viewLicencesModule=angular.module("viewLicencesModule",[]);angular.module("viewLicencesModule").controller("viewLicencesCtrl",["$scope","postService","$modal",function($scope,postService,$modal){$scope.testscope="hello",$scope.initValue=function(id,identifier,value){if($scope[id])$scope[id][identifier]=value;else{var obj={};obj[identifier]=value,$scope[id]=obj}},$scope.lockSubscription=function(productId,url){var ajaxURL=url+productId,data={};data.productId=productId,data.origin="Lock subscription";var callback=$scope.lockSubscriptionCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.unlockSubscription=function(productId,url){var ajaxURL=url+productId,data={};data.productId=productId,data.origin="Unlock subscription";var callback=$scope.unlockSubscriptionCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},$scope.unassignUser=function(userId,modelId,url,parentId,reassign){$scope.open(userId,modelId,url,parentId,reassign)},$scope.open=function(userId,modelId,url,parentId,reassign){var checkIdentifier="input#checkbox"+modelId+userId,checkBoxElement=$(checkIdentifier),modalInstance=$modal.open({templateUrl:SaaS.location+"/docroot/assets/partials/confirm-unassign-modal.html",controller:ModalInstanceCtrl,resolve:{confirmMessage:function(){return"WARNING: If you choose to remove a licence, the person it's assigned to will lose any data they have stored in the app. Are you sure you want to go ahead?"}}});modalInstance.result.then(function(selectedItem){var ajaxURL=url+userId+"/"+modelId,data={};data.userId=userId,data.value=modelId,data.origin="Unassign User",data.modelId=modelId,data.reassignable=reassign,data.parentId=parentId;var callback=$scope.unassignUserCallback;$scope.makeAjaxCall(ajaxURL,data,callback)},function(){return checkBoxElement.trigger("click"),!1})},$scope.lockSubscriptionCallback=function(response,target){var productId=response.postData.productId;$scope["locked"+productId]={isLocked:!0}},$scope.unlockSubscriptionCallback=function(response,target){var productId=response.postData.productId;$scope["locked"+productId]={isLocked:!1}},$scope.unassignUserCallback=function(response){var modelId=response.postData.modelId,isReassignable=response.postData.reassignable,parentId=response.postData.parentId;if(!isReassignable)return!1;var currentAvailable=$scope["totals"+modelId].available,totalAvailable=$scope["total"+parentId].totalAvailable;currentAvailable++,totalAvailable++,$scope["totals"+modelId]={available:currentAvailable},$scope["total"+parentId]={totalAvailable:totalAvailable}},$scope.makeAjaxCall=function(ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){response.data.success?($scope.ajaxErrorHeader="",callbackFn&&callbackFn(response)):($scope.ajaxErrorHeader=data.origin,$scope.ajaxErrorMessage=response.data.error)})}}]);var voucherCodesModule=angular.module("voucherCodesModule",[]);angular.module("voucherCodesModule").controller("voucherCodesCtrl",["$scope","postService","$http",function($scope,postService,$http){$scope.getVoucherData=function(ajaxURL){$http.get(ajaxURL).success(function(data){$scope.voucherResults=data})},$scope.setCouponList=function(url){$scope.getVoucherData(url)},$scope.sendVoucher=function(value,url){var ajaxURL=url+value,data={};data.value=value,data.origin="Send voucher",$scope.makeAjaxCall(ajaxURL,data)},$scope.makeAjaxCall=function(ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){response.data.success?($scope.ajaxErrorHeader="",callbackFn&&callbackFn(response)):($scope.ajaxErrorHeader=data.origin,$scope.ajaxErrorMessage=response.data.error)})}}]),angular.module("welcomeModule",[]),angular.module("welcomeModule").controller("welcomeCtrl",["$scope","postService",function($scope,postService){$scope.closeWelcomeMessage=function(event){var ajaxURL=$(event.currentTarget).attr("data-path"),callback=$scope.removeWelcome;$scope.makeAjaxCall(ajaxURL,callback)},$scope.makeAjaxCall=function(ajaxURL,callback){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,"",options).then(function(response){$scope.removeWelcome()})},$scope.removeWelcome=function(){$scope.showWelcome=!1}}]),angular.module("manageLeadsModule",[]),angular.module("manageLeadsModule").controller("manageLeadsCtrl",["$scope","postService",function($scope,postService){$scope.leadResults=leadjson,$scope.ajaxErrorHeader="",$scope.removeLead=function(event,index,coreProductStatusId,staffNo){var data={};data.coreProductStatusId=coreProductStatusId,data.staffNo=staffNo,data.origin="Remove Lead";var ajaxURL=$(event.currentTarget).attr("data-path"),callback=$scope.removeLeadsFromList;$scope.makeAjaxCall(index,ajaxURL,data,callback)},$scope.makeAjaxCall=function(index,ajaxURL,data,callbackFn){var options={};options.token=$scope.serverToken,options.header=$scope.serverHeader,postService.postData(ajaxURL,data,options).then(function(response){response.data="true",$scope.removeLeadsFromList(index)})},$scope.removeLeadsFromList=function(index){$scope.leadResults.splice(index,1)}}]),angular.module("platformModule",[]),function(angular){"use strict";angular.module("platformModule").service("platformService",["$window","$log",function($window,$log){var platform=$window.navigator.platform,ua=$window.navigator.userAgent,m=$window.location.search.match(/platform=(\w+)/);m&&(platform=m[1]),$log.log('platform="%s", ua="%s"',platform,ua);var browser,version,os,osversion,mobile=!1;/MSIE/.test(ua)?(browser="Internet Explorer",/IEMobile/.test(ua)&&(mobile=!0),version=/MSIE \d+[.]\d+/.exec(ua)[0].split(" ")[1]):/Chrome/.test(ua)?(/CrOS/.test(ua)&&(platform="CrOS"),browser="Chrome",version=/Chrome\/[\d\.]+/.exec(ua)[0].split("/")[1]):/Opera/.test(ua)?(browser="Opera",(/mini/.test(ua)||/Mobile/.test(ua))&&(mobile=!0)):/Android/.test(ua)?(browser="Android Webkit Browser",os={id:"android",name:/Android\s[\.\d]+/.exec(ua)[0],mobile:!0}):/Firefox/.test(ua)?(browser="Firefox",/Fennec/.test(ua)&&(mobile=!0),version=/Firefox\/[\.\d]+/.exec(ua)[0].split("/")[1]):/Safari/.test(ua)&&(browser="Safari",(/iPhone/.test(ua)||/iPad/.test(ua)||/iPod/.test(ua))&&(os={id:"ios",name:"iOS",mobile:!0})),version||(version=/Version\/[\.\d]+/.exec(ua),version=version?version[0].split("/")[1]:/Opera\/[\.\d]+/.exec(ua)[0].split("/")[1]),"MacIntel"===platform||"MacPPC"===platform?(os={id:"osx",name:"Mac OS X"},os.version=/10[\.\_\d]+/.exec(ua)[0],/[\_]/.test(os.version)&&(os.version=os.version.split("_").join("."))):"CrOS"===platform?os={
id:"chrome",name:"ChromeOS"}:"Win32"===platform||"Win64"==platform?os={id:"windows",name:"Windows"}:!os&&/Android/.test(ua)?os={id:"android",name:"Android",mobile:!0}:!os&&/Linux/.test(platform)?os={id:"linux",name:"Linux"}:!os&&/Windows/.test(ua)&&(os={id:"windows",name:"Windows"});var res={browser:{name:browser,version:version},os:angular.extend({mobile:!1,version:osversion},os)};return $log.log(res),res}])}(angular),function(angular){"use strict";angular.module("platformModule").value("platformTabNames",{windows:"Windows",osx:"MAC OS",android:"ANDROID",ios:"iOS"}).directive("platformTabs",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{ngModel:"=?"},templateUrl:SaaS.location+"/docroot/assets/partials/platform-tabs.html",controller:function($scope,$element,platformService){var panes=$scope.panes=[];$scope.select=function(pane){angular.forEach(panes,function(pane){pane.selected=!1}),pane.selected=!0,console.dir(pane),$scope.ngModel=pane.platform},this.addPane=function(pane){console.log('add pane: platform=%s, name="%s"',pane.platform,pane.name),0!==panes.length&&pane.platform!==platformService.os.id||$scope.select(pane),panes.push(pane)}}}}).directive("platformTab",["platformTabNames",function(platformTabNames){return{restrict:"EA",require:"^platformTabs",replace:!0,transclude:!0,scope:{platform:"@"},template:'<div id="{{id}}" class="platform-tab" ng-show="selected" ng-transclude></div>',link:function(scope,element,attrs,platformTabsController){platformTabNames[scope.platform]&&(scope.name=platformTabNames[scope.platform],platformTabsController.addPane(scope))}}}])}(angular),$(document).ready(function(){angular.bootstrap(document,["saas"]),$(".resetPassword").on("click",function(){var newurl=($(this).data("userid"),$(this).data("uri"));$.ajax({url:newurl,type:"GET",dataType:"json",success:function(data){$(".success").html('<h2 style="text-transform: none"> New Password:  '+data.password+"</h2>")}})}),navigator.userAgent.match(/Android|iPhone|iPod|BlackBerry|Windows Phone/i)&&$("#myAccount").on("click",function(){return $("#menu-rollover").toggle(),!1}),$("form#captureBasicInfo").submit(function(event){$(".capture-details-page-nextbutton").attr("disabled",!0)}),$("#tracking-login").click(function(){return ga("send","event","button","login button","login button"),!0}),$("#forgotten-password").on("click",function(){return ga("send","event","link","forgotten password","forgotten password"),!0}),$("#tracking-register").on("click",function(){return ga("send","event","link","register","register"),!0}),$("#tracking-set-up-one").on("click",function(){return ga("send","event","link","set one up","set one up"),!0}),$("#reset-password").click(function(){return ga("send","event","button","Reset password","Reset password"),!0}),$(".cancel-password-reset").click(function(){return ga("send","event","link","Cancel Reset password","Cancel Reset password"),!0}),$(".reset-password-help").click(function(){return ga("send","event","link","Reset password Help","Reset password Help"),!0}),$(".tracking_launch").on("click",function(){var name=$(this).data("name");return ga("send","event","link",name,name),!0}),$(".tracking_upgrade").on("click",function(){var name=$(this).data("name");return ga("send","event","link",name,name),!0}),$(".tracking_quick_tips").on("click",function(){var name=$(this).data("name");return ga("send","event","link",name,name),!0}),$("#tracking_home_video").on("click",function(){var name=$(this).data("name");return ga("send","event","link",name,name),!0}),$(".tracking_product_video").on("click",function(){var name=$(this).data("name");return ga("send","event","link",name,"intro video"),!0}),$("#marketingEmail").on("click",function(){return ga("send","event","link","Marketing Email","opt in email"),!0}),$("#marketingPhone").on("click",function(){return ga("send","event","link","Marketing Phone","opt in phone"),!0}),$("#personal-details-page-nextbutton").on("click",function(){return ga("send","event","link","Next Button","User clicks next on Personal Details page"),!0}),$("#personal-details-page-cancelbutton").on("click",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Personal Details page"),!0}),$(".capture-details-page-nextbutton").on("click",function(){return ga("send","event","link","Next Button","User clicks next on Capture Details page"),!0}),$(".capture-details-page-cancelbutton").on("click",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Capture Details page"),!0}),$(".capture-details-page-nextbutton").on("click",function(){return ga("send","event","link","Next Button","User clicks next on Capture Details page"),!0}),$(".capture-details-page-cancelbutton").on("click",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Capture Details page"),!0}),$(".ee-agent").on("click",function(){return ga("send","event","link","EE Agent","user clicks EE Agent? In order to enter their EE  agent reference if available"),!0}),$(".proceed-button").on("click",function(){return ga("send","event","link","Proceed","user clicks Proceed button"),!0}),$("#payOptions1").on("click",function(){return $(this).is(":checked")?(ga("send","event","link","Pay by credit/debit card","Pay by credit/debit card"),!0):void 0}),$("#payOptions2").on("click",function(){return $(this).is(":checked")?(ga("send","event","link","Pay by Direct Debit","Pay by Direct Debit"),!0):void 0}),$("#find-address-cc").on("click",function(){return ga("send","event","link",name,"Apply voucher button clicked on purchase summary"),!0}),$(".apply-voucher-purchase-summary").on("click",function(){var name=$(this).data("productname");return ga("send","event","link",name,"Apply voucher button clicked on purchase summary"),!0}),$(".change-button-purchase-summary").on("click",function(){return ga("send","event","link","Confirm and Pay","Confirm and Pay button"),!0}),$("confirm-and-pay").on("click",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Capture Details page"),!0}),$("#capture-details-page-cancelbutton").on("click",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Capture Details page"),!0}),$(".print-button").on("click",function(){return ga("send","event","link","Print Button","Print button"),!0}),$(".cancel-button").on("click",function(){return ga("send","event","link","Cancel ","Cancel"),!0}),$(".proceed-button").on("click",function(){return ga("send","event","link","Procceed ","Procceed"),!0}),$(document).on("click",".cancelSubscription",function(){var name=$(this).data("productname");return ga("send","event","link",name,"cancel subscription"),!0}),$(document).on("click",".yesCancelSubscription",function(){var name=$(this).data("productname");return ga("send","event","link",name,"yes permenantly cancel subscription"),!0}),$(document).on("click",".noCancelSubscription",function(){var name=$(this).data("productname");return ga("send","event","link",name,"no, keep subscription"),!0}),$("#editDetails").on("click",function(){return ga("send","event","link","edit details","Billing info page edit detils button clicked"),!0}),$(".pay-by-direct-debit-billinginfo").on("click",function(){return ga("send","event","link","edit details","Billing info page"),!0}),$(".find-address-billing-info").on("click",function(){return ga("send","event","link","Find Address","for Credit Card in Billing info page"),!0}),$(".find-address-billing-info-DD").on("click",function(){return ga("send","event","link","find Address","for Direct Debit in Billing info page"),!0}),$("#payOptions2").on("click",function(){return ga("send","event","link","edit details","edit details"),!0}),$("#findAddress").on("click",function(){return ga("send","event","link","edit details","edit details"),!0}),$(".tracking-marketplace-product-logo").on("click",function(){var name=$(this).data("productname");return ga("send","event","link",name,"user clicks on the logo"),!0}),$(".tracking-more-info").on("click",function(){var name=$(this).data("trackingname");return ga("send","event","link",name,"more info"),!0}),$(".tracking-marketplace-product-video").on("click",function(){var name=$(this).data("videoname");return ga("send","event","link",name,"play video"),!0}),$(".buy_now").on("click",function(){var name=$(this).data("productname");return ga("send","event","link",name,"buy now button clicked from marketplace"),!0}),$(".findout-more").on("click",function(){var name=$(this).data("productname");return ga("send","event","link",name,"find out more link clicked from marketplace"),!0}),$(document).on("click",".tracking-products-details",function(){$(this).data("tabnameheading")}),$(".apply-voucher").on("click",function(){var name=$(this).data("productname");return ga("send","event","link",name,"voucher apply button clicked"),!0}),$(".singleproduct-continue").on("click",function(){var name=$(this).data("productname");return ga("send","event","link",name,"user clicks Continue for "+name),!0}),$("#mozydownloadwindows").on("click",function(){return ga("send","event","link","edit details","edit details"),!0}),$("#mozydownloadmac").on("click",function(){return ga("send","event","link","edit details","edit details"),!0}),$("#mozydownloadandroid").on("click",function(){return ga("send","event","link","edit details","edit details"),!0}),$("#mozydownloadios").on("click",function(){return ga("send","event","link","edit details","edit details"),!0}),$(document).on("click","#telesales_capture-details-page-nextbutton",function(){return ga("send","event","link","Next Button","User clicks next on Telesales capture details page"),!0}),$(document).on("click","#telesales_capture-details-page-cancelbutton",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Telesales capture details page"),!0}),$(document).on("click","#telesales_capture-details2-page-nextbutton",function(){return ga("send","event","link","Next Button","User clicks next on Telesales capture details2 page"),!0}),$(document).on("click","#telesales_capture-details2-page-cancelbutton",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Telesales capture details2 page"),!0}),$("#capture-details-page-nextbutton").on("click",function(){return ga("send","event","link","Next Button","User clicks next on Capture Details page"),!0}),$("#capture-details-page-cancelbutton").on("click",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Capture Details page"),!0}),$("#capture-details-page-cancelbutton").on("click",function(){return ga("send","event","link","Cancel Button","User clicks cancel on Capture Details page"),!0}),$(document).on("click","#telesales-validate-button",function(){return ga("send","event","link","Validate Button","User clicks Find address button"),!0}),$(document).on("click","#telesales-find-address",function(){return ga("send","event","link","Find Address","Find Address"),!0}),$(document).on("click","#telesales-enter-manually-address",function(){return ga("send","event","link","Enter manually button","User clicks Enter manually button"),!0}),$(document).on("click","#dd-proceed-telesales",function(){return ga("send","event","link","Proceed Button","user clicks Proceed"),!0}),$(document).on("click","#dd-proceed",function(){return ga("send","event","link","Proceed Button","user clicks Proceed"),!0}),$(document).on("click","#telesales-payemnt-page-cancel",function(){return ga("send","event","link","Cancel button","User clicks Cancel button on Telesales payment page"),!0}),$(document).on("click",".change-button-purchase-summary",function(){return ga("send","event","link","Change","User clicks Change button on Telesales Purchase Summary Page"),!0}),$(document).on("click",".confirm-and-pay",function(){return ga("send","event","link","Confirm and Pay","User clicks Confirm and Pay on Telesales Purchase Summary Page"),!0}),$(document).on("click",".go-to-buy-try-apps",function(){return ga("send","event","link","Go to buy & try apps","User clicks Go to buy & try apps button on Telesales Purchase Confirmation"),!0}),$(document).on("click",".enter-payment-details",function(){return ga("send","event","link","Enter Payment Details","User clicks Enter Payment Details"),!0}),$(document).on("click","#assignToUser",function(){return ga("send","event","link","Assign licence to yourself","User click on the Assign licence to yourself checkbox"),!0})});
//# sourceMappingURL=main.min.js.map